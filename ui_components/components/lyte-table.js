function resizeTable(t){for(var e=document.body.querySelectorAll("lyte-table[lyte-rendered]"),i=0;i<e.length;i++){var l=e[i].component;l.resetScrollbar.call(l,t)}}Lyte.Component.register("lyte-table",{_template:'<template tag-name="lyte-table">\n\t<div class="lyteTableScroll">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t<lyte-table-structure id="{{ltPropId}}" class="{{ltPropClass}}">\n\t\t   <template is="if" value="{{ltPropHeaderLabelKey}}"><template case="true">\n\t\t\t   <lyte-colgroup>\n\t\t\t\t   <template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t<lyte-col></lyte-col>\n\t\t\t\t\t</template> \n\t\t\t\t</lyte-colgroup>\t\n\t\t\t\t<lyte-thead>\n\t\t\t\t\t<lyte-tr>\n\t\t\t\t\t   <template is="if" value="{{ltPropHeader.length}}"><template case="true"><template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t<lyte-th id="{{list.id}}" class="{{list.class}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t{{unescape(list[ltPropHeaderLabelKey])}}\n\t\t\t\t\t\t</lyte-th>\n\t\t\t\t\t\t\t</template></template></template>\t\n\t\t\t\t\t</lyte-tr>\n\t\t\t\t</lyte-thead>\n\t\t\t</template></template>\t\n\t\t\t<lyte-tbody>\n\t\t\t\t<template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t <lyte-tr id="{{list.body.id}}" class="{{list.body.class}}">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t\t<lyte-td>\n\t\t\t\t\t\t\t\t\t<div style="height: {{ltPropCellHeight}}">\n\t\t\t\t\t\t\t\t\t\t{{unescape(lyteUiGetValue(list.body,header[ltPropBodyLabelKey]))}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</lyte-td>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t \t</lyte-tr>\n\t\t\t\t\t</template>\n\t\t\t\t</template><template case="false">\n\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t <lyte-tr id="{{list.id}}" class="{{list.class}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t<lyte-td>{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t \t</lyte-tr>\n\t\t\t\t</template>\n\t\t\t\t</template></template>\n\t\t    </lyte-tbody> \n\t\t    <template is="if" value="{{expHandlers(ltPropResize.vertical,\'||\',ltPropResize.horizontal)}}"><template case="true">\n\t\t    \t<lyte-table-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-resize>\n\t\t    \t<template is="if" value="{{ltPropResize.vertical}}"><template case="true">\n\t\t    \t\t<lyte-table-vertical-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-vertical-resize>\n\t\t    \t</template></template><template is="if" value="{{ltPropResize.horizontal}}"><template case="true">\n\t\t    \t\t<lyte-table-horizontal-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-horizontal-resize>\n\t\t    \t</template></template></template></template>\t\n\t</lyte-table-structure>\n\t</template><template case="false"><template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t<lyte-yield yield-name="yield" lt-prop-data="{{ltPropData}}"></lyte-yield>\n\t</template><template case="false">\n\t <lyte-yield yield-name="yield"></lyte-yield>\n\t </template></template></template></template>\n</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height: '","ltPropCellHeight"]}}}},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropContent","ltPropHeader","ltPropId","ltPropClass","ltPropBorder","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropWidth","ltPropHeight","ltPropResize","ltPropFixedColumnClass","ltPropYield","ltPropScroll","ltPropColumnSortable","ltPropScrollbarOption","ltPropDualResize","ltPropData","ltPropInfiniteScroll","ltPropCellHeight","ltPropContentLength","ltPropPreventScrollbar","columns","nonFixedColumn","minWidth1","minWidth2","secondaryData","boundary","rowHeights"],init:function(){var t=navigator.userAgent;this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._browser=this.isIE11Lyte||this.isEdgeLyte||t.match("Safari")&&!t.match("Chrome"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.scrollTable=function(t,e){this.scrollDiv||(this.scrollDiv=this.$node.querySelector("div.lyteTableScroll")),void 0!=t&&(this.scrollDiv.scrollTop=e),void 0!=e&&(this.scrollDiv.scrollLeft=t);var i=new Event("scroll",{bubbles:!0});i._byFunc=!0,this.scrollDiv.dispatchEvent(i)}.bind(this),document._tableResize||(document._tableResize=!0,window.addEventListener("resize",resizeTable,!0)),this.$node.toggleRows=function(t){$L.fastdom.mutate(function(){for(var e=this.$node.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll"),i=0;i<e.length;i++)t?e[i].classList.remove("lyteHidden"):e[i].classList.add("lyteHidden")}.bind(this))}.bind(this)},rtlfunc:function(t,e,i){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?i-e.left:"clientX"==t?i-e.clientX:i-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},didDestroy:function(){0==document.body.querySelectorAll("lyte-table[lyte-rendered]").length&&document._tableResize&&(window.removeEventListener("resize",resizeTable,!0),delete document._tableResize),delete this.scrollDiv,delete this._dummy,delete this._dummy1,delete this.resizeComponent,delete this.targetElem,delete this.$node.setValue,delete this.$node.scrollTable},initProcess1:function(t){if(!this._prevent&&this.data.ltPropInfiniteScroll){var e=this.$node.querySelector("lyte-table-structure"),i=this.data.ltPropContent,l=Math.min(this.data.ltPropContentLength||i.length,i.length),o=[];if(0==i.length&&!t)return;e&&(e.style.height="auto");for(var s=0;s<l;s++)o[s]={body:i[s],checked:!1,index:s};this.setData("ltPropData",o),t&&this._dummy&&(this._dummy.style.height=0,this._dummy.style.transform="translateY(0px)"),t&&this._dummy1&&(this._dummy1.style.transform="translateY(0px)"),delete this._stopScroll,t&&this.scrollDiv&&(this.scrollDiv.scrollTop=0,this.scrollDiv.scrollLeft=0),this._top=0,this._bottom=Math.max(l-1,0),this._boundary={top:0,bottom:l-1}}}.observes("ltPropContent").on("init"),didConnect:function(){var t=this.data.ltPropInfiniteScroll,e=(this.data.secondaryData,this.data.ltPropResize);this.data.ltPropYield&&(e.vertical||e.horizontal)&&this.resizeComponentAppend.call(this);try{var i=this.$node.querySelector("div.lyteTableScroll");if(this.scrollDiv=i,i.comp=this,this.data.ltPropPreventScrollbar)this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node);else{$L(i).scroll(this.data.ltPropScrollbarOption);var l,o=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY"),s=this.$node.querySelector("lyte-th");$L.fastdom.measure(function(){var t=this._dir;s&&o&&0==o.offsetTop&&(l=s.getBoundingClientRect().height,$L.fastdom.mutate(function(){o.style.top=l+"px",t&&this.$node.classList.add("lyteRTL")}.bind(this))),$L.fastdom.mutate(function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this))}}catch(t){}t&&(this.$node.classList.add("infinitescroll"),i._infiniteScroll=!0,this.$node.setValue=function(t){this._stopScroll&&this.appendAddData1.call(this,t)}.bind(this))},columnWidth:function(t,e,i){var l=0;for(i||(i=0);i<e;i++)l+=t[i].property.width;return l},heightCalc:function(t,e,i){for(var l=0,o=e;o>0&&!(i<(l+=t[o]));o--);return[l,o]},topElem:function(t){if(this.isIE11Lyte||this.isEdgeLyte){var e=t.querySelector("lyte-td");return e?e.getBoundingClientRect():{}}return t.getBoundingClientRect()},cellSet:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte){var i=t.querySelectorAll("lyte-td");if(!e&&i.length)return i[0].style.transform;for(var l=0;l<i.length;l++)i[l].style.transform=e}else{if(!e)return t.style.transform;t.style.transform=e}},scrollTable:function(t,e){var i=t.yScroll,l=this.getData("ltPropData"),o=this.getData("ltPropContent"),s=this.scrollDiv,r=e.tbodyClient,n=e.$nodeClient,a=this.$node.querySelector("lyte-table-structure"),d=this.$node.querySelector("lyte-th"),h=e.neglected,c=e.compNeg;d=d?d.property?d.property.height:d.getBoundingClientRect().height:0;var p=e.topElem,y=e.topElemClient;if(-1==a.style.height.indexOf("px")&&(a.style.height=r.height+"px",this._rowHgt=parseInt(10*y.height)/10,this._step=parseInt(10*(r.height-this._rowHgt*h.length))/10),!this._dummy){var m=e.tbody,u=document.createElement("lyte-tr");if(u.classList.add("dummy"),m.appendChild(u),u.setAttribute("style","transform:translateY(0px);height:0px"),this._dummy=u,this._browser){var f=document.createElement("div");f.classList.add("dummy"),this.scrollDiv.appendChild(f),f.setAttribute("style","transform:translateY(0px);height:5px"),this._dummy1=f}}if(void 0==i&&!s.classList.contains("eventBinded")){var b=parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0]);i=s.scrollTop>b?1:-1}if(i>0){if(parseFloat(n.top+d)>=parseFloat(y.bottom))if(this._boundary.bottom<=o.length-2){var g=Math.max(parseInt((n.top+d-y.bottom)/this._rowHgt),1);this._boundary.bottom+g>o.length-1&&(g=o.length-1-this._boundary.bottom);for(var v=0;v<g;v++){if(this._boundary.bottom+=1,v>=g-l.length&&(Lyte.Component.set(l[this._top],{body:o[this._boundary.bottom],index:this._boundary.bottom}),p.dataOrder=this._boundary.bottom),this._boundary.top=this._boundary.bottom-l.length+1,this.cellSet(p)?this.regex(p):this.cellSet(p,"translateY("+this._step+"px)"),this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)",this._dummy.style.height=Math.max(parseFloat(this._dummy.style.height)-this._rowHgt,0)+"px",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)"),this._bottom=this._top,this._top=(this._top+1)%l.length,this._boundary.bottom>=o.length){this._boundary.bottom=o.length-1,this._top=(this._top+1)%l.length;break}p=this.nthoftype.call(this,this._top+c.length,!0)}}else this.scrollEndMethod1()}else if(i<0){var L=e.bottmElem,_=e.bottmElemClient;if(n.bottom<=_.top){var x=this.cellSet(L).match(/[\d|.]+/gi);if(!x||x&&"0"==x[0])return;g=parseInt(Math.max(parseFloat((_.top-n.bottom)/this._rowHgt),0));var P=Math.max(g-1-this._boundary.top,0);for(v=g-1;v>=0&&0!=g&&0!=this._boundary.top;v--){if(this._boundary.top-=1,v<=l.length-1+P&&(Lyte.Component.set(l[this._bottom],{body:o[this._boundary.top],index:this._boundary.top}),L.dataOrder=this._boundary.top),this._boundary.bottom=this._boundary.top+l.length-1,this.cellSet(L)&&this.regex(L,!0),this._dummy.style.height=parseFloat(this._dummy.style.height)+this._rowHgt+"px",this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)"),this._top=this._bottom,this._bottom=(l.length+this._bottom-1)%l.length,-1==this._boundary.top){this._boundary.top=0,this._boundary.bottom=this._boundary.top+l.length-1;break}L=this.nthoftype.call(this,this._bottom+c.length,!0)}}}},regex:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte)for(var i=t.querySelectorAll("lyte-td"),l=0;l<i.length;l++)this.regex1(i[l],e);else this.regex1(t,e)},regex1:function(t,e){t.style.transform=e?t.style.transform.replace(/[\d|.]+/gi,function(){return Math.max(parseFloat(arguments[0])-this._step,0).toFixed(3)}.bind(this)):t.style.transform.replace(/[\d|.]+/gi,function(){return(parseFloat(arguments[0])+this._step).toFixed(3)}.bind(this))},scrollEndMethod1:function(){this._stopScroll||(this._stopScroll=!0,this.getMethods("scrollEnd")&&this.appendAddData1(this.executeMethod("scrollEnd")))},appendAddData1:function(t){t&&(t.then?Promise.resolve(t).then(function(t){t&&this.apd1.call(this,t)}.bind(this),function(){}.bind(this)):this.apd1.call(this,t))},apd1:function(t){var e=this.data.ltPropContent;this.data.ltPropData;this._prevent=!0,t.constructor==Array?Lyte.arrayUtils(e,"concat",t):t.constructor==Object&&Lyte.arrayUtils(e,"push",t),delete this._prevent,delete this._stopScroll},nthoftype:function(t,e){var i=[],l=this.$node.querySelectorAll("lyte-tbody lyte-tr");if(e)return l[t];for(var o=0;o<l.length;o++)l[o].classList.contains("dummy")||i.push(l[o].querySelectorAll("lyte-td")[t]);return i},scroll:function(t){var e=this.comp,i=this._wheelObj||{bcr:{}};this._scrollLeft=void 0!=i.scrollLeft?i.scrollLeft:this.scrollLeft,this._scrollTop=void 0!=i.scrollTop?i.scrollTop:this.scrollTop;var l=this._direction;if(e.scrollCheck.call(this,t,i),0==this._scrollLeft&&"rtl"!=l&&e.getData("ltPropInfiniteScroll")){var o=e.getData("columns");Lyte.arrayUtils(o,"remove",0,o.length);var s=this.querySelectorAll(".lyteTableFixed");if(s.length)for(var r=0;r<s.length;r++)s[r].style.left="0px",s[r].classList.remove("lyteTableFixed")}e.data.ltPropInfiniteScroll&&e.scrollTable.call(e,t,i),delete this._scrollLeft,delete this._scrollTop},scrollCheck:function(t,e){this.querySelector("lyte-table-structure");var i=this._scrollTop,l=this._scrollLeft,o=this.parentElement.component.getData("ltPropScroll"),s=this._direction;if((i!=this.prevScollTop||t._byFunc)&&o.vertical){var r=this.querySelectorAll("lyte-th");if(r.length){for(var n=0;n<r.length;n++)r[n].classList.add("tableRowFixed"),r[n].style.top=i+"px";if(!i)for(n=0;n<r.length;n++)r[n].classList.remove("tableRowFixed")}}if((l!=this.prevScollLeft||t._byFunc)&&o.horizontal){var a=this.parentElement.component,d=a.data.columns,h=this.querySelectorAll("lyte-thead lyte-tr, lyte-thead .lyteRowCopy"),c=[],p=[],y=a.data.ltPropFixedColumnClass||"";h.length&&(c=h[0].querySelectorAll("lyte-th"),p=h[0].querySelectorAll("lyte-th.lyteFixedColumn"));for(n=d.length;n<p.length;n++)if(p[n].property.right+a.columnWidth.call(a,p,n)>e.scrollDivClient.right&&"rtl"==s||p[n].property.left<e.scrollDivClient.left+a.columnWidth.call(a,p,n)&&"rtl"!=s){p[n].property.width;var m=p[n].order;if(m+1<c.length){p[n].classList.add("lyteTableFixed"),d.push(p[n]);for(var u=1;u<h.length;u++){(E=h[u].querySelectorAll("lyte-th")[m])&&E.classList.add("lyteTableFixed")}for(var f=a.isIE11Lyte?a.nthoftype.call(a,m):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(m+1)+")"),b=0;b<f.length;b++)f[b].classList.add("lyteTableFixed"),y&&f[b].classList.add(y)}}for(var g=d.length-1;g>=0&&(_=d.length-1,0==l&&(!window.chrome||"rtl"!=s)||(parseFloat((c[d[_].order+1].property.right+d[_].property.width+a.columnWidth.call(a,d,d.length-1)).toFixed(2))<parseFloat(e.scrollDivClient.right.toFixed(2))||c[d[_].order+1].property.right+2<d[_].property.left)&&"rtl"==s||c[d[_].order+1].property.left>=e.scrollDivClient.left+d[_].property.width+a.columnWidth.call(a,d,d.length-1)&&d[_].property.left>=e.scrollDivClient.left+a.columnWidth.call(a,p,d.length-1)&&"rtl"!=s);g--){c[d[_].order].classList.remove("lyteTableFixed"),d[_].style.removeProperty("left");for(u=1;u<h.length;u++){(E=h[u].querySelectorAll("lyte-th")[d[_].order])&&(E.classList.remove("lyteTableFixed"),E.style.removeProperty("left"))}for(var v=a.isIE11Lyte?a.nthoftype.call(a,d[_].order):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d[_].order+1)+")"),L=0;L<v.length;L++)v[L].style.removeProperty("left"),v[L].classList.remove("lyteTableFixed"),y&&v[L].classList.remove(y);Lyte.arrayUtils(d,"removeAt",_)}for(var _=0;_<d.length;_++){var x,P=a.isIE11Lyte?a.nthoftype.call(a,d[_].order):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d[_].order+1)+")"),S=navigator.userAgent.toLowerCase();x=0==_?"rtl"==s?-1!=S.indexOf("firefox")||-1!=S.indexOf("safari")&&-1==S.indexOf("chrome")&&-1==S.indexOf("chromium")?l-a.columnWidth.call(a,c,d[_].order,0):-1!=S.indexOf("edge")||-1!=S.indexOf("trident")||-1!=S.indexOf("msie")?-l-a.columnWidth.call(a,c,d[_].order,0):l-1-e.scrollWidth+e.scrollDivClient.width+a.columnWidth.call(a,c,d[_].order,0):l-a.columnWidth.call(a,c,d[_].order,0):"rtl"==s?(-1!=S.indexOf("firefox")||-1!=S.indexOf("safari")&&-1==S.indexOf("chrome")&&S.indexOf("chromium"),parseInt(d[_-1].style.left)+a.columnWidth.call(a,c,d[_].order,d[_-1].order+1)):parseInt(d[_-1].style.left)-a.columnWidth.call(a,c,d[_].order,d[_-1].order+1);for(var w=0;w<P.length;w++)P[w].classList.add("lyteTableFixed"),P[w].style.left=x+"px";d[_].style.left=x+"px";for(u=1;u<h.length;u++){var E;(E=h[u].querySelectorAll("lyte-th")[d[_].order])&&(E.classList.add("lyteTableFixed"),E.style.left=x+"px")}}}this.prevScollLeft=l,this.prevScollTop=i},borderChangeObs:function(){this.borderChange.call(this)}.observes("ltPropBorder").on("didConnect"),borderChange:function(){this.data.ltPropBorder?this.$node.classList.add("border"):this.$node.classList.remove("border")},widthObsObs:function(){this.widthObs.call(this)}.observes("ltPropWidth").on("didConnect"),widthObs:function(){this.$node.querySelector("lyte-table-structure").style.width=this.data.ltPropWidth},heightObsObs:function(){this.heightObs.call(this)}.observes("ltPropHeight").on("didConnect"),heightObs:function(){this.$node.querySelector("lyte-table-structure").style.height=this.data.ltPropHeight},sortableObs:function(){this.sortable.call(this)}.observes("ltPropColumnSortable").on("didConnect"),sortable:function(){var t=this.$node.querySelector("lyte-thead");t&&(this.data.ltPropColumnSortable?(this.colSort=this.sortableColumns.bind(this),t.addEventListener("mousedown",this.colSort),t.parentElement.classList.add("sortableTable")):(t.removeEventListener("mousedown",this.colSort),t.parentElement.classList.remove("sortableTable")))},composePath:function(t){for(var e=[],i=t.target.correspondingElement||t.target;i&&"HTML"!=i.tagName;)e.push(i),i=i.parentNode;return e},sortableColumns:function(t){var e,i=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),"lyte-th:not(.lyteTableFixed)");i&&this.$node.contains(i)&&(this.getMethods("onBeforeSelect")&&(e=this.executeMethod("onBeforeSelect",i,t,this.$node)),0!=e&&(this._ww=window.innerWidth,this.mousemove=this.sortableMouseMove.bind(this),this.offLeft=this.rtlfunc.call(this,"clientX",t,this._ww)-this.rtlfunc.call(this,"left",i.getBoundingClientRect(),this._ww),this.colHead=i,this._thisBccr=this.$node.getBoundingClientRect(),i.classList.add("sortSelect"),document.documentElement.addEventListener("mousemove",this.mousemove),this.mouseup=this.sortableMouseup.bind(this),document.documentElement.addEventListener("mouseup",this.mouseup),this.flag=!0,t.preventDefault(),this.getMethods("onSelect")&&this.executeMethod("onSelect",i,t,this.$node)))},horiScroll:function(t,e){var i=this.rtlfunc.call(this,"left"),l=this.isIE11Lyte||this.isEdgeLyte;parseFloat(t.style[i])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1?(this.scrollDiv.scrollLeft+=10*(this._dir?-1*(l?-1:1):1),this._reqId=window.requestAnimationFrame(function(){this.horiScroll(t,e)}.bind(this))):parseFloat(t.style[i])-this._xxoff<=this.rtlfunc("left",this._thisBccr,e)+1?(this.scrollDiv.scrollLeft-=10*(this._dir?-1*(l?-1:1):1),this._reqId=window.requestAnimationFrame(function(){this.horiScroll(t,e)}.bind(this))):(window.cancelAnimationFrame(this._reqId),delete this._prevent)},sortableMouseMove:function(t){if(this.flag&&void 0==this._timeout){var e,i=this.colHead.getBoundingClientRect(),l=document.createElement("div");l.classList.add("lyteTableSortHelper"),l.innerHTML=this.colHead.innerText,this._xxoff=e=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1);var o=window.pageYOffset||document.documentElement.scrollTop;l.style.height=i.height+"px",l.style.width=i.width+"px",l.style[this.rtlfunc.call(this,"left")]=e+this.rtlfunc.call(this,"left",i,this._ww)+"px",l.style.top=o+i.top+"px",this._timeout=setTimeout(function(){document.body.appendChild(l),this.flag=!1}.bind(this),100)}var s=document.querySelector("div.lyteTableSortHelper");if(s){var r=this._dir?"right":"left",n=window.innerWidth,a=Math.max(Math.min(this.rtlfunc.call(this,"clientX",t,this._ww)-this.offLeft,this.rtlfunc.call(this,"right",this._thisBccr,this._ww)-parseFloat(s.style.width)),this.rtlfunc.call(this,"left",this._thisBccr,this._ww));if(parseFloat(a)>this.rtlfunc("left",this._thisBccr,n)&&parseFloat(a)+parseFloat(s.style.width)<this.rtlfunc("right",this._thisBccr,n)&&(window.cancelAnimationFrame(this._reqId),delete this._prevent,delete this._scrollDir),this._prevent)return;s.style[r]=a+this._xxoff+"px",this._prevent=!0,this.horiScroll(s,n),this.getMethods("onDrag")&&this.executeMethod("onDrag",this.colHead,s,t,this.$node)}t.preventDefault(),t.stopPropagation()},sortableMouseup:function(t){if(this.flag)clearTimeout(this._timeout);else{var e=document.querySelector("div.lyteTableSortHelper"),i=e.getBoundingClientRect(),l=i.left+i.width/2+2,o=i.top+i.height/2,s=this.closestFind.call(this,document.elementsFromPoint?document.elementsFromPoint(l,o):this.elementsFromPointCal.call(this,l,o),"lyte-th:not(.lyteTableFixed)");if(s!=this.colHead&&s){var r,n=this.colHead.parentElement.querySelectorAll("lyte-th"),a=Array.prototype.indexOf.call(n,this.colHead),d=Array.prototype.indexOf.call(n,s),h=this.data.ltPropHeader;if(this.getMethods("onBeforeDrop")&&(r=this.executeMethod("onBeforeDrop",this.colHead,s,a,d,h,t,this.$node)),0!=r){if(h.length){var c=Lyte.arrayUtils(h,"removeAt",a),p=Array.prototype.indexOf.call(s.parentElement.querySelectorAll("lyte-th"),s);Lyte.arrayUtils(h,"insertAt",a<d?p+1:p,c);var y=s.parentElement.querySelectorAll("lyte-th",s.parentElement)[a<d?p+1:p];s.classList.contains("tableRowFixed")&&(y.classList.add("tableRowFixed"),y.style.top=s.style.top)}else{LyteComponent.insertBefore(d>a?s.nextElementSibling:s,this.colHead);for(var m=this.isIE11Lyte?this.nthoftype.call(this,a):this.$node.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(a+1)+")"),u=this.isIE11Lyte?this.nthoftype.call(this,d):this.$node.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d+1)+")"),f=0;f<m.length;f++)LyteComponent.insertBefore(d>a?u[f].nextElementSibling:u[f],m[f])}this.getMethods("onDrop")&&this.executeMethod("onDrop",this.colHead,s,a,d,h,t,this.$node)}}document.body.removeChild(e)}document.documentElement.removeEventListener("mouseup",this.mouseup),document.documentElement.removeEventListener("mousemove",this.mousemove),this.colHead.classList.remove("sortSelect"),window.cancelAnimationFrame(this._reqId),delete this.mouseup,delete this._xxoff,delete this.mousemove,delete this.offLeft,delete this.colHead,delete this.flag,delete this._timeout,delete this._thisBccr,delete this._ww,delete this._reqId,delete this._prevent,delete this._scrollDir,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},elementsFromPointCal:function(t,e){for(var i=[],l=document.elementFromPoint(t,e);l!=document&&l!=document.documentElement&&l!=document.body&&l!=this.$node;)l.style.pointerEvents="none",i.push(l),l=document.elementFromPoint(t,e);for(var o=0;o<i.length;o++)i[o].style.pointerEvents="initial";return i},resizeComponentAppendObs:function(){this.data.ltPropYield&&this.resizeComponentAppend.call(this)}.observes("ltPropResize"),resizeComponentAppend:function(){var t=this.data.ltPropResize,e=this.$node.querySelector("lyte-table-structure"),i=this.$node.querySelector("lyte-table-structure > lyte-table-resize"),l=this.$node.querySelector("lyte-table-structure > lyte-table-vertical-resize"),o=this.$node.querySelector("lyte-table-structure > lyte-table-horizontal-resize");if(t.vertical||t.horizontal){if(!i){var s=document.createElement("lyte-table-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else i&&e.removeChild(i);if(t.vertical){if(!l){s=document.createElement("lyte-table-vertical-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else l&&e.removeChild(l);if(t.horizontal){if(!o){s=document.createElement("lyte-table-horizontal-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else o&&e.removeChild(o)},data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeader:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropBorder:Lyte.attr("boolean",{default:!1}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"100%"}),ltPropResize:Lyte.attr("object",{default:{}}),ltPropFixedColumnClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropScroll:Lyte.attr("object",{default:{horizontal:!0,vertical:!0}}),ltPropColumnSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollbarOption:Lyte.attr("object",{default:{}}),ltPropDualResize:Lyte.attr("boolean",{default:!1}),ltPropData:Lyte.attr("array",{default:[]}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropCellHeight:Lyte.attr("string",{default:"20px"}),ltPropContentLength:Lyte.attr("number"),ltPropPreventScrollbar:Lyte.attr("boolean",{default:!1}),columns:Lyte.attr("array",{default:[]}),nonFixedColumn:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""}),secondaryData:Lyte.attr("array",{default:[]}),boundary:Lyte.attr("object",{default:{}}),rowHeights:Lyte.attr("array",{default:[]})}},actions:{tableResize:function(t){$L.fastdom.measure(function(){var e=t.target.parentElement;e.previousElementSibling;if(document.Component=this,this.resizeComponent=e,this.targetElem=t.target,(e.parentElement.querySelector("lyte-th:last-of-type")!=e||this.data.ltPropDualResize)&&"LYTE-TH"==e.tagName||"LYTE-TH"!=e.tagName){var i=window.innerWidth,l=e.getBoundingClientRect();if(e.offLeft=l.width+this.rtlfunc.call(this,"left",l,i),e.offTop=t.clientY,document.addEventListener("mouseup",this.mouseup),document.addEventListener("mousemove",this.resizeFunc),"LYTE-TH"==e.tagName){var o,s,r,n=this.$node.querySelectorAll("lyte-th"),a=[],d=e.nextElementSibling;$L.fastdom.measure(function(){for(var t=0;t<n.length;t++)n[t].style.width&&e!=n[t]?a.push(null):a.push(n[t].offsetWidth);this.data.ltPropDualResize&&(this.oriTab=this.$node.querySelector("lyte-table-structure"),o=this.oriTab.getBoundingClientRect().width),$L.fastdom.mutate(function(){e.classList.add("resizeSelect"),this.$node.classList.add("resizing");for(var t=0;t<n.length;t++)a[t]&&(n[t].style.width=a[t]+"px");d&&(s=d.style.width),r=e.style.width,$L.fastdom.measure(function(){d&&d.style.removeProperty("width"),this.minWidth.call(this,e,"minWidth1"),d&&(d.style.width=s),this.data.ltPropDualResize||(e.style.removeProperty("width"),this.minWidth.call(this,d,"minWidth2"),e.style.width=r),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&(this.oriTab.style.width=o+"px")}.bind(this))}.bind(this))}.bind(this))}.bind(this))}else{var h=this.$node.querySelector("lyte-table-structure");h.style.width=h.getBoundingClientRect().width+"px",this.$node.classList.add("tableResing")}}}.bind(this)),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}},minWidth:function(t,e){var i=window.getComputedStyle(t,null).getPropertyValue("min-width"),l=t.style.width;t.style.width="0px"==i?"50px":i,i=t.offsetWidth+"px",t.style.width=l,this.setData(e,i)},resetScrollbar:function(t){this.$node.classList.remove("tableResing"),$L.fastdom.measure(function(){var t=this.$node.getBoundingClientRect(),e=this.$node.querySelector("lyte-table-structure").getBoundingClientRect(),i=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),l=window.innerWidth;this.scrollDiv.resetScrollbar&&this.scrollDiv.classList.contains("eventBinded")&&this.scrollDiv.resetScrollbar(!0),$L.fastdom.mutate(function(){var o=this.rtlfunc.call(this,"right",t,l),s=this.rtlfunc.call(this,"right",e,l),r=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY:not(.left)"),n=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerX");r&&(o-s>0?r.style[this.rtlfunc.call(this,"right")]=o-s+i+"px":r.style.removeProperty("right")),n&&(o-s>0?n.style.width=e.width/t.width*100+"%":n.style.removeProperty("width"))}.bind(this))}.bind(this))},mouseup:function(t){var e=document.Component,i=e.resizeComponent;e.resetScrollbar.call(e,t),$L.fastdom.mutate(function(){i.classList.remove("resizeSelect"),e.$node.classList.remove("resizing"),document.removeEventListener("mouseup",e.mouseup),document.removeEventListener("mousemove",e.resizeFunc),delete document.Component,delete e.oriTab,e.getMethods("onResizeEnd")&&$L.fastdom.mutate(function(){e.executeMethod("onResizeEnd",i,e.$node)})}),t.stopPropagation()},resizeFunc:function(t){var e=document.Component,i=e.resizeComponent,l=e.rtlfunc.call(e,"clientX",t,window.innerWidth),o=e.data.ltPropResize,s=l-i.offLeft,r=parseInt(i.style.width);if((o.horizontal||"LYTE-TH"==i.tagName)&&s){var n=s+r;e.getData("tableWidth");if("LYTE-TH"==i.tagName){if(n>Math.ceil(parseFloat(e.getData("minWidth1")))){var a=i.nextElementSibling,d=a.getBoundingClientRect().width-s;!e.data.ltPropDualResize&&d>Math.ceil(parseFloat(e.getData("minWidth2")))?(a.style.width=d+"px",i.style.width=n+"px"):e.data.ltPropDualResize&&(e.oriTab.style.width=parseInt(e.oriTab.style.width)+s+"px",i.style.width=n+"px")}}else if("LYTE-TH"!=i.tagName&&("LYTE-TABLE-HORIZONTAL-RESIZE"==e.targetElem.tagName||"LYTE-TABLE-RESIZE"==e.targetElem.tagName)){var h=i.parentElement;"LYTE-YIELD"==h.tagName&&(h=h.parentElement),i.style.width=n+"px"}i.offLeft=l,delete i.width}!o.vertical||"LYTE-TH"==i.tagName||"LYTE-TABLE-VERTICAL-RESIZE"!=e.targetElem.tagName&&"LYTE-TABLE-RESIZE"!=e.targetElem.tagName||(i.style.height=t.clientY+i.getBoundingClientRect().height-i.offTop+"px",i.offTop=t.clientY),t.preventDefault(),t.stopPropagation()},arrayFrom:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e.slice()},closestFind:function(t,e){for(var i=this.arrayFrom.call(this,document.querySelectorAll(e)),l=0;l<t.length;l++)if(-1!=Array.prototype.indexOf.call(i,t[l]))return t[l];return null}}),Lyte.createCustomElement("lyte-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,i){if("fixed"==t){for(var l=this;"DIV"!=l.tagName;)l=l.parentElement;"enable"==i?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn")}else if("resize"==t){var o;if("enable"==i)(o=document.createElement("lyte-tablehead-resize")).addEventListener("mousedown",this.resize),this.appendChild(o);else(o=this.querySelector("lyte-tablehead-resize"))&&this.removeChild(o)}else"icon"==t&&("disable"==i?this.classList.add("lytePreventIcon"):this.classList.remove("lytePreventIcon"))},resize:function(t){t.target.parentElement;for(var e=t.target;"LYTE-TABLE"!=e.tagName;)e=e.parentElement;e.component.actions.tableResize.call(e.component,t)}});