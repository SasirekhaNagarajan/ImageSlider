Lyte.Component.register("lyte-messagebox",{_template:'<template tag-name="lyte-messagebox">\n\t<template is="if" value="{{ltPropShow}}">\n\t\t<template case="true"><lyte-wormhole style="visibility: hidden" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" on-append="{{method(&quot;afterWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="{{lyteUiMsgBoxConcatClass(ltPropClass,ltPropType,\'MessageIcon\',\'lyteMessageBox\')}}">\n\t\t\t\t\t<template is="if" value="{{ltPropType}}"><template case="true">\n\t\t\t\t\t<span class="lyteMessageBoxSymbol"></span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<span class="lyteMessageBoxContent">\n\t\t\t\t\t\t\t<lyte-yield yield-name="messageboxYield"></lyte-yield>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropMessage,\'\')}}">\n\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t<span class="lyteMessageBoxContent">{{ltPropMessage}}</span>\n\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<span class="lyteMessageBoxClose" onclick="{{action(\'closeMessageBox\')}}"></span>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,5]}]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropMessage","ltPropDuration","ltPropOffset","ltPropTransition","ltPropYield","ltPropClass"],init:function(){},data:function(){return{ltPropType:Lyte.attr("string",{default:"success"}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropMessage:Lyte.attr("string",{default:""}),ltPropDuration:Lyte.attr("string",{default:"2000"}),ltPropOffset:Lyte.attr("object",{default:null}),ltPropTransition:Lyte.attr("object",{default:{animation:"fadeIn",duration:"0.2s"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropClass:Lyte.attr("string",{default:""})}},setDuration:function(){var t=this.$node.ltProp("duration");""!=t&&this.setData("ltPropDuration",t)}.observes("ltPropDuration"),computeOffsetImpl:function(){var t=this.actualMessageDiv,e=t.getBoundingClientRect(),s=Object.assign({},this.$node.ltProp("offset")),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.$node.ltProp("offset")){if("center"===s.left||"center"===s.right||void 0==s.left||""==s.left){var o=(i-e.width)/2;o<0&&(o=20),s.left=o+"px"}if("center"===s.top||"center"===s.bottom){var l=(a-e.height)/2;l<0&&(l=20),s.top=l+"px"}s.right&&"center"!==s.right&&(s.right.indexOf("%")>-1?s.left=i-(e.width+i/parseFloat(s.right))+"px":s.left=i-(e.width+parseFloat(s.right))+"px"),s.bottom&&"center"!==s.bottom&&(s.bottom.indexOf("%")>-1?s.top=a-(e.height+a/parseFloat(s.bottom))+"px":s.top=a-(e.height+parseFloat(s.bottom))+"px"),s.top||(s.top=20),t.style.left=parseFloat(s.left)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top=parseFloat(s.top)+"px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(parseFloat(s.top)+e.height)+"px)")}else{var n;n=(document.body.clientWidth-e.width)/2,t.style.left=parseFloat(n)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top="20px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(e.height+20)+"px)")}},closeMessageBoxFn:function(){this.timeOutId&&(clearTimeout(this.timeOutId),this.timeOutId=!1),delete this.actualMessageDiv,delete this.childComp,this.getMethods("onClose")&&this.executeMethod("onClose",this)},showToggled:function(){if(this.$node.ltProp("show")){var t=parseInt(this.getData("ltPropDuration")),e=this;this.timeOutId=setTimeout(function(){"slideFromTop"!=e.getData("ltPropTransition").animation?(e.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),e.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)):(e.actualMessageDiv.style.transform="",setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)),e.timeOutId=!1},t)}else this.closeMessageBoxFn()}.observes("ltPropShow").on("didConnect"),didDestroy:function(){this.timeOutId&&(clearTimeout(this.timeOutId),"slideFromTop"!=this.getData("ltPropTransition").animation&&this.actualMessageDiv?(this.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),this.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),this.setData("ltPropShow",!1)):(this.actualMessageDiv.style.transform="",this.setData("ltPropShow",!1)),this.timeOutId=!1)},actions:{closeMessageBox:function(){clearTimeout(this.timeOutId);var t=this;"slideFromTop"!=t.getData("ltPropTransition").animation?(t.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),t.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},500)):(t.actualMessageDiv.style.transform="",setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},200))}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualMessageDiv=this.childComp.querySelector(".lyteMessageBox"),this.actualMessageDiv.style.position="fixed"},afterWormholeAppend:function(t){"slideFromTop"==this.getData("ltPropTransition").animation?(this.actualMessageDiv.classList.add("lyteMessageBoxSlideFromTop"),this.computeOffsetImpl()):(this.computeOffsetImpl(),this.actualMessageDiv.classList.add("lyteMessageBoxFadeIn"),this.childComp.style.visibility="visible")}}});