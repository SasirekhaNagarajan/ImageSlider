Lyte.Component.register("lyte-slider",{_template:'<template tag-name="lyte-slider">\n\t<div class="lyteSlide {{if(ltPropDisabled, \'lyteSliderDisabled\', \'\')}}">\n\t\t<div class="lyteRangeSlider {{ltPropDirection}}" onclick="{{action(\'click\',event)}}" tabindex="0" onkeydown="{{action(\'keydown\', event)}}">\n\t\t\t<div class="lyteSliderFill"></div>\n\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler1" lt-prop-title="{{if(expHandlers(ltPropTooltip, \'&amp;&amp;\', true), if(ltPropRangeHandler,ltPropMinValue, ltPropValue), \'\')}}" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t<template is="if" value="{{ltPropRangeHandler}}"><template case="true">\n\t\t\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler2" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" lt-prop-title="{{if(ltPropTooltip, ltPropMaxValue, \'\')}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t\t</template></template><template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteScaleOption {{ltPropHandler}}">\n\t\t\t\t\t<template is="for" items="{{divLength}}" index="indexVal">\n\t\t\t\t\t\t<span class="lyteScaleLine" style="{{item}}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<span class="lyteScalLable">{{scaleVal[indexVal]}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t </template></template>\t\n\t\t</div>\n\t</div>\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,3]},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"item"}}},{type:"text",position:[1,3,0]}]}]}},default:{}}],_observedAttributes:["divLength","scaleVal","ltPropMin","ltPropMax","ltPropScaleInterval","ltPropStep","ltPropHandler","ltPropDirection","ltPropWidth","ltPropFillColor","ltPropNonFillColor","ltPropHeight","ltPropValue","ltPropDiscrete","ltPropContent","ltPropRangeHandler","ltPropMinValue","ltPropMaxValue","ltPropDisabled","ltPropSelectedValue1","ltPropSelectedValue2","ltPropYield","ltPropTooltipStyle","ltPropTooltip","ltPropScaleUnit","ltPropTooltipClass","ltPropTooltipConfig","ltPropMinDiff","ltPropDigits","preventObs"],init:function(){this._dir=_lyteUiUtils.getRTL();var t,e=this.getData("ltPropTooltipConfig"),l=this.getData("ltPropDirection"),a=this.getData("ltPropTooltipStyle");(e||(this._config=!0,this.data.ltPropTooltipConfig={position:"lyteHorizontal"==l?"top":"right",showdelay:500,margin:10}),a||(this._style=!0,this.data.ltPropFillColor&&(this.data.ltPropTooltipStyle="background-color : "+this.data.ltPropFillColor+";")),-1!=[void 0,"",null].indexOf(this.getData("ltPropScaleInterval")))&&(this.setData("preventObs",!0),-1!=this.getData("ltPropHandler").indexOf("Arrow")&&0==this.getData("ltPropContent").length&&(t=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))),this.getData("ltPropContent").length&&(t="true"),t&&this.setData("ltPropScaleInterval",t.toString()),this.setData("preventObs",!1));this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,l){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?l-e.left:"clientX"==t?l-e.clientX:"offsetLeft"==t?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:l-e.right;if("left"==t)return"right"}return e?e[t]:t},heightSetObs:function(){this.heightSet.call(this,arguments[0])}.observes("ltPropWidth","ltPropHeight"),heightSet:function(){var t=this.getData("ltPropWidth"),e=this.getData("ltPropHeight");-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(t||(this.setData("ltPropWidth","200px"),t="200px"),e||(this.setData("ltPropHeight","30px"),e="30px")):(t||(this.setData("ltPropWidth","30px"),t="30px"),e||(this.setData("ltPropHeight","200px"),e="200px")),this.$node.style.width=t,this.$node.style.height=e,arguments.length&&this.didConnectWrk.call(this)},initialWorkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.initialWork.call(this,arguments[0]),this.setData("preventObs",!1))}.observes("ltPropContent","ltPropMax","ltPropMin","ltPropScaleInterval","ltPropDiscrete","ltPropStep","ltPropValue","ltPropScaleUnit").on("init"),initialWork:function(t){var e=this.getData("ltPropContent").slice(),l=this.getData("ltPropDirection"),a=this.getData("ltPropDiscrete"),i=this.getData("ltPropRangeHandler");if(e.length){if(e.length)if(this.setData("ltPropMax","100"),this.setData("ltPropStep",this.getData("ltPropScaleInterval")),(this.getData("ltPropScaleInterval")||t&&"ltPropContent"==t.item)&&this.setData("ltPropScaleInterval",""+parseFloat(100/(e.length-1))),this.setData("ltPropDiscrete",this.getData("ltPropScaleInterval")),i){r=this.getData("ltPropMinValue"),n=this.getData("ltPropMaxValue");(!r||-1==e.indexOf(r)||e.indexOf(r)>e.indexOf(n))&&this.setData("ltPropMinValue",e[0]),(!n||-1==e.indexOf(n)||e.indexOf(r)>e.indexOf(n))&&this.setData("ltPropMaxValue",e[e.length-1]),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else this.getData("ltPropValue")||(this.setData("ltPropValue",this.getData("ltPropContent")[0]),this.setData("ltPropSelectedValue1",this.getData("ltPropValue")))}else{var o=parseFloat(this.getData("ltPropMin")),s=parseFloat(this.getData("ltPropMax"));if(i){var r=parseFloat(this.getData("ltPropMinValue")),n=parseFloat(this.getData("ltPropMaxValue"));(isNaN(r)||r<o||r>=s)&&this.setData("ltPropMinValue",o.toString()),(isNaN(n)||n>s||n<=o)&&this.setData("ltPropMaxValue",s.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else{var h=parseFloat(this.getData("ltPropValue"));h<o||isNaN(h)?this.setData("ltPropValue",o.toString()):h>s&&this.setData("ltPropValue",s.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))}if(a){var p=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));a=parseFloat(a),a=Math.max(isNaN(a)?0:a,p).toString(),this.setData("ltPropDiscrete",a),this.setData("ltPropStep",a),this.setData("ltPropScaleInterval",a)}}var d=[],c=[];if(!this.getData("ltPropYield")){var g=-1!=l.indexOf("Horizontal"),u="top:",P=parseFloat(this.getData("ltPropScaleInterval"));if(g&&(u=this.rtlfunc.call(this,"left")+":"),P&&!isNaN(P)){for(var f=parseFloat(this.getData("ltPropMin")),D=this.getData("ltPropScaleUnit"),y=0;f<=parseFloat(this.getData("ltPropMax"));y++)d.push(u+(f-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*100+"%"),this.getData("ltPropContent").length?c.push(e[y]+D):c.push(f+D),f+=parseFloat(P);n=e.length?e[e.length-1]:this.getData("ltPropMax");c[c.length-1]!=n&&(d.push(u+100+"%"),e.length?c.push(e[e.length-1]+D):c.push(this.getData("ltPropMax")+D))}else d.push(u+0+"%"),d.push(u+100+"%"),c=this.MaxMinSet.call(this),this.setData("scaleVal",c)}this.setData("scaleVal",c),this.setData("divLength",d)},colorSetObs:function(t){this.colorSet.call(this,t)}.observes("ltPropFillColor","ltPropNonFillColor").on("didConnect"),colorSet:function(t){(!t&&this.data.ltPropFillColor||t&&"ltPropFillColor"==t.item)&&(this.$node.querySelector("div.lyteSliderFill").style.backgroundColor=this.data.ltPropFillColor),(!t&&this.data.ltPropNonFillColor||t&&"ltPropNonFillColor"==t.item)&&(this.$node.querySelector("div.lyteRangeSlider").style.backgroundColor=this.data.ltPropNonFillColor)},didConnectWrkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.didConnectWrk.apply(this,arguments),this.setData("preventObs",!1))}.observes("ltPropScaleInterval","ltPropValue","ltPropMin","ltPropMax","ltPropMinValue","ltPropMaxValue","ltPropContent","ltPropHandler","ltPropRangeHandler"),didConnectWrk:function(){this.$node.querySelector("div.lyteRangeSlider"),this.$node.querySelector("div.lyteSlide");var t,e,l=this.$node.querySelectorAll("div.lyteSliderHandler"),a=this.getData("ltPropRangeHandler"),i=this.getData("ltPropDirection"),o=this.$node.getBoundingClientRect(),s=l[0].getBoundingClientRect(),r=this.$node.offsetParent,n={},h="width",p="handlerWidth",d=this.rtlfunc.call(this,"left"),c={},g="offsetWidth";-1==i.indexOf("Horizontal")&&(h="height",p="handlerHeight",d="top",g="offsetHeight"),null==r?(n.width=parseFloat(this.getData("ltPropWidth")),n.height=parseFloat(this.getData("ltPropHeight")),n.handlerWidth=n.handlerHeight=12):(n.width=o.width,n.height=o.height,n.handlerWidth=s.width,n.handlerHeight=s.height);var u=this.$node.querySelector("div.lyteSliderFill");if(this.getData("ltPropContent").length){var P,f,D=this.data.ltPropContent.indexOf(this.data.ltPropValue);this.$node.querySelectorAll("div.lyteSliderHandler"),D=D>-1?D:0,a&&(P=-1!=(P=this.getData("ltPropContent").indexOf(this.getData("ltPropMinValue")))?P:0,f=-1!=(f=this.getData("ltPropContent").indexOf(this.getData("ltPropMaxValue")))?f:this.getData("ltPropContent").length-1),a?(t=this.rangeInitialSet.call(this,g,P),e=this.rangeInitialSet.call(this,g,f),c=this.rangeSliderFill(t,e,n[p])):(t=this.rangeInitialSet.call(this,g,D),c.width=D/(this.getData("ltPropContent").length-1)*n[h])}else a?(t=this.initialValueSet.call(this,n[h],n[p],parseFloat(this.getData("ltPropMinValue"))),e=this.initialValueSet.call(this,n[h],n[p],parseFloat(this.getData("ltPropMaxValue"))),c=this.rangeSliderFill(t,e,n[p])):(t=this.initialValueSet.call(this,n[h],n[p],parseFloat(this.getData("ltPropValue"))),c.width=(parseFloat(this.getData("ltPropValue"))-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*n[h]);l[0].style[d]=t+"px",u.style[h]=c.width+"px",l[1]&&(l[1].style[d]=e+"px",u.style[d]=c.left+"px")},directionObsObs:function(){this.directionObs.call(this)}.observes("ltPropDirection"),directionObs:function(){this.getData("preventObs")||$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteSliderHandler");t.style.removeProperty(this.rtlfunc.call(this,"left")),t.style.removeProperty("top");var e=this.$node.querySelector(".lyteSliderFill");e.style.removeProperty("width"),e.style.removeProperty("height"),this.setData("preventObs",!0),this.heightSet.call(this),$L.fastdom.measure(function(){this.didConnectWrk.call(this),this.setData("preventObs",!1)}.bind(this))}.bind(this))},MaxMinSet:function(){var t=[],e=this.getData("ltPropScaleUnit");return this.getData("ltPropContent").length?(t.push(this.getData("ltPropContent")[0]+e),t.push(this.getData("ltPropContent")[this.getData("ltPropContent").length-1]+e)):(t.push(this.getData("ltPropMin")+e),t.push(this.getData("ltPropMax")+e)),t},selectedVal:function(t,e,l,a,i){this.$node.querySelector("div.lyteSlide");var o,s=t[l];return o=a?((parseFloat(a.style[i])+e[l]/2)/s*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits):(parseFloat(this.$node.querySelector("div.lyteSliderFill").style[l])/s*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits),this.getData("ltPropContent").length&&(numb=parseFloat(o)/parseFloat(this.getData("ltPropScaleInterval")),o=o>100?this.getData("ltPropContent")[this.getData("ltPropContent").length-1]:this.getData("ltPropContent")[parseInt(parseFloat(numb).toFixed(0))]),o},onSelect:function(t){(this.getMethods("onChange")||this.getMethods("onSelect"))&&(this.getData("ltPropRangeHandler")?(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node)):(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.$node)))},scroll:function(t,e){var l=parseFloat(this.getData("ltPropDiscrete")),a=!1,i=!1,o=!1;return t>=parseFloat(this.getData("ltPropMax"))-(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%l?(l=(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%l,i=!0,a=!0):t-parseFloat(this.getData("ltPropDiscrete"))/2<parseFloat(this.getData("ltPropMin"))&&(a=!0,o=!0),a?t>parseFloat(this.getData("ltPropMax"))-l/2?t=i?parseFloat(this.getData("ltPropMax")):t-(t-parseFloat(this.getData("ltPropMin")))%l+l:(l=parseFloat(this.getData("ltPropDiscrete")),o?t=parseFloat(this.getData("ltPropMin")):t-=(t-parseFloat(this.getData("ltPropMin")))%l):(t-parseFloat(this.getData("ltPropMin")))%l>=parseFloat(this.getData("ltPropDiscrete"))/2?t=t-(t-parseFloat(this.getData("ltPropMin")))%l+l:t-=(t-parseFloat(this.getData("ltPropMin")))%l,width=(t-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*e,width},ScrollCheck:function(t,e,l,a,i,o,s,r){var n,h,p,d,c,g,u,P,f,D=!0,y=this.$node.querySelector("div.lyteSlide"),S=this.getData("ltPropRangeHandler"),v=this.$node.querySelector("div.lyteSliderFill"),M=window.innerWidth,m=this.rtlfunc.call(this,a,r,M);S?(n=this.$node.querySelector("div.lyteHandler2"),h=this.$node.querySelector("div.lyteHandler1"),p=this.$node.querySelector("div.lyteRangeSlider"),d=h.getBoundingClientRect(),c=n.getBoundingClientRect(),(u=this.rtlfunc.call(this,e,c,M))-(g=this.rtlfunc.call(this,e,d,M))<=0?this._elem?this._elem.classList.contains("lyteHandler1")?m<g+d[l]&&u-g==0?D=!0:"mousemove"==r.type&&(D=!1):this._elem.classList.contains("lyteHandler2")&&(m>u&&u-g==0?D=!0:"mousemove"==r.type&&(D=!1)):"mousemove"==r.type&&(D=!1):this.getData("ltPropDiscrete")?parseFloat(this.getData("ltPropDiscrete")):0,P=m-this.rtlfunc.call(this,e,p.getBoundingClientRect(),M)):P=m-this.rtlfunc.call(this,e,v.getBoundingClientRect(),M),this.getData("ltPropContent").length&&"click"==r.type&&S&&parseInt(u-g)<1/(this.getData("ltPropContent").length-1)*this.$node[o]&&m<u+c[l]&&m>g+d[l]&&(D=!1);parseFloat(this.getData("ltPropDiscrete"));var x=this.$node.querySelector("div.lyteSliderHandler"),F=t.getBoundingClientRect(),C=y.getBoundingClientRect();if(this.getData("ltPropDiscrete")&&(widthVal=P/C[l]*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin")),P=this.scroll.call(this,widthVal,C[l])),f=(f=(f=(P=(P=P<C[l]?P:C[l])>0?P:0)-F[l]/2)>C[l]-x[i]/2?C[l]-x[i]/2:f)>-F[l]/2?f:-F[l]/2,S&&(t.classList.contains("lyteHandler1")?this.rtlfunc.call(this,s,n)<f&&(D=!1):this.rtlfunc.call(this,s,h)>f&&(D=!1)),t.focus(),D){if(e=this.rtlfunc.call(this,e),S){var V,H;if(t.classList.contains("lyteHandler1")){H=parseInt(n.style[e]);var b=this.minMaxCheck(C,d,l);V=f=Math.min(Math.max(f,b[0]),H-b[1])}else{V=parseInt(h.style[e]);b=this.minMaxCheck(C,d,l,!0);H=f=Math.max(Math.min(f,b[0]),V+b[1])}var L=this.rangeSliderFill.call(this,V,H,d[l]);v.style[e]=L.left+"px",v.style[l]=L.width+"px"}else v.style[l]=P+"px";t.style[e]=f+"px"}$L.fastdom.measure(function(){this.selectedValFind.call(this,C,F)}.bind(this)),r.stopPropagation(),r.preventDefault()},minMaxCheck:function(t,e,l,a){var i=(this.getData("ltPropMinDiff")||0)*t[l]/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));return[a?t[l]-i-e[l]/2:i-e[l]/2,i]},selectedValFind:function(t,e){if(this.setData("preventObs",!0),this.getData("ltPropRangeHandler")){if(-1==this.getData("ltPropDirection").indexOf("Horizontal"))this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler1"),"top").toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler2"),"top").toString());else{var l=this.rtlfunc.call(this,"left");this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler1"),l).toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler2"),l).toString())}this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else-1==this.getData("ltPropDirection").indexOf("Horizontal")?this.setData("ltPropValue",this.selectedVal.call(this,t,e,"height").toString()):this.setData("ltPropValue",this.selectedVal.call(this,t,e,"width").toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"));this.setData("preventObs",!1)},initialValueSet:function(t,e,l){var a=parseFloat(this.getData("ltPropMax")),i=parseFloat(this.getData("ltPropMin"));return(l-i)/(a-i)*t-e/2},rangeSliderFill:function(t,e,l){return{width:e-t,left:t+l/2}},keyCheck:function(t,e,l,a,i,o){a=this.rtlfunc.call(this,a);var s,r=this.$node.querySelector("div.lyteSliderFill"),n=(window.innerWidth,e.getBoundingClientRect()),h={},p=this.getData("ltPropRangeHandler"),d=this.$node.getBoundingClientRect(),c=1,g=this.$node.querySelectorAll("div.lyteSliderHandler"),u=-1!=this.getData("ltPropDirection").indexOf("Horizontal"),P=parseFloat(this.getData("ltPropStep"));if(P||(P=.1*parseFloat(this.getData("ltPropMax"))),this._dir?39==t.keyCode&&u&&(c=-1):(37==t.keyCode&&u||38==t.keyCode&&!u)&&(c=-1),s=parseFloat(e.style[a])+P/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*d[l]*c,s=Math.min(Math.max(-n[l]/2,s),d[l]-n[l]/2),p){var f,D;if(e==g[0]){D=parseInt(g[1].style[a]);var y=this.minMaxCheck(d,n,l);f=s=Math.min(Math.max(s,y[0]),D-y[1])}else{f=parseInt(g[0].style[a]);y=this.minMaxCheck(d,n,l,!0);D=s=Math.max(Math.min(s,y[0]),f+y[1])}if(f>D){if(parseInt(g[0].style[a])==D)return;37==t.keyCode||38==t.keyCode?D=s=f:39!=t.keyCode&&40!=t.keyCode||(f=s=D)}h=this.rangeSliderFill.call(this,f,D,n[l])}else h.width=s+n[l]/2;e.style[a]=s+"px",r.style[l]=h.width+"px",p&&(r.style[a]=h.left+"px"),$L.fastdom.measure(function(){this.selectedValFind.call(this,d,n)}.bind(this))},mousemove:function(t){var e,l,a,i,o,s;this._flag||(this._flag=!0),-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(e="left",l="width",a="clientX",i="offsetWidth",i="offsetWidth",o="ltPropWidth",s="offsetLeft"):(e="top",l="height",a="clientY",i="offsetHeight",i="offsetHeight",o="ltPropHeight",s="offsetTop"),this.ScrollCheck.call(this,this._elem,e,l,a,i,o,s,t),$L.fastdom.measure(function(){this.getMethods("onChange")&&this.onSelect.call(this)}.bind(this))},eventListener:function(t,e){var l=window.innerWidth,a=this.rtlfunc.call(this,"clientX",t,l),i=this.$node.querySelector("div.lyteRangeSlider").getBoundingClientRect();a>this.rtlfunc.call(this,"left","clientRect",l)?(width=a-this.rtlfunc.call(this,"left","clientRect",l)-parseFloat(i.width-parseFloat(i.width/2)),width>0&&t.preventDefault()):t.preventDefault();var o=t.clientY;o>=i.top?o-i.top-parseFloat(i.height-parseFloat(i.height/2))>0&&t.preventDefault():t.preventDefault(),this._mousemove=this.mousemove.bind(this),this._mouseup=this.mouseup.bind(this),this._elem=e,document.addEventListener("mousemove",this._mousemove,!0),document.addEventListener("mouseup",this._mouseup,!0)},rangeInitialSet:function(t,e){return e/(this.getData("ltPropContent").length-1)*this.$node[t]-this.$node.querySelector("div.lyteSliderHandler")[t]/2},didConnect:function(){this.directionObs.call(this),this.valueSelected.call(this),$L.fastdom.mutate(function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))},valueSelected:function(){this.getData("ltPropRangeHandler")?(this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))):this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))},mouseup:function(t){this.$node.querySelector("div.lyteRangeSlider");document.removeEventListener("mousemove",this._mousemove,!0),document.removeEventListener("mouseup",this._mouseup,!0),delete this._mousemove,delete this._elem},data:function(){return{divLength:Lyte.attr("array",{default:[]}),scaleVal:Lyte.attr("array",{default:[]}),ltPropMin:Lyte.attr("string",{default:"0"}),ltPropMax:Lyte.attr("string",{default:""}),ltPropScaleInterval:Lyte.attr("string",{default:""}),ltPropStep:Lyte.attr("string",{default:""}),ltPropHandler:Lyte.attr("string",{default:"lyteArrow"}),ltPropDirection:Lyte.attr("string",{default:"lyteHorizontal"}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropFillColor:Lyte.attr("string",{default:""}),ltPropNonFillColor:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropValue:Lyte.attr("string",{default:""}),ltPropDiscrete:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropRangeHandler:Lyte.attr("boolean",{default:!1}),ltPropMinValue:Lyte.attr("string",{default:""}),ltPropMaxValue:Lyte.attr("string",{default:""}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropSelectedValue1:Lyte.attr("string",{default:""}),ltPropSelectedValue2:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropTooltipStyle:Lyte.attr("string",{default:""}),ltPropTooltip:Lyte.attr("boolean",{default:!0}),ltPropScaleUnit:Lyte.attr("string",{default:""}),ltPropTooltipClass:Lyte.attr("string",{default:""}),ltPropTooltipConfig:Lyte.attr("object"),ltPropMinDiff:Lyte.attr("number",{default:0}),ltPropDigits:Lyte.attr("number",{default:2}),preventObs:Lyte.attr("boolean",{default:!1})}},actions:{click:function(t){var e="left",l="width",a="clientX",i="offsetWidth",o="ltPropWidth",s="offsetLeft",r=window.innerWidth;if(-1==this.getData("ltPropDirection").indexOf("Horizontal")&&(e="top",l="height",a="clientY",i="offsetHeight",o="ltPropHeight",s="offsetTop"),this.getData("ltPropRangeHandler")){var n=this.rtlfunc.call(this,a,t,r),h=this.$node.querySelector("div.lyteHandler1"),p=this.$node.querySelector("div.lyteHandler2"),d=h.getBoundingClientRect(),c=p.getBoundingClientRect();Math.abs(this.rtlfunc.call(this,e,d,r)-this.rtlfunc.call(this,e,c,r))>0?this.rtlfunc.call(this,e,d,r)+d[l]+Math.abs(this.rtlfunc.call(this,e,d,r)-this.rtlfunc.call(this,e,c,r))/2<n?this.ScrollCheck.call(this,p,e,l,a,i,o,s,t):this.rtlfunc.call(this,e,d,r)+d[l]+Math.abs(this.rtlfunc.call(this,e,d,r)-this.rtlfunc.call(this,e,c,r))/2!=n&&this.ScrollCheck.call(this,h,e,l,a,i,o,s,t):this.rtlfunc.call(this,e,d,r)==this.rtlfunc.call(this,e,c,r)&&(n<this.rtlfunc.call(this,e,d,r)?this.ScrollCheck.call(this,h,e,l,a,i,o,s,t):this.ScrollCheck.call(this,p,e,l,a,i,o,s,t))}else this.ScrollCheck.call(this,this.$node.querySelector("div.lyteSliderHandler"),e,l,a,i,o,s,t);$L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()},keydown:function(t){if(-1!=[37,38,39,40].indexOf(t.keyCode)){this.getData("ltPropDiscrete")&&this.setData("ltPropStep",this.getData("ltPropDiscrete"));var e=t.target,l=this.getData("ltPropDirection"),a="width",i="left",o="offsetWidth",s="ltPropWidth";-1==l.indexOf("Horizontal")&&(a="height",i="top",o="offsetHeight",s="ltPropHeight"),this.getData("ltPropRangeHandler")?this.keyCheck.call(this,t,e,a,i,o,s):this.keyCheck.call(this,t,this.$node.querySelector("div.lyteSliderHandler"),a,i,o,s),(37!=t.keyCode&&39!=t.keyCode||-1==l.indexOf("Horizontal"))&&(38!=t.keyCode&&40!=t.keyCode||-1!=l.indexOf("Horizontal"))||($L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}},mousedown:function(t,e){this.eventListener.call(this,t,e)}}});