window._lyteUiUtils=window._lyteUiUtils||{},window._lyteUiUtils.i18n=function(t){var e=_lyteUiComponentsLocale[t||""];return e||t},window._lyteUiUtils.getRTL=function(){return void 0!=this.Rtl&&null!=this.Rtl?this.Rtl:this.Rtl="rtl"==window.getComputedStyle(document.body).getPropertyValue("direction")},window._lyteUiUtils.isAndroid=function(){return this.android=this.android||/android/i.test(navigator.userAgent)},window._lyteUiUtils.isIos=function(){return this.ios=this.ios||/ip(hone|ad|od)/i.test(navigator.userAgent)},window._lyteUiUtils.escape=function(t){return(t||"").replace(/(\\|\'|\"|\?)/g,"\\$1")},LyteComponent.registerHelper("lyteUiReturnOnlyKey",function(t){var e=Object.keys(t);return!!e&&e[0]}),LyteComponent.registerHelper("lyteUiReturnOnlyValue",function(t){return t[Object.keys(t)[0]]}),Lyte.Component.registerHelper("lyteUiSetURL",function(t,e){return e?t:""}),LyteComponent.registerHelper("lyteUiCheckEmpty",function(t){return t&&t[0].emptyBlock&&t[6].emptyBlock}),LyteComponent.registerHelper("lyteUiI18n",function(t){return _lyteUiUtils.i18n(t)}),LyteComponent.registerHelper("lyteUiOptGroupCheck",function(t){if(t.constructor==Object&&1==Object.keys(t).length){var e=t[Object.keys(t)[0]];if(e.constructor==Object||e.constructor==Array)return!0}return!1}),LyteComponent.registerHelper("lyteUiCheckForType",function(t,e,o,i){if(i){var l=0,a=0;for(var n in t)a++,n==e&&l++,n==o&&l++;return 2!=l&&1==a}return"object"==typeof t}),LyteComponent.registerHelper("lyteUiChildPadding",function(t){return"Arrow"===t?"padding-left:20px;":"Plus"===t?"padding-left:25px;":"padding-left:27px;"}),LyteComponent.registerHelper("lyteUiHaveChildren",function(t,e){return!!(t[e]&&t[e].length>0)}),LyteComponent.registerHelper("lyteUiIsObject",function(t){return"[object Object]"===Object.prototype.toString.call(t)}),LyteComponent.registerHelper("lyteUiIsArray",function(t){return"[object Array]"===Object.prototype.toString.call(t)}),LyteComponent.registerHelper("lyteUiGiveProper",function(t,e){for(var o=[],i=0;i<t.length;i++)t[i].menu==e&&o.push(t[i]);return o}),LyteComponent.registerHelper("lyteUiAddClassModal",function(t,e,o){var i=t;return o&&(i+=" draggable"),e&&(i+=" "+t+"Show"),i}),LyteComponent.registerHelper("lyteUiAddShowClass",function(t,e,o){return!0===t?e+" "+o:e}),LyteComponent.registerHelper("lyteUiCatwise",function(t,e){return t==e[this.get("ltPropCategory")]}),LyteComponent.registerHelper("lyteUiCheckClassForDate",function(t){return!!t&&-1!=t.indexOf("lyteCalGray")}),LyteComponent.registerHelper("lyteUiConcat",function(){for(var t="",e=arguments.length,o=0;o<e;o++)void 0!=arguments[o]&&(t+=arguments[o]);return t}),LyteComponent.registerHelper("lyteUiConcatTypeClass",function(t,e,o){return""!==t?t+e+" "+o:o}),LyteComponent.registerHelper("lyteUiGetContainerClass",function(t,e){return e||(e=""),1==t?"lyteDropdownContainer tick-selection "+e:"lyteDropdownContainer "+e}),LyteComponent.registerHelper("lyteUiGetDropdownClass",function(t){return t&&"true"==t.toString().toLowerCase()?"lyteDropdownElement1 lyteDropdown-disabled":"lyteDropdownElement1"}),LyteComponent.registerHelper("lyteUiIfEquals",function(t,e){return t===e}),LyteComponent.registerHelper("lyteUiLabelCheck",function(t,e){return t==e}),LyteComponent.registerHelper("lyteUiObjectCheck",function(t){return"string"==typeof t}),LyteComponent.registerHelper("lyteUiReturnValueBy",function(t,e){return e||0==e?t[e]:t}),LyteComponent.registerHelper("lyteUiSetWH",function(t){return 2*parseInt(t)}),LyteComponent.registerHelper("lyteUiSetRadius",function(t,e){return parseInt(t)-parseInt(e)/2}),LyteComponent.registerHelper("lyteUiSetDashArray",function(t,e){return 6.28318*(parseInt(t)-parseInt(e)/2)}),LyteComponent.registerHelper("lyteUiSetOffset",function(t,e,o){return 6.28318*(parseInt(t)-parseInt(e)/2)*(1-parseInt(o)/100)}),LyteComponent.registerHelper("lyteUiTextTransform",function(t){return"translate(0,-"+2*parseInt(t)+"px)"}),LyteComponent.registerHelper("lyteUiMakeSortable",function(t){return console.log(t),document.getElementById(t).classList.add("sortable"),!0}),LyteComponent.registerHelper("lyteUiCheckTabPosition",function(t){return"bottom"!==t.pos}),LyteComponent.registerHelper("lyteUiGetValue",function(t,e){return t[e]}),LyteComponent.registerHelper("lyteUiIsEmptyArray",function(t){return 0==t.length}),LyteComponent.registerHelper("lyteUiRgbToHex",function(t){var e="#";if(/rgba/.test(t)){for(var o=t.substring(5,t.length-1).split(","),i=0;i<3;i++){(l=parseInt(o[i]).toString(16).toUpperCase()).length<2&&(l="0"+l),e+=l}e+=(Math.round(255*parseFloat(o[3]))+65536).toString(16).substr(-2).toUpperCase()}else if(/rgb/.test(t))for(o=t.substring(4,t.length-1).split(","),i=0;i<3;i++){var l;(l=parseInt(o[i]).toString(16).toUpperCase()).length<2&&(l="0"+l),e+=l}return e}),LyteComponent.registerHelper("lyteUiCPInsertBreak",function(t){return(t+1)%10==0}),LyteComponent.registerHelper("lyteUiCheckInRange",function(t,e,o,i){var l=this.component;if(""===t&&""===e)return!0;if(""!==t&&""===e){var a=l.stringToDate(t,i);if((r=l.stringToDate(o,i))>=a)return!0}else if(""!==t&&""!==e){a=l.stringToDate(t,i);var n=l.stringToDate(e,i);if((r=l.stringToDate(o,i))>=a&&r<=n)return!0}else{var r;n=l.stringToDate(e,i);if((r=l.stringToDate(o,i))<=n)return!0}return!1}),LyteComponent.registerHelper("lyteUiIsEmptyObject",function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}),LyteComponent.registerHelper("lyteUiCheckDisabled",function(t,e){for(var o=0;o<t.length;o++)if(e===t[o])return"true";return"false"}),LyteComponent.registerHelper("lyteUiTreeHelp",function(t,e){return t+e++}),LyteComponent.registerHelper("lyteUiTreeChildHelp",function(t,e){return void 0===t.children||0===t.children.length?"noChildClass":""}),LyteComponent.registerHelper("stringify",function(t){return JSON.stringify(t)}),LyteComponent.registerHelper("lyteUiConcatAlertClass",function(t,e){return("center"==t?"lyteAlertCenterContent":"")+" "+e}),Lyte.Component.registerHelper("lyteUiSetIndexString",function(t,e){return t+1+" of "+e}),LyteComponent.registerHelper("lyteUiRTL",function(){return _lyteUiUtils.getRTL()}),LyteComponent.registerHelper("lyteUiGetMonthOrYear",function(t,e){return"M"==e?t.split(" ")[0]:t.split(" ")[1]}),LyteComponent.registerHelper("lyteUiDisplayOrHide",function(t){return"rgba(0, 0, 0, 0)"==t?"lyteColorPicker__colorpan lyteColorPicker__hide":"lyteColorPicker__colorpan"}),LyteComponent.registerHelper("lyteUiMsgBoxConcatClass",function(t,e,o,i){return""!==e?t+" "+e+o+" "+i:t+" "+i}),LyteComponent.registerHelper("lyteUiFileSize",function(t,e,o){var i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],l=0;return 0==(l=e?Math.max(l,i.indexOf(e)):Math.floor(Math.log(t)/Math.log(1024)))&&1==t?"1 Byte":parseInt(t/Math.pow(1024,l)*Math.pow(10,o))/Math.pow(10,o)+i[l]}),LyteComponent.registerHelper("lyteUiAddClassRating",function(t,e){var o="";return t&&(o+=t),e?"lyteRatingReadOnly":o}),Lyte.Component.register("lyte-accordion",{_template:'<template tag-name="lyte-accordion">\n\t<lyte-yield yield-name="yield">\n\n\t</lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropDuration","ltPropHeight","ltPropExclusive","ltPropYield"],data:function(){return{ltPropDuration:Lyte.attr("string",{default:"0.2s"}),ltPropHeight:Lyte.attr("string"),ltPropExclusive:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!0})}},execAndCheck:function(t,e){var o,i;return o=_lyteAccordion.findProperParent(e.target).parentElement,i=void 0==(i=this.executeMethod(t,e,o,this))||i},initiateClose:function(t,e,o){t.style.height="0px",t.style.overflow="hidden",this.setData("close",!0),t.parentElement.classList.remove("lyteAccordionActive"),e&&$L.fastdom.measure(function(){e.call(this,o)},this)},execNonRetCalls:function(t){this.getMethods(t[0])&&this.executeMethod.apply(this,t)},scrollIntoView:function(t){if(t){var e,o=this.$node.getBoundingClientRect().height,i=this.$node.scrollTop+o,l=t.offsetTop,a=t.getAttribute("map"),n=l+t.getBoundingClientRect().height;i<n&&(this.$node.scrollTop=this.$node.scrollTop+(n-i)),e=window.requestAnimationFrame(this.scrollIntoView.bind(this,t)),Lyte.objectUtils(this.getData("rAFMap"),"add",a,e)}},initiateOpen:function(t,e,o){var i,l=e.height;this.getData("heights")[t.getAttribute("map")].conf&&l?t.style.height=l:t.style.height=this.getData("heights")[t.getAttribute("map")].height,this.setData("close",!1),t.parentElement.classList.add("lyteAccordionActive"),i=_lyteAccordion.findProperParent(o.target),$L.fastdom.measure(function(){this.scrollIntoView(t),this.execNonRetCalls(["onOpen",o,i.parentElement,this]),this.execNonRetCalls(["onChanged",o,i.parentElement,this])},this)},didDestroy:function(){for(var t=this.$node.querySelectorAll("lyte-accordion-item"),e=0;e<t.length;e++)t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))},setEvent:function(t){var e=this;t.addEventListener("transitionend",function(){var o=t.getAttribute("map"),i=e.getData("close");window.cancelAnimationFrame(e.getData("rAFMap")[o]),t.style.overflow=i?"hidden":"auto"})},getAllHeights:function(){this.setData("heights",{}),$L.fastdom.measure(function(){for(var t,e,o=this.$node.querySelector("lyte-yield").children,i=0;i<o.length;i++)"LYTE-ACCORDION-ITEM"===o[i].tagName&&(t=o[i].querySelector("lyte-accordion-body"))&&(this.setEvent(t),e=t.style.height,this.getData("heights")[i]={},e?(this.getData("heights")[i].height=e,this.getData("heights")[i].conf=!1):(this.getData("heights")[i].height=t.getBoundingClientRect().height-parseFloat(window.getComputedStyle(t).paddingTop)-parseFloat(window.getComputedStyle(t).paddingBottom)+"px",this.getData("heights")[i].conf=!0),o[i].classList.contains("lyteAccordionActive")&&this.getData("ltPropExclusive")&&(this.flag=i))},this),$L.fastdom.mutate(function(){for(var t,e=this.$node.querySelector("lyte-yield").children,o=this.getData("ltPropExclusive"),i=0;i<e.length;i++)"LYTE-ACCORDION-ITEM"===e[i].tagName&&(t=e[i].querySelector("lyte-accordion-body"))&&(t.setAttribute("map",i),e[i].classList.contains("lyteAccordionActive")?o&&this.flag!=i?(e[i].classList.remove("lyteAccordionActive"),t.style.height="0px"):t.style.height=this.getData("heights")[i].conf&&this.getData("ltPropHeight")?this.getData("ltPropHeight"):this.getData("heights")[i].height:t.style.height="0px");$L.fastdom.measure(function(){this.execNonRetCalls(["afterRender",this])},this)},this)},didConnect:function(){this.setData("rAFMap",{}),this.getAllHeights()},getConfiguration:function(){var t={};return t.transition=this.getData("ltPropDuration"),t.height=this.getData("ltPropHeight"),t.exclusive=this.getData("ltPropExclusive"),t}});var _lyteAccordion={findProperParentS:function(t){for(var e,o,i=[],l=!1;"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,i.push(t),!(t=t.parentElement))return null;for(o=i.length-1;o>-1;o--)if("LYTE-ACCORDION-HEADER"===i[o].tagName||1===i.length&&"LYTE-ACCORDION-ITEM"===i[o].tagName){l=!0;break}return l?e.children[0]:null},findProperParent:function(t){var e;if(t){for(;"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,!(t=t.parentElement))return{};return e.children[0]}}};(document.addEventListener("click",function(t){var e,o,i,l,a,n,r,s,d,p,c,h,u,y=_lyteAccordion.findProperParentS(t.target),m=0;if(y){for(e=y;"HTML"!=e.tagName&&"LYTE-ACCORDION"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"!=e.tagName){for(i=(o=e.querySelector("lyte-yield")).children,l=!0;m<i.length;m++)if(i[m].querySelector("lyte-accordion-header")==y){l=!1;break}if(!l){if(a=o.children[m].querySelector("lyte-accordion-body"),s=(r=(n=o.parentElement.component).getConfiguration()).transition,!a||"LYTE-ACCORDION-BODY"!=a.tagName){if(r&&r.exclusive&&(d=n.$node.querySelector(".lyteAccordionActive"))&&(p=d.querySelector("lyte-accordion-body")))if(p.style.transitionDuration=s,n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t)}else n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t);return o.children[m].classList.contains("lyteAccordionActive")?o.children[m].classList.remove("lyteAccordionActive"):o.children[m].classList.add("lyteAccordionActive"),void $L.fastdom.measure(function(){n.execNonRetCalls(["onChanged",t,_lyteAccordion.findProperParent(t.target).parentElement,n])})}if(h=window.getComputedStyle(a).height,s&&(a.style.transitionDuration=s,(d=n.$node.querySelector(".lyteAccordionActive"))&&(p=d.querySelector("lyte-accordion-body"))&&(p.style.transitionDuration=s)),u=n.$node.querySelector(".lyteAccordionActive"),r&&r.exclusive&&u&&u!=a.parentElement){if((p=u.querySelector("lyte-accordion-body"))&&n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t)}else(p=u.querySelector("lyte-accordion-body"))&&n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t);u.classList.contains("lyteAccordionActive")&&u.classList.remove("lyteAccordionActive")}if("0px"==h)if(n.getMethods("onBeforeOpen")){if(c=n.execAndCheck("onBeforeOpen",t),r=n.getConfiguration(),!c)return;n.initiateOpen(a,r,t)}else n.initiateOpen(a,r,t);else if(n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(a,function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])},t)}else n.initiateClose(a,function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])},t)}}}},!0),Lyte.createCustomElement("lyte-accordion-item",{static:{observedAttributes:{get:function(){return["lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o,i){if("function"==typeof shortcut){if(!o)return;if(!(o=JSON.parse(o)).key)return;var l=o.key,a=o.type,n=o.wait;e||(e={}),shortcut.push({newKey:l,type:a,wait:n,oldKey:e.key,value:this})}}}),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t){var e="";if("open"==t&&LytePopup.components.length>1)for(var o=LytePopup.components.length-2;o>=0;o--){if(e="LYTE-MODAL"==LytePopup.components[o].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[o].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",i=LytePopup.components[o].childComp.querySelector(e)){i.style.opacity="0";break}}else if("close"==t&&LytePopup.components.length>1)for(o=LytePopup.components.length-2;o>=0;o--){var i;if("LYTE-MODAL"==LytePopup.components[o].$node.tagName?(e="lyte-modal-freeze",val=LytePopup.components[o].getData("ltPropDimmer").opacity):"LYTE-POPOVER"==LytePopup.components[o].$node.tagName?(e="lyte-popover-freeze",val=LytePopup.components[o].getData("ltPropDimmer").opacity):(e=".alertFreezeLayer",val="0.4"),i=LytePopup.components[o].childComp.querySelector(e)){i.style.opacity=val;break}}},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",l="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",l="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var a=t.childComp.querySelector(l);o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")),a.style.zIndex=o+2}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open")},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t)LytePopup.components.splice(LytePopup.components.indexOf(t),1);else for(var i=LytePopup.components.length-1;i>=0;i--)LytePopup.components[i].$node&&!LytePopup.components[i].$node.ltProp("allowMultiple")&&LytePopup.components[i].$node.ltProp("show",!1)}}).bindDocumentKeydown();if(Lyte.Component.register("lyte-alert",{_template:'<template tag-name="lyte-alert">\n\t<template is="if" value="{{ltPropShowCopy}}">\n\t\t<template case="true"><lyte-wormhole on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="alertWrapper {{ltPropWrapperClass}}">\t\n\t\t\t\t\t<div class="{{lyteUiConcatAlertClass(ltPropContentAlign,\'alertPopup\')}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyte-svg alertClose" onclick="{{action(\'closeAlert\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="alert"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropHeading,\'\')}}">\n\t\t\t\t\t\t\t\t<template case="false"><div class="alertHeader">\n\t\t\t\t\t\t\t\t\t<span class="dBlock">{{ltPropHeading}}</span>\n\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div class="alertContent">\n\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropType,\'\')}}">\n\t\t\t\t\t\t\t\t\t<template case="false"><div class="alertContentMiddle">\n\t\t\t\t\t\t\t\t\t\t<span class="{{lyteUiConcatTypeClass(ltPropType,\'AlertIcon\',\'lyteStatusIcon\')}}"></span>\n\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div class="alertContentMiddle">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropPrimaryMessage,\'\')}}">\n\t\t\t\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="alertPrimaryMsg">{{ltPropPrimaryMessage}}</span>\n\t\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropSecondaryMessage,\'\')}}">\n\t\t\t\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="alertSecondaryMsg">{{ltPropSecondaryMessage}}</span>\n\t\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="clearFloat"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{nonYieldFooter}}"><template case="true">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsEmptyArray(ltPropButtons)}}">\n\t\t\t\t\t\t\t\t<template case="false"><div class="{{lyteUiConcat(\'alertFooter \',ltPropButtonPosition)}}">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropButtons}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(item.type,\'accept\')}}">\n\t\t\t\t\t\t\t\t\t\t\t<template case="true"><lyte-button class="lyteAlertBtn" onclick="{{action(\'accept\',item.text)}}">\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{item.text}}</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-button></template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(item.type,\'reject\')}}">\n\t\t\t\t\t\t\t\t\t\t\t<template case="true"><lyte-button class="lyteAlertBtn" onclick="{{action(\'reject\',item.text)}}">\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{item.text}}</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-button></template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="{{lyteUiAddShowClass(ltPropShowCopy,\'\',\'alertFreezeLayer\')}}" style="{{lyteUiConcat(\'background:\',ltPropDimmer.color,\';\',\'opacity:\',ltPropDimmer.opacity)}}"></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{false:{dynamicNodes:[{type:"attr",position:[0,1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"if",position:[3,3,1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"attr",position:[0]},{type:"attr",position:[0,1]},{type:"for",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[0]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[0]}]}},default:{}}]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'background:'","ltPropDimmer.color","';'","'opacity:'","ltPropDimmer.opacity"]}}}}]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropWrapperClass","ltPropAllowMultiple","ltPropHeading","ltPropPrimaryMessage","ltPropSecondaryMessage","ltPropTop","ltPropButtons","ltPropButtonPosition","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropDimmer","ltPropYield","ltPropAnimation","ltPropContentAlign","nonYieldFooter"],data:function(){return{ltPropType:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropHeading:Lyte.attr("string",{default:""}),ltPropPrimaryMessage:Lyte.attr("string",{default:""}),ltPropSecondaryMessage:Lyte.attr("string",{default:""}),ltPropTop:Lyte.attr("string",{default:"40px"}),ltPropButtons:Lyte.attr("array",{default:[]}),ltPropButtonPosition:Lyte.attr("string",{default:"right"}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimation:Lyte.attr("string",{default:"slideDown"}),ltPropContentAlign:Lyte.attr("string",{default:"left"}),nonYieldFooter:Lyte.attr("boolean",{default:!0})}},didConnect:function(){},showToggled:function(){this.$node.ltProp("show")?(this.getData("nonYieldFooter")&&0==this.getData("ltPropButtons").length&&("confirm"==this.getData("ltPropType")?this.setData("ltPropButtons",[{type:"accept",text:"Ok"},{type:"reject",text:"Cancel"}]):this.setData("ltPropButtons",[{type:"accept",text:"Ok"}])),document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1,this.showAlert()):(LytePopup.hideOrShowFreeze("close"),this.closeAlert())}.observes("ltPropShow"),closeAlertFn:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},showAlert:function(){var t=this;if(setTimeout(function(){if("center"==t.getData("ltPropTop")){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.actualModalDiv.style.top=(e-t.actualModalDiv.getBoundingClientRect().height)/2+"px"}else t.actualModalDiv.style.top=t.getData("ltPropTop");"zoomIn"==t.getData("ltPropAnimation")&&t.actualModalDiv.classList.add("alertOpened")},100),this.setData("ltPropShowCopy",!0),"slideDown"==this.getData("ltPropAnimation")?this.actualModalDiv.classList.add("lyteAlertSlideDown"):"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.add("lyteAlertZoomIn"),this.getData("ltPropButtons")&&this.getData("nonYieldFooter")){for(var e,o=this.getData("ltPropButtons"),i=0;i<o.length;i++)e=this.actualModalDiv.querySelectorAll(".lyteAlertBtn")[i],o[i].appearance&&e.setData("ltPropAppearance",o[i].appearance),o[i].disabled&&e.setData("ltPropDisabled",o[i].disabled),o[i].style&&e.setData("ltPropStyle",o[i].style),o[i].color&&e.setData("ltPropColor",o[i].color),o[i].backgroundColor&&e.setData("ltPropBackgroundColor",o[i].backgroundColor),o[i].tabIndex&&e.setData("ltPropTabIndex",o[i].tabIndex),o[i].type&&e.setData("ltPropType",o[i].type),o[i].id&&e.setData("ltPropId",o[i].id),o[i].class&&e.setData("ltPropClass",o[i].class),o[i].autoFocus&&e.setData("ltPropAutoFocus",o[i].autoFocus),o[i].lyteShortcut&&e.setData("ltPropLyteShortcut",o[i].lyteShortcut),o[i].name&&e.setData("ltPropName",o[i].name),o[i].value&&e.setData("ltPropValue",o[i].value);e=null}LytePopup.addPopup(this)},closeAlert:function(){"slideDown"==this.getData("ltPropAnimation")&&(this.actualModalDiv.style.top="-"+(this.actualModalDiv.getBoundingClientRect().height+this.actualModalDiv.getBoundingClientRect().top+40)+"px");var t=1e3*parseFloat(document.defaultView.getComputedStyle(this.actualModalDiv).getPropertyValue("transition-duration"));"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.remove("alertOpened");var e=this;this.sId=setTimeout(function(){e.setData("ltPropShowCopy",!1),e.sId=!1,delete e.actualModalDiv,delete e.childComp,LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")},t-100),this.closeAlertFn(),LytePopup.closePopup(this)},didDestroy:function(){this.childComp&&(this.sId&&(clearTimeout(this.sId),this.sId=!1),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"))},actions:{closeAlert:function(){this.$node.ltProp("show",!1)},accept:function(t){this.getMethods("onAccept")&&this.executeMethod("onAccept",t,this),this.$node.ltProp("show",!1)},reject:function(t){this.getMethods("onReject")&&this.executeMethod("onReject",t,this),this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".alertPopup"),this.getData("ltPropYield")&&t.querySelector("lyte-alert-footer")?this.setData("nonYieldFooter",!1):this.setData("nonYieldFooter",!0)}}}),Lyte.Component.register("lyte-autocomplete",{_template:'<template tag-name="lyte-autocomplete">   \n      <lyte-dropdown lt-prop-set-pos="{{ltPropSetPos}}" lt-prop-type="{{ltPropDropType}}" lt-prop-yield="true" lt-prop-freeze="{{ltPropFreeze}}" lt-prop-callout="{{ltPropCallout}}" lt-prop-show="{{ltPropShow}}" lt-prop-position="{{ltPropPosition}}" lt-prop-hover="{{ltPropHover}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-tabindex="{{ltPropTabindex}}" lt-prop-animate="{{ltPropAnimate}}" on-option-selected="{{method(\'valSet\')}}" on-show="{{method(\'show\')}}" on-hide="{{method(\'hide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-add="{{method(\'add\')}}" on-remove="{{method(\'remove\')}}" on-position-changed="{{\'positionChanged\'}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{lbind(ltPropSelected)}}">\n        <template is="registerYield" yield-name="yield">\n              <lyte-drop-button onkeyup="{{action(\'keyup\', event)}}">\n                     <lyte-input lt-prop-maxlength="{{ltPropMaxlength}}" lt-prop-auto-update="{{ltPropAutoUpdate}}" on-value-change="{{method(\'valuechange\')}}" lt-prop-tab-index="{{ltPropTabIndex}}" lt-prop-id="{{ltPropId}}" lt-prop-wrapper-style="{{ltPropWrapperStyle}}" lt-prop-class="{{ltPropClass}}" lt-prop-autofocus="{{ltPropAutofocus}}" lt-prop-autocomplete="{{ltPropAutocomplete}}" lt-prop-type="{{ltPropType}}" lt-prop-name="{{ltPropName}}" lt-prop-placeholder="{{ltPropPlaceholder}}" lt-prop-value="{{lbind(ltPropValue)}}" lt-prop-width="100%" lt-prop-height="{{ltPropHeight}}" lt-prop-style="{{ltPropStyle}}" lt-prop-appearance="{{ltPropAppearance}}" lt-prop-direction="vertical" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-readonly="{{ltPropReadonly}}" lt-prop-pattern="{{ltPropPattern}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" title="{{ltPropInputTitle}}" lt-prop-text-area-resize="{{ltPropTextAreaResize}}" lt-prop-input-title="{{ltPropInputTitle}}" on-focus="{{method(\'focus\')}}" on-blur="{{method(\'blurEvent\')}}"></lyte-input>\n                     <template is="if" value="{{expHandlers(ltPropType,\'==\',\'search\')}}"><template case="true">   \n                         <div class="closeIconWrapper" onclick="{{action(\'resetValue\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}">\n                            <span class="closeIcon"></span>\n                        </div>\n                        <span class="iconSeparator" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                     </template></template>\n              </lyte-drop-button> \n          <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n            <lyte-drop-box class="{{ltPropDropdownClass}} lyteautocompleteDropdown" id="{{ltPropDropdownId}}">\n              <lyte-drop-body>\n              <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(list)}}"><template case="true">\n                      <lyte-drop-group elemorder="{{indexVal}}">\n                         <lyte-drop-label>{{lyteUiReturnOnlyKey(list)}}</lyte-drop-label>\n                            <template is="for" items="{{lyteUiReturnOnlyValue(list)}}" item="list1" index="indexVal1"><template is="if" value="{{expHandlers(lyteUiIsObject(list1),\'==\',false)}}"><template case="true">\n                                             <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1}}">\n                                                    <lyte-autocomplete-label keywords="{{list1}}">{{list1}}</lyte-autocomplete-label>\n                                              </lyte-drop-item>\n                                        </template><template case="false">\n                                            <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1[ltPropLabel]}}" class="{{list1.class}}">\n                                                <lyte-autocomplete-label keywords="{{list1[ltPropKeyWords]}}">{{list1[ltPropLabel]}}</lyte-autocomplete-label>\n                                                    <template is="if" value="{{list1[ltPropDescription]}}"><template case="true">\n                                                        <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list1[ltPropDescription]}}</lyte-autocomplete-description>\n                                                    </template></template>\n                                            </lyte-drop-item>\n                                    </template></template></template>\n                    </lyte-drop-group>\n                    </template><template case="false"><template is="if" value="{{expHandlers(lyteUiIsObject(list),\'==\',false)}}"><template case="true">\n                                       <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list}}">\n                                              <lyte-autocomplete-label keywords="{{list}}">{{list}}</lyte-autocomplete-label>\n                                        </lyte-drop-item>\n                                </template><template case="false">\n                                      <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list[ltPropLabel]}}" class="{{list1.class}}">\n                                          <lyte-autocomplete-label keywords="{{list[ltPropKeyWords]}}">{{list[ltPropLabel]}}</lyte-autocomplete-label>\n                                              <template is="if" value="{{list[ltPropDescription]}}"><template case="true">\n                                                  <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list[ltPropDescription]}}</lyte-autocomplete-description>\n                                              </template></template>\n                                      </lyte-drop-item>\n                                </template></template></template></template></template>     \n               </lyte-drop-body>       \n            </lyte-drop-box>\n          </template><template case="false">\n                  <lyte-yield yield-name="yield"></lyte-yield>\n            </template></template>\n        </template>\n      </lyte-dropdown>     \n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropAutocomplete","ltPropPlaceholder","ltPropAutofocus","ltPropMaxlength","ltPropReadonly","ltPropId","ltPropClass","ltPropType","ltPropName","ltPropWidth","ltPropValue","ltPropContent","ltPropLabel","ltPropDescription","ltPropAppearance","ltPropDirection","ltPropExternalSearch","ltPropYield","ltPropHeight","ltPropHighlight","ltPropHighlightClass","ltPropKeyWords","ltPropMinLength","ltPropErrorClass","ltPropDropdownWidth","ltPropDropdownHeight","ltPropDropdownClass","ltPropDropdownId","ltPropMethod","ltPropWrapperStyle","ltPropTabIndex","ltPropTabindex","ltPropFreeze","ltPropCallout","ltPropShow","ltPropDisabled","ltPropHover","ltPropBoundary","ltPropPosition","ltPropDropType","ltPropSetPos","ltPropPattern","ltPropAutoUpdate","ltPropValueSet","ltPropPreventInsideClick","ltPropExtSearchOpen","ltPropInputTitle","ltPropErrorMessage","ltPropErrorClass","ltPropAnimate","ltPropSelected","ltPropRows","ltPropCols","ltPropTextAreaResize","timeout","optGroup","autocompleteFlag"],init:function(){this.$node.toggle=function(){this.$node.querySelector("lyte-dropdown").toggle(arguments[0],arguments[1])}.bind(this),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.autocompleteComp,delete this.input,delete this.dropdown,delete this.dropbody,delete this.$node.toggle,delete this.$node.setValue,clearTimeout(this.data.timeout),["focus","blur","click","select"].forEach(function(t){delete this.$node[t]}.bind(this))},didConnect:function(){var t=document.createElement("DIV");t.classList.add("lyteautocompleteError"),t.style.display="none",this.autocompleteComp=t,this.data.ltPropErrorMessage&&(t.innerText=this.data.ltPropErrorMessage),this.data.ltPropErrorClass&&t.classList.add(this.data.ltPropErrorClass),this.dropdown=this.$node.querySelector("lyte-dropdown"),this.dropbody=this.dropdown.childComp?this.component.childComp:this.dropdown.querySelector("lyte-drop-box"),this.dropbody.appendChild(t),this.$node.setValue=function(t){t=void 0!=t?t:"",this.$node.querySelector("lyte-input").ltProp("value",t),this.pressFunc.call(this,t,{})}.bind(this),["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("lyte-input")[t](e)}.bind(this)}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},errObs:function(t){"ltPropErrorMessage"==t.item?this.autocompleteComp.innerText=t.newValue:(this.autocompleteComp.classList.add(t.newValue),this.autocompleteComp.classList.remove(t.oldValue))}.observes("ltPropErrorMessage","ltPropErrorClass"),typeObs:function(){var t=this.getData("ltPropType");if("textarea"==t)this.input=this.$node.querySelector("textarea");else{if(this.input=this.$node.querySelector("input"),"search"==t)return void this.$node.classList.add("searchPresent");this.$node.classList.remove("searchPresent")}}.observes("ltPropType").on("didConnect"),arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},optGroupObs:function(){setTimeout(this.optGroup.bind(this,!0),0)}.observes("ltPropContent"),optGroup:function(t){(this.dropbody&&!this.dropbody.classList.contains("lyteDropdownHidden")&&this.input.value.length||this.data.ltPropExternalSearch)&&(t&&(this._prevext=!0),this.contentFiltering.call(this,this.input.value)),this.data.ltPropAnimate&&this.data.ltPropExternalSearch&&(this.dropbody.querySelector("lyte-drop-body").style.removeProperty("height"),delete this.dropdown.component._prevent)},classObs:function(){if(this.data.ltPropYield){arguments[0]&&this.dropbody.classList.remove(arguments[0].oldValue);var t=this.data.ltPropDropdownClass;t&&this.dropbody.classList.add(t)}}.observes("ltPropDropdownClass").on("didConnect"),heigthSetObs:function(){this.heigthSet.call(this)}.observes("ltPropDropdownHeight").on("didConnect"),heigthSet:function(){var t=this.data.ltPropDropdownHeight;t&&(this.dropbody.querySelector("lyte-drop-body").style.maxHeight=t)},widthSetObs:function(){this.widthSet.call(this)}.observes("ltPropDropdownWidth").on("didConnect"),widthSet:function(){var t=this.data.ltPropDropdownWidth;t&&(this.dropbody.querySelector("lyte-drop-body").style.width=t)},data:function(){return{ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropMaxlength:Lyte.attr("number",{default:25}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropId:Lyte.attr("string",{default:"inputId"}),ltPropClass:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:"text"}),ltPropName:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropValue:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropDescription:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"flat"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropExternalSearch:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropHighlight:Lyte.attr("boolean",{default:!1}),ltPropHighlightClass:Lyte.attr("string",{default:"lyteautocompleteHighlight"}),ltPropKeyWords:Lyte.attr("string",{default:""}),ltPropMinLength:Lyte.attr("number",{default:1}),ltPropErrorClass:Lyte.attr("string",{default:"lyteautocompleteError"}),ltPropDropdownWidth:Lyte.attr("string",{default:"auto"}),ltPropDropdownHeight:Lyte.attr("string",{default:"300px"}),ltPropDropdownClass:Lyte.attr("string",{default:""}),ltPropDropdownId:Lyte.attr("string",{default:"lyteAutocomplete"}),ltPropMethod:Lyte.attr("string",{default:"contains"}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropTabindex:Lyte.attr("string",{default:"-1"}),ltPropFreeze:Lyte.attr("boolean",{default:!1}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropHover:Lyte.attr("boolean",{default:!1}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropDropType:Lyte.attr("string",{default:"default"}),ltPropSetPos:Lyte.attr("boolean",{default:!1}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropValueSet:Lyte.attr("boolean",{default:!0}),ltPropPreventInsideClick:Lyte.attr("boolean",{default:!1}),ltPropExtSearchOpen:Lyte.attr("boolean",{default:!1}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropErrorClass:Lyte.attr("string",{default:""}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),timeout:Lyte.attr("number",{default:void 0}),optGroup:Lyte.attr("boolean",{default:!1}),autocompleteFlag:Lyte.attr("boolean",{default:!0})}},templateTrim:function(t){var e=(t=(t=t||"").trim()).indexOf("<template"),o=t.indexOf("</template>"),i=[];for(i.push(e);-1!=e;)(e=t.split("<template",i.length+1).join("<template").length)>o?(e=(t=t.slice(0,i.pop())+t.slice(o+11,t.length)).indexOf("<template"),o=t.indexOf("</template>")):i.push(e);return t},highlightText:function(t,e){for(var o=new RegExp("("+_lyteUiUtils.escape(e)+")","gi"),i=/(?!>)([^><]+)(?=<)/gi,l=0;l<t.length;l++){var a=t[l].querySelector("lyte-autocomplete-label"),n=t[l].querySelector("div.lyteAutoComplete");n||((n=document.createElement("div")).classList.add("lyteAutoComplete"),t[l].insertBefore(n,t[l].firstChild)),a.style.display="none",a.children.length?n.innerHTML=this.autoHighlight.call(this,this.templateTrim(a.innerHTML),o,i):n.innerHTML=a.textContent.replace(o,"<span class ="+this.getData("ltPropHighlightClass")+">$1</span>")}},autoHighlight:function(t,e,o){return t.replace(o,function(){return arguments[0].replace(e,"<span class ="+this.getData("ltPropHighlightClass")+">$1</span>")}.bind(this))},errorMessage:function(t){var e=this.autocompleteComp;t?(e.style.display="block",e.style.width||(e.style.width=window.getComputedStyle(this.$node).getPropertyValue("width"))):(e.style.display="none",this.data.ltPropErrorMessage||(e.innerHTML=""))},actions:{resetValue:function(t){this.$node.setValue(""),this.$node.focus()},keyup:function(t){if(37!=t.keyCode&&13!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&27!=t.keyCode){var e=this.input.value;void 0!=this.data.timeout&&clearTimeout(this.data.timeout),(e.length>=this.getData("ltPropMinLength")||8==t.keyCode||91==t.keyCode||17==t.keyCode)&&13!=t.keyCode&&this.setData("timeout",setTimeout(function(){this.pressFunc.call(this,e,t)}.bind(this),100))}},input:function(t){}},methods:{valSet:function(t,e){for(var o=(t||window.event).target;o&&"LYTE-DROP-ITEM"!=o.tagName&&"BODY"!=o.tagName;)o=o.parentNode;o&&"LYTE-DROP-ITEM"==o.tagName&&(e=o.querySelector("lyte-autocomplete-label").textContent);if(e){this.getData("ltPropValueSet")&&this.$node.ltProp("value",e.trim());var i=this.getData("ltPropContent");if(this.getMethods("onSelect")){var l;if(this.getData("ltPropYield"))l=o.getAttribute("data-value");else{i=this.getData("ltPropContent");for(var a=this.arrayFrom.call(this,this.dropbody.querySelector("lyte-drop-body").children),n=0;n<a.length;n++)-1==["LYTE-DROP-GROUP","LYTE-DROP-ITEM"].indexOf(a[n].tagName)&&(Lyte.arrayUtils(a,"removeAt",n),n--);if("LYTE-DROP-GROUP"==o.parentElement.tagName){var r=i[a.indexOf(o.parentElement)];l=r[Object.keys(r)[0]][this.arrayFrom.call(this,o.parentElement.querySelectorAll("lyte-drop-item")).indexOf(o)]}else l=i[a.indexOf(o)]}this.executeMethod("onSelect",l,t,this.$node)}}},show:function(){this.optGroupHide.call(this,!0),this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1])},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1])},beforeShow:function(){var t;return!(this.input&&this.input.value.length<this.data.ltPropMinLength)&&((!this.getMethods("onBeforeShow")||0!=(t=this.executeMethod("onBeforeShow",arguments[0],arguments[1])))&&(t&&t.then?(t.then(function(){setTimeout(this.pressFunc.bind(this),0,this.input.value,{})}.bind(this)),t):void(this._bymanual||setTimeout(this.pressFunc.bind(this),0,this.input.value,{}))))},beforeHide:function(){return!(this.getData("ltPropPreventInsideClick")&&arguments[0]&&27!=arguments[0].keyCode&&this.$node.contains(arguments[0].target))&&(this.getMethods("onBeforeHide")?this.executeMethod("onBeforeHide",arguments[0],arguments[1]):void 0)},add:function(){this.getMethods("onAdd")&&this.executeMethod("onAdd",arguments[0],arguments[1],arguments[2],arguments[3])},remove:function(){this.getMethods("onRemove")&&this.executeMethod("onRemove",arguments[0],arguments[1],arguments[2],arguments[3])},positionChanged:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",arguments[0],arguments[1])},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},valuechange:function(t){this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},blurEvent:function(t){this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)},focus:function(t,e){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)}},filteringArray:function(t,e,o,i){var l=this.getData("ltPropMethod"),a=[];if(o.length)for(var n=0;n<t.length;n++){var r=!1,s=t[n].trim().toLowerCase();o=o.toLowerCase();switch(l){case"contains":r=s.indexOf(o)>=0;break;case"startsWith":r=0==s.indexOf(o);break;case"endsWith":-1!=(d=s.lastIndexOf(o))&&(r=d+o.length==s.length)}r&&a.push(e[n])}else a=e;if(!this.getMethods("onSearch")||0!=this.executeMethod("onSearch",a,this.autocompleteComp,this.$node,o,i)){for(n=0;n<t.length;n++){r=!1,s=t[n].trim().toLowerCase(),o=o.toLowerCase();switch(l){case"contains":r=s.indexOf(o)>=0;break;case"startsWith":r=0==s.indexOf(o);break;case"endsWith":var d;-1!=(d=s.lastIndexOf(o))&&(r=d+o.length==s.length)}e[n].classList[r?"remove":"add"]("lyteSearchHidden")}this.optGroupHide.call(this),this.errorMessage.call(this,!a.length),a.length&&this.data.ltPropHighlight&&this.highlightText.call(this,e,o)}},optGroupHide:function(t){var e=this.dropbody.querySelectorAll("lyte-drop-item:not(.lyteSearchHidden):not(.lyteDropdownActive)"),o=this.dropbody.querySelector("lyte-drop-item.lyteDropdownSelection");if(!t)for(var i=this.dropbody.querySelectorAll("lyte-drop-group"),l=0;l<i.length;l++)i[l].querySelectorAll("lyte-drop-item.lyteSearchHidden").length==i[l].querySelectorAll("lyte-drop-item").length?i[l].style.display="none":i[l].style.display="block";$L.fastdom.measure(function(){for(var t,i=0;i<e.length;i++)if(e[i].offsetParent&&!e[i].classList.contains("lyteDropdown-disabled")){t=e[i];break}$L.fastdom.mutate(function(){t&&o!=t&&(o&&o.classList.remove("lyteDropdownSelection"),t.classList.add("lyteDropdownSelection"))}.bind(this))}.bind(this))},contentFiltering:function(t,e){var o=this.dropdown,i=[],l=[],a=(e=e||{},this.dropbody);if(!(a.classList.contains("lyteDropdownHidden")&&t.length>=this.data.ltPropMinLength||!a.classList.contains("lyteDropdownHidden")&&t.length<this.data.ltPropMinLength)||(this._bymanual=!0,o.toggle(),delete this._bymanual,!a.classList.contains("lyteDropdownHidden"))){l=a.querySelectorAll("lyte-drop-item:not(.lyteDropdownActive)");for(var n=0;n<l.length;n++){var r=l[n].querySelector("lyte-autocomplete-label"),s=r.getAttribute("keywords");if(s)try{s=JSON.parse(s).join(" ")}catch(t){}i.push(s||r.textContent.trim())}this.filteringArray.call(this,i,l,t,e)}},pressFunc:function(t,e){if(this.data.ltPropExternalSearch)if(t.length>=this.data.ltPropMinLength||!e.target){if(e.type&&this.dropbody.classList.contains("lyteDropdownHidden")&&this.data.ltPropExtSearchOpen&&(this.dropdown.toggle(),this.dropbody.classList.contains("lyteDropdownHidden")))return;!this._prevext&&this.getMethods("onExtSearch")&&this.executeMethod("onExtSearch",t,this.$node,e),delete this._prevext}else this.dropbody.classList.contains("lyteDropdownHidden")||this.dropdown.toggle();else this.contentFiltering.call(this,t,e)}}),Lyte.Component.register("lyte-breadcrumb",{_template:'<template tag-name="lyte-breadcrumb">\n\t<div onclick="{{action(\'divClick\', event, this)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-breadcrumb-structure class="{{ltPropClass}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="array" index="indexVal"><template is="if" value="{{expHandlers(lyteUiIsObject(array),\'==\',false)}}"><template case="true"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteBreadcrumbBullet\')}}"><template case="true">\n\t\t\t\t \t\t\t\t\t\t\t  <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t  \n\t\t\t\t \t\t\t\t\t\t\t  \t\t<lyte-breadcrumb-body> {{array}} </lyte-breadcrumb-body> \n\t\t\t\t \t\t\t\t\t\t\t\t\t<lyte-breadcrumb-head>{{indexVal}}</lyte-breadcrumb-head>\n\t\t\t\t \t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t \t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t  <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t \n\t\t\t\t\t\t\t\t\t\t\t  \t\t<lyte-breadcrumb-body> {{array}} </lyte-breadcrumb-body>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t </template></template></template><template case="false"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteBreadcrumbBullet\')}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-body> {{array[ltPropLabel]}} </lyte-breadcrumb-body> \n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-head>{{array[ltPropOption]}}</lyte-breadcrumb-head>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t   <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t   \t    <lyte-breadcrumb-body> {{array[ltPropLabel]}} </lyte-breadcrumb-body>\n\t\t\t\t\t\t\t\t\t\t\t   </lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t  </template></template></template></template></template>\n\t\t\t\t\t</lyte-breadcrumb-structure>\t\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t </template></template>\n\t\t</div>\t\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropClass","ltPropData","ltPropActiveClass","ltPropCompletedClass","ltPropYield","ltPropLabel","ltPropOption"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.$node.modifyCrumbItems},didConnect:function(){this.ArrayContentChange.call(this),this.$node.modifyCrumbItems=function(t,e,o){this.component.getData("ltPropYield")?this.component.ArrayContentChange.call(this.component):Lyte.arrayUtils(this.component.getData("ltPropData"),t,e,o)},$L.fastdom.measure(function(){var t=_lyteUiUtils.getRTL();$L.fastdom.mutate(function(){this.breadcrumbClass.call(this),t&&this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},ArrayContentChangeObs:function(){this.ArrayContentChange.call(this)}.observes("ltPropData.[]"),ArrayContentChange:function(){var t=this.$node.querySelectorAll("lyte-breadcrumb-item");if(t.length){for(var e=this.data.ltPropActiveClass,o=this.data.ltPropCompletedClass,i=0;i<t.length;i++)t[i].classList.add(o),t[i].classList.remove(e);t[t.length-1].classList.add(e),t[t.length-1].classList.remove(o)}},breadcrumbClassObs:function(){this.breadcrumbClass.call(this)}.observes("ltPropClass"),breadcrumbClass:function(){this.data.ltPropYield&&this.$node.querySelector("lyte-breadcrumb-structure").classList.add(this.data.ltPropClass)},data:function(){return{ltPropClass:Lyte.attr("string",{default:"lyteBreadcrumbSlash"}),ltPropData:Lyte.attr("array",{default:[]}),ltPropActiveClass:Lyte.attr("string",{default:"lyteActive"}),ltPropCompletedClass:Lyte.attr("string",{default:"lyteCompleted"}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropOption:Lyte.attr("string",{default:""})}},actions:{onclick:function(t,e,o){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;this.getMethods("onClick")&&(this.executeMethod("onClick",e,this.$node,t,o),t.stopPropagation())},divClick:function(t,e){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onClick")&&this.getData("ltPropYield"))for(var o=t.target.correspondingElement||t.target;o&&o!=e;){if("LYTE-BREADCRUMB-ITEM"==o.tagName){this.executeMethod("onClick",o,this.$node,t,o.getAttribute("data-value"));break}o=o.parentNode}}}}),Lyte.Component.register("lyte-button",{_template:'<template tag-name="lyte-button">\n\t<button type="{{ltPropType}}" onclick="{{action(\'check\',event)}}" class="{{finalClass}}" value="{{ltPropValue}}" tabindex="{{ltPropTabindex}}" id="{{ltPropId}}" name="{{ltPropName}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" style="{{finalStyle}}">\n\t\t\t<lyte-yield yield-name="text"></lyte-yield>\n\t\t</button>\n</template>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"finalStyle"},type:{name:"type",dynamicValue:"ltPropType"}}},{type:"insertYield",position:[1,1]}],_observedAttributes:["ltPropName","ltPropDisabled","ltPropAutofocus","ltPropAppearance","ltPropId","ltPropType","ltPropValue","ltPropTabindex","ltPropStyle","ltPropSize","ltPropBackgroundColor","ltPropColor","lyteShortcut","ltPropClass"],data:function(){return{ltPropName:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropAppearance:Lyte.attr("string",{default:"default"}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropType:Lyte.attr("string",{default:"button"}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropTabindex:Lyte.attr("string",{default:void 0}),ltPropStyle:Lyte.attr("string",{default:void 0}),ltPropSize:Lyte.attr("string",{default:"default"}),ltPropBackgroundColor:Lyte.attr("string",{default:void 0}),ltPropColor:Lyte.attr("string",{default:void 0}),lyteShortcut:Lyte.attr("object",{default:{}}),ltPropClass:Lyte.attr("string",{default:""})}},init:function(){this.pushValue()},registerFunction:function(t){var e=this;this.$node[t]=function(){var o=e.$node,i=o.querySelector("button");o.ltProp("disabled")||i[t]()}},didConnect:function(){for(var t=["click","focus","blur"],e=0;e<t.length;e++)this.registerFunction(t[e])},didDestroy:function(){var t=this.getData("lyteShortcut");t&&"function"==typeof shortcut&&shortcut.push({newKey:void 0,type:void 0,wait:void 0,oldKey:t.key}),delete this.$node.focus,delete this.$node.blur,delete this.$node.click},shortcutChanged:function(){this.pushValue()}.observes("lyteShortcut"),pushValue:function(){var t=this.getData("lyteShortcut"),e=this.$node;t.key&&"function"==typeof shortcut&&shortcut.push({newKey:t.key,type:t.type,wait:t.wait,oldKey:void 0,value:e})},changeClass:function(){var t=this.getData("ltPropClass"),e="",o="lyte-button"+(t?" "+t:""),i=this.getData("ltPropAppearance"),l=this.getData("ltPropSize"),a=this.getData("ltPropColor"),n=this.getData("ltPropBackgroundColor");l=l?l.toLowerCase():"",i=i||"default",n?o+=" lyteBackgroundColorBtn":a?o+=" lyteColorBtn":-1!==i.indexOf("default")?o+=" lyteDefaultBtn":-1!==i.indexOf("primary")?o+=" lytePrimaryBtn":-1!==i.indexOf("secondary")&&(o+=" lyteSecondary"),-1!==i.indexOf("success")?o+=" lyteSuccess":-1!==i.indexOf("failure")&&(o+=" lyteFailure"),"extra-small"===l?o+=" lyteExsm":"small"===l?o+=" lyteSm":"large"===l&&(o+=" lyteLg"),a?e=n?e+"background-color:"+n+";border-color:"+n+";color:"+a+";":e+"color:"+a+";border-color:"+a+";":n&&(e=e+"background-color:"+n+";border-color:"+n+";color:white;"),this.getData("ltPropStyle")&&(e+=this.getData("ltPropStyle")),this.setData("finalStyle",e),this.setData("finalClass",o)}.observes("ltPropClass","ltPropBackgroundColor","ltPropColor","ltPropStyle","ltPropSize","ltPropAppearance").on("init"),actions:{check:function(t){this.$node.querySelector("button").disabled&&t.stopPropagation()}}}),Lyte.Component.register("lyte-calculator",{_template:'<template tag-name="lyte-calculator">\n  <div class="lyteCalculator basic" tabindex="0" onkeydown="{{action(\'keydown\',event)}}" onkeyup="{{action(\'keyup\',event)}}">\n    <div class="calculatorDisplay">\n    <template is="if" value="{{ltPropEditable}}"><template case="true">\n         <input type="text" class="lyteCalculatorTextField" autocomplete="off" onmousedown="{{action(\'mdwnTextField\',event)}}" onmouseup="{{action(\'mupTextField\',event)}}" spellcheck="false">\n   </template><template case="false">\n        <div>\n            <div class="lyteCalculatorTextField" tabindex="0"></div>\n         </div>   \n    </template></template>\n      <div class="calculatorDispspan">0</div>\n      <div class="calculatorrad"></div>\n    </div>\n    <div class="calculatorbuttons" onmousedown="{{action(\'mousedown\',event)}}" onmouseup="{{action(\'mouseup\',event)}}">\n        <div class="calculatorToggle">\n        <span class="calculatorsmaller"></span> \n        </div>\n        <div class="advancedCalculator">\n            <span class="CalculatorBtn15">2<sup>nd</sup></span>\n            <span class="CalculatorBtn15">m+</span>\n            <span class="CalculatorBtn15">m-</span>\n            <span class="CalculatorBtn15 memorymr">mr</span>\n            <span class="CalculatorBtn15">mc</span>\n            <span class="CalculatorBtn14 Deg">Deg</span>\n            <span class="CalculatorBtn15">(</span>\n            <span class="CalculatorBtn15">)</span>\n            <span class="CalculatorBtn14">Rand</span>\n            <span class="CalculatorBtn15">1/x</span>\n            <span class="CalculatorBtn15">log<sub>y</sub></span>\n            <span class="CalculatorBtn16 pieButton">p</span>\n            <span class="CalculatorBtn14">E</span>\n            <span class="CalculatorBtn16">e</span>\n            <span class="CalculatorBtn15">!</span>\n            <span class="CalculatorBtn17 toggleBtns squareroot">x<sup>2</sup></span>\n            <span class="CalculatorBtn15 toggleBtns logbtn">log</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">sin</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">cos</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">tan</span>\n            <span class="CalculatorBtn17 toggleBtns calcLeft lastrow cuberoot">x<sup>y</sup></span>\n            <span class="CalculatorBtn16 toggleBtns lastrow naturallog">ln</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">sinh</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">cosh</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">tanh</span>\n        </div>\n        <div class="basicCalculator">\n            <span class="calcBackspace">C</span>\n            <span class="calcClearAc">AC</span>\n            <span class="calcPercent">%</span>\n            <span class="basicOp calcDivide">/</span>\n            <span>7</span>\n            <span>8</span>\n            <span>9</span>\n            <span class="basicOp calcMultiply">*</span>\n            <span>4</span>\n            <span>5</span>\n            <span>6</span>\n            <span class="basicOp calcAdd">+</span>\n            <span>1</span>\n            <span>2</span>\n            <span>3</span>\n            <span class="basicOp calcSub">-</span>\n            <span class="lastrow doubleWidth calcLeft">0</span>\n            <span class="calzero lastrow">.</span>\n            <span class="basicOp lastrow calcRight calcEqual">=</span>\n        </div>\n    </div>\n  </div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]}],_observedAttributes:["bigger","equation","previous","numstack","opstack","rank","secondLayer","operator","check_error","deg","memory","secondLayer","secondKeySet","secondActive","secondValue","cursor","cursorIndex","ltPropEditable","ltPropAutoFocus"],data:function(){return{bigger:Lyte.attr("boolean",{default:!1}),equation:Lyte.attr("string"),previous:Lyte.attr("string"),numstack:Lyte.attr("array",{default:[]}),opstack:Lyte.attr("array",{default:[]}),rank:Lyte.attr("object",{default:void 0}),secondLayer:Lyte.attr("array",{default:[]}),operator:Lyte.attr("string",{default:""}),check_error:Lyte.attr("boolean",{default:!1}),deg:Lyte.attr("boolean",{default:!1}),memory:Lyte.attr("number",{default:0}),secondLayer:Lyte.attr("array",{default:[]}),secondKeySet:Lyte.attr("array",{default:[]}),secondActive:Lyte.attr("boolean",{default:!1}),secondValue:Lyte.attr("array",{default:[]}),cursor:Lyte.attr("boolean",{default:!1}),cursorIndex:Lyte.attr("number",{default:0}),ltPropEditable:Lyte.attr("boolean",{default:!1}),ltPropAutoFocus:Lyte.attr("boolean",{default:!1})}},init:function(){this.setData("secondLayer",[["x<sup>2</sup>","log","sin","cos","tan","x<sup>y</sup>","ln","sinh","cosh","tanh"],["sqrt","10<sup>x</sup>","sin<sup>-1</sup>","cos<sup>-1</sup>","tan<sup>-1</sup>","xry","e<sup>x</sup>","sinh<sup>-1</sup>","cosh<sup>-1</sup>","tanh<sup>-1</sup>"]]),this.setData("rank",{"=":0,"+":1,"-":1,"/":2,"*":2,"~":6,N:5,"^":5,E:4,s:7,c:7,t:7,l:7,S:7,C:7,T:7,L:7,i:7,o:7,a:7,I:7,O:7,A:7,G:7,Q:7,"%":3,"!":3})},didConnect:function(){var t=this.$node.querySelector(".calculatorbuttons"),e=[],o=this.getData("secondLayer"),i=(this.getData("brackets"),[].slice.call(t.querySelector(".advancedCalculator").children,15,25));this.setData("secondKeySet",i);for(var l=2;l>=0;l--)for(var a=t.children[l],n=(r=a.children).length;n--;)e[a.children[n].textContent.replace(/\s*/g,"")]=a.children[n];var r;for(n=(r=o[0]).length;n--;){var s=r[n];"x<sup>2</sup>"===s?s="x2":"x<sup>y</sup>"===s&&(s="xy"),e[o[1][n].replace(/<\/*\w+>/g,"")]=e[s]}e.Rad=e.Deg,this.setData("keyBoard",e),this.getData("ltPropEditable")||$L(".lyteCalculatorTextField",this.$node).scroll({preventVertical:!0,preventHorizontal:!0}),this.getData("ltPropAutoFocus")&&this.$node.querySelector(".lyteCalculatorTextField").focus()},render:function(t,e){var o,i=t.match(/\./),l=this.$node.querySelector(".calculatorDispspan");this.$node.querySelector(".lyteCalculatorTextField");if(valAbs=Math.abs(+t),displayStyle=l.style,displayParentStyle=l.parentNode.style,t.match(/NaN|Inf/))o="NaN";else{if("Error"===t)return o=t,void(l.innerHTML=" ");valAbs>=1e16&&(t=(+t).toExponential(13)+""),e&&"+/-"!==e||0===valAbs||(t=(+t).toPrecision(12)),(o=(t+"").split("."))[1]&&(o[2]=o[1].split("e"),o[2][1]&&(o[1]=o[2][0]),e&&"+/-"!==e||(o[1]=(+("1."+o[1])).toPrecision(12)+"",o[1]>=2&&(o[0]=+o[0]+1+""),o[1]=o[1].substr(2).replace(/0+$/,""))),o=o[0]+(o[1]||i?"."+o[1]:"").replace(".undefined","").replace(e?"":/\.$/,"")+(o[2]&&o[2][1]?"e"+o[2][1]:"")}o=o.replace(/\./g,"#").replace(/\s/g,",").replace(/#/g,"."),l.innerHTML=o},getTargetKey:function(t){for(var e=this.$node.querySelector(".lyteCalculator");t!==e&&-1===t.className.indexOf("calculatorToggle")&&-1===t.className.indexOf("lyteCalculatorTextField")&&-1===t.className.indexOf("calculatorsmaller")&&t.parentNode&&-1===t.parentNode.className.indexOf("basicCalculator")&&-1===t.parentNode.className.indexOf("advancedCalculator");)t=t.parentNode;return t},keyUp:function(){var t=this.getData("pressedKey"),e=this.getData("secondActive");t&&t!==e&&(t.className=t.className.replace(" calc-press",""),t=null,this.setData("pressedKey",t))},keyDown:function(t,e){var o=t||window.event,i=(e||this.getTargetKey(o.target)).textContent.replace(/\s*/g,""),l=this.getData("keyBoard")[i],a=this.getData("pressedKey");return l&&(this.keyUp(),a=l,this.setData("pressedKey",a),l.className=l.className+" calc-press"),!1},preformMouseUp:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=[];e=this.getData("ltPropEditable")?o.value:o.innerHTML,equation=e;var l=this.convertequation(equation).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t});if(l.length>=2&&!l[l.length-1].match(/[!|%|^]/)&&this.isOperator(l[l.length-1])&&l[l.length-2].match(/[0-9!pe%)]/))l=(l=e.split(/(p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t})).splice(0,l.length-1),equation=l.join("");else if(l.length>=2&&!l[l.length-1].match(/[!|%]/)&&this.isOperator(l[l.length-1]))return this.render("Error"),void this.keyUp();equation=this.standardizeString(equation),this.getData("check_error")||(i=this.processString(equation)),this.getData("check_error")||(i=this.postfix(i)),this.getData("check_error")||(equation=this.valueMath(i)),this.getData("check_error")?this.render("Error"):(this.render(equation),this.keyUp())},processString:function(t){for(var e=t.split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),o=0;o<e.length;o++){if(o<e.length-1&&("p"===e[o]||"R"===e[o]||"e"===e[o])&&!this.isOperator(e[o+1]))return this.setData("check_error",!0),null;if(0==o&&!e[0].match(/[0-9a-zA-Zpe(.~]/))return this.setData("check_error",!0),null;if(0===o&&"G"===e[0])return this.setData("check_error",!0),null;if(o<e.length-1&&!e[o].match(/[(|)|%|!]/)&&!e[o+1].match(/[(]/)&&this.isOperator(e[o])&&!this.isOneMath(e[o])&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null;if(o<e.length-1&&"!"===!e[o]&&e[o+1].match(/[E]/))return this.setData("check_error",!0),null;if(o<e.length-1&&e[o].match(/[(]/)&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null;if(o<e.length-1&&this.isOneMath(e[o])&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null}return e},postfix:function(t){var e=[],o=[],i=this.getData("rank"),l=0;if(1===t.length)return t;for(var a=0;a<t.length;a++){var n=t[a];if(this.isOperator(n))if("("===n)o.push(n);else if(")"===n){var r;do{"("!==(r=o[o.length-1][0])&&(e[l]=o[o.length-1],l++),o.pop()}while("("!==r)}else{for(;0!==o.length&&i[o[o.length-1]+""]>=i[n+""];)e[l]=o.pop(),l++;o.push(n)}else e[l]=n,l++}for(;0!=o.length;)e[l]=o.pop(),l++;return e},factorial:function(t){return t<0||t>170?NaN:t<=1?1:t*this.factorial(t-1)},valueMath:function(t){for(var e,o=[],i=this.getData("deg"),l=Math.PI,a=0;a<t.length;a++){var n=t[a];if("p"===n)o.push(Math.PI);else if("e"===n)o.push(Math.exp(1));else{if(!this.isOperator(n)&&!n.match(/^(\d*\.)?\d+$/))return"Error";if(this.isOperator(n)){if(0===o.length)return"Error";var r=o.pop();switch(n){case"~":e=-r;break;case"s":e=i||Math.abs(r)!==l?Math.sin(r*(i?l/180:1))+"":"0";break;case"c":e=Math.cos(r*(i?l/180:1))+"";break;case"t":e=i||Math.abs(r)!==l?Math.tan(r*(i?l/180:1))+"":"0";break;case"%":e=r/100;break;case"!":if(!(r>=0&&parseInt(r)===r))return"NaN";e=this.factorial(Math.round(+r));break;case"l":e=Math.log(r)/Math.log(10);break;case"L":e=Math.log(r);break;case"S":e=(Math.pow(Math.E,r)-Math.pow(Math.E,-1*r))/2;break;case"C":e=(Math.pow(Math.E,r)+Math.pow(Math.E,-1*r))/2;break;case"T":var s=Math.pow(Math.E,r),d=Math.pow(Math.E,-1*r);e=s==1/0?1:d==1/0?-1:(s-d)/(s+d);break;case"i":e=Math.asin(r)*(i?180/l:1);break;case"o":e=Math.acos(r)*(i?180/l:1);break;case"a":e=Math.atan(r)*(i?180/l:1);break;case"I":e=Math.log(+r+Math.sqrt(1+Math.pow(r,2)));break;case"O":e=2*Math.log(Math.sqrt((+r+1)/2)+Math.sqrt((+r-1)/2));break;case"A":e=(Math.log(+r+1)-Math.log(1-r))/2;break;case"Q":e=Math.pow(r,.5)}if(0!==o.length){var p=o[o.length-1];switch(n){case"+":e=parseFloat(p)+parseFloat(r),o.pop();break;case"-":e=p-r,o.pop();break;case"*":e=p*r,o.pop();break;case"/":if(0==r)return"NaN";e=p/r,o.pop();break;case"^":e=Math.pow(p,r),o.pop();break;case"N":e=Math.pow(r,1/p),o.pop();break;case"E":e=p*Math.pow(10,r),o.pop();break;case"G":e=Math.log(r)/Math.log(p),o.pop()}}o.push(e)}else o.push(parseFloat(n))}}return o.pop()+""},checkrank:function(t){var e=this.getData(e),o=this.getData("rank");return e.length>0||e.length>0&&o[e.length-1]<o[t]},isOperator:function(t){return!!t.match(/^[+|\-|/|*|^|~|N|s|c|t|l|S|C|T|!|%|(|L|)|i|o|a|I|O|A|E|G|Q]+$/)},isOneMath:function(t){return!!t.match(/^[s|c|t|l|S|C|T|(|L|i|o|a|I|O|A|Q|~]+$/)},convertequation:function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=this.convertToPiandRoot(t)).trim()).replace("\\s+"," ")).replace(/sqrt/g,"Q")).replace(/logy/g,"G")).replace(/arcsinh/g,"I")).replace(/arccosh/g,"O")).replace(/arctanh/g,"A")).replace(/arcsin/g,"i")).replace(/arccos/g,"o")).replace(/arctan/g,"a")).replace(/log/g,"l")).replace(/sinh/g,"S")).replace(/cosh/g,"C")).replace(/tanh/g,"T")).replace(/sin/g,"s")).replace(/cos/g,"c")).replace(/tan/g,"t")).replace(/Rand/g,"R")).replace(/ln/g,"L")},convertToPiandRoot:function(t){var e=String.fromCharCode(parseInt("221A",16)),o=String.fromCharCode(parseInt("03C0",16)),i=new RegExp(o,"g");return t=t.replace(i,"p"),i=new RegExp(e,"g"),t=t.replace(i,"N")},standardizeString:function(t){var e,o,i="";if(e=(t=this.convertequation(t)).split("(").length,(o=t.split(")").length)>e)return this.setData("check_error",!0),null;for(var l=0;l<e-o;l++)t+=")";for(l=0;l<t.length;l++)l>0&&this.isOneMath(t[l])&&(")"==t[l-1]||t[l-1].match(/^[\d|\.|!|%|p|R|e]$/))&&(i+="*"),(0===l||l>0&&!t[l-1].match(/^[\d|\.|%|!]$/))&&"-"===t[l]&&t[l+1]&&(t[l+1].match(/^[\d|\.]$/)||"R"===t[l+1]||"e"===t[l+1]||"p"===t[l+1]||"("===t[l+1]||this.isOneMath(t[l+1]))?i+="~":(0===l||l>0&&"("===t[l-1])&&"+"===t[l]&&t[l+1]&&(t[l+1].match(/^[\d|\.]$/)||"R"===t[l+1]||"e"===t[l+1]||"p"===t[l+1]||"("===t[l+1])?i+="":l>0&&(t[l-1].match(/^[\d|\.]$/)||")"===t[l-1]||"R"===t[l-1]||"e"===t[l-1]||"p"===t[l-1])&&"p"===t[l]?i=i+"*"+t[l]:l>0&&(t[l-1].match(/^[\d|\.]$/)||")"===t[l-1]||"p"===t[l-1]||"e"===t[l-1]||"R"===t[l-1])&&"R"===t[l]?i=i+"*"+t[l]:l>0&&(t[l-1].match(/^[\d|\.]$/)||")"===t[l-1]||"p"===t[l-1]||"R"===t[l-1]||"e"===t[l-1])&&"e"===t[l]?i=i+"*"+t[l]:l>0&&"%"===t[l-1]&&(t[l].match(/^[\d|\.]$/)||"p"===t[l]||"R"===t[l]||"e"===t[l])?i=i+"*"+t[l]:l>0&&"!"===t[l-1]&&(t[l].match(/^[\d|\.]$/)||"p"===t[l]||"R"===t[l]||"e"===t[l])?i=i+"*"+t[l]:l>0&&(")"===t[l-1]||"p"===t[l-1]||"R"===t[l-1]||"e"===t[l-1])&&t[l].match(/^[\d|\.]$/)?i=i+"*"+t[l]:i+=t[l];return i},clearValue:function(){var t=this.$node.querySelector(".lyteCalculatorTextField");this.setData("check_error",!1),this.setData("cursorIndex",0),this.getData("ltPropEditable")?t.value="":t.innerHTML="",this.$node.querySelector(".calculatorDispspan").innerHTML="0"},memoryoperations:function(t){var e=this.getData("memory"),o=this.$node.querySelector(".calculatorDispspan").innerHTML,i=this.$node.querySelector(".lyteCalculatorTextField");if("mc"===t)e=0,this.$node.querySelector(".memorymr").classList.remove("active");else if("m+"===t)e+=parseFloat(o),this.$node.querySelector(".memorymr").classList.add("active");else if("m-"===t)e-=parseFloat(o),this.$node.querySelector(".memorymr").classList.add("active");else if("mr"===t){var l,a=this.getData("cursorIndex");if(l=this.getData("ltPropEditable")?i.value:i.innerHTML,n=this.convertToPiandRoot(l),!this.getData("check_error")){if(0==l.length||0==a||n[a-1]&&!n[a-1].match(/[0-9.]/)){if(l.length>a&&n[a].match(/[0-9.]/))return;var n=l.substring(0,a)+e+l.substring(a,l.length);this.getData("ltPropEditable")?i.value=n:i.innerHTML=n,this.setData("cursorIndex",a+(e+"").length)}this.setData("check_error",!1),this.preformMouseUp()}}this.setData("memory",e)},getSelectionIndex:function(){var t=this.$node.querySelector(".lyteCalculatorTextField");if(document.selection){t.focus();var e=document.selection.createRange(),o=e.text.length;return e.moveStart("character",-t.value.length),e.text.length-o+o}return t.selectionStart||"0"==t.selectionStart?t.selectionEnd:0},operationForBackspace:function(){var t,e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=this.getData("ltPropEditable");i?(t=o.value,o.focus(),e=this.getSelectionIndex()):e=(t=o.innerHTML).length;var l=this.convertToPiandRoot(t);e=t.length-e;var a,n=l.split(/(p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(a=n.length-1;a>=0&&r!==e;a--)r+=n[a].length;if(a>=0){i&&this.setData("cursorIndex",this.getData("cursorIndex")-n[a].length),n.splice(a,1),n=n.join("");var s=String.fromCharCode(parseInt("221A",16)),d=String.fromCharCode(parseInt("03C0",16));n=(n=n.replace(/p/g,d)).replace(/N/g,s),i?o.value=n:o.innerHTML=n}},operationForDot:function(t){var e,o,i=this.$node.querySelector(".lyteCalculatorTextField");this.getData("ltPropEditable")?(e=i.value,i.focus(),o=this.getSelectionIndex()):o=(e=i.innerHTML).length;var l=this.convertToPiandRoot(e);o=e.length-o;var a,n=l.split(/([0-9.]+|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(a=n.length-1;a>=0&&!(r>=o);a--)r+=n[a].length;if(a+1===n.length&&r===o){if(n[a].match(/[.]/g))return!0}else if(a>=1&&r===o&&n[a+1].match(/([0-9])/)){if(n[a+1].match(/[.]/g))return!0}else if(a>=0&&r===o&&!n[a+1].match(/([0-9])/)){if(n[a].match(/[.]/g))return!0}else if(r>o){if(n[a+1].match(/[.]/g))return!0}else if(0===a&&r===o&&n[a].match(/[.]/g))return!0;return!1},operationForZero:function(t){var e,o,i=this.$node.querySelector(".lyteCalculatorTextField");this.getData("ltPropEditable")?(e=i.value,i.focus(),o=this.getSelectionIndex()):o=(e=i.innerHTML).length;var l=this.convertToPiandRoot(e);o=e.length-o;var a,n=l.split(/([0-9.]+|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(a=n.length-1;a>=0&&!(r>=o);a--)r+=n[a].length;if(a>=0&&r===o){if(parseInt(n[a])+""=="0"&&!n[a].match(/[.]/g))return!0}else if(o>0&&r>o&&parseInt(n[a+1])+""=="0"&&!n[a+1].match(/[.]/g))return!0;return!1},operationForArrowLeft:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=o.value;o.focus(),e=this.getSelectionIndex();var l,a=this.convertToPiandRoot(i).split(/([0-9.]|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),n=0;for(l=0;l<a.length-1&&(a[l+1]&&n+a[l].length<e);l++)n+=a[l].length;0==l&&(n=0),this.setData("cursorIndex",n+1),o.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex"))},operationForArrowRight:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=o.value;o.focus(),e=this.getSelectionIndex();var l,a=this.convertToPiandRoot(i),n=a.split(/([0-9.]|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(l=0;l<n.length&&r+n[l].length<=e;l++)r+=n[l].length;l==n.length?r=a.length:r+=n[l].length,this.setData("cursorIndex",r-1),o.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex"))},preformMouseDown:function(t){if(this.keyDown(t),!this.getData("pressedKey"))return!1;var e,o,i,l=String.fromCharCode(parseInt("221A",16)),a=String.fromCharCode(parseInt("03C0",16)),n=this.$node.querySelector(".lyteCalculatorTextField"),r=t||window.event,s=this.getTargetKey(r.target).textContent.replace(/\s*/g,""),d=this.getData("keyBoard")[s],p=this.getData("secondKeySet"),c=this.getData("secondLayer"),h=(this.getData("secondValue"),this.getData("ltPropEditable"));if(h?(n.focus(),e=this.getSelectionIndex(),m=n.value):(e=(m=n.innerHTML).length,$L.fastdom.measure(function(){if(n){var t=n.offsetWidth,e=n.scrollWidth;$L.fastdom.mutate(function(){n.scrollLeft=e-t}.bind(this))}}.bind(this))),o=this.getData("cursorIndex"),i=this.convertToPiandRoot(m),null===d&&"undefined"===d||(text=d.innerText,this.setData("previous",text)),-1!==this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),-1!==d.className.indexOf("calculatorsmaller")||-1!==d.className.indexOf("calculatorToggle"))return this.setData("bigger",!this.getData("bigger")),this.getData("bigger")?(this.$node.querySelector(".basicCalculator").classList.add("anim"),this.$node.querySelector(".lyteCalculator").classList.remove("basic"),this.$node.querySelector(".lyteCalculator").classList.add("advanced")):(this.$node.querySelector(".basicCalculator").classList.remove("anim"),this.$node.querySelector(".lyteCalculator").classList.remove("advanced"),this.$node.querySelector(".lyteCalculator").classList.add("basic")),this.$node.querySelector(".calculatorrad").innerHTML=this.getData("bigger")?"Rad":"",this.getData("bigger")||this.setData("deg",!1),void this.keyUp();if(m.length>0&&(!text.match(/[0-9|.]/)||"1/x"==text||"10x"==text)&&"C"!=text&&"AC"!=text&&"."==m[m.length-1]?(m+="0",h?n.value=m:n.innerHTML=m,i=this.convertToPiandRoot(m),this.setData("cursorIndex",this.getData("cursorIndex")+1),o+=1,e+=1,this.preformMouseUp()):"10x"==text&&""!==m&&m[e-1]&&m[e-1].match(/([0-9])/g)&&(m+="*",h?n.value=m:n.innerHTML=m,i=this.convertToPiandRoot(m),this.setData("cursorIndex",this.getData("cursorIndex")+1),o+=1,e+=1,this.preformMouseUp()),"Rand"===text&&0!==e&&m.length>e&&i[e-1].match(/([0-9|e|p|.])/)&&(i[e].match(/([0-9|e|p])/)||m[e]===a)){var u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+"*"+u+"*"+m.substring(e,m.length+2),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text&&0!==e&&m.length>=1&&i[e-1]&&i[e-1].match(/([0-9|e|p|.])/)){u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+"*"+u+m.substring(e,m.length+1),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text&&m.length>e&&m[e]&&i[e].match(/([0-9|e|p|.])/)){u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+u+"*"+m.substring(e,m.length+1),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text){u=Math.random().toPrecision(11)+"";return m=m.substring(0,e)+u+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.setData("cursorIndex",o+u.length),void this.keyUp()}if("1/x"===text&&m.length>=1&&m[e-1]&&i[e-1].match(/([0-9|e|p])/))return text="*1/",m=m.substring(0,e)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.setData("cursorIndex",o+text.length),void this.keyUp();var y=this.convertequation(m);if(y=(y=y.replace(/^[a-z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),0!=m.length&&"."===text){if(this.operationForDot())return void this.keyUp()}else if(0!=m.length&&"0"===text){if(this.operationForZero())return void this.keyUp()}else if("="===text)return this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn")," "==this.$node.querySelector(".calculatorDispspan").innerHTML&&(this.$node.querySelector(".calculatorDispspan").innerHTML="Error"),-1==n.className.indexOf("hideCursor")&&n.classList.add("hideCursor"),void this.keyUp();if("C"===text){this.operationForBackspace();var m;n=this.$node.querySelector(".lyteCalculatorTextField");(m=h?n.value:n.innerHTML).length>=1?this.preformMouseUp():m.length<1&&this.clearValue(),this.keyUp()}else{if("AC"===text)return this.clearValue(),void this.keyUp();if("-"===text&&y.length>=2&&m[e-2]&&"-"===m[e-1]&&!i[e-2].match(/[0-9|p|e]/))return void this.keyUp();if("E"===text&&y.length>=1&&m[e-1]&&i[e-1].match(/[!||p|e]/))return void this.keyUp()}if(0!==e||!text.match(/^[+|/|*|!|E|%|.]+$/)&&"logy"!==text&&"xry"!==text&&"x2"!==text&&"xy"!=text){if(""!==m&&e-1!=-1&&"."===m[e-1]&&"."===text)return this.preformMouseUp(),void this.keyUp();if(""!==m&&e-1!=-1&&"E"===m[e-1]&&text.match(/([^0-9])/g))this.keyUp();else if(1!=e||"-"!=m[e-1]||!text.match(/^[+|-|/|*|!|%|E]+$/)&&"logy"!==text&&"xy"!=text){if(""===m||e-1==-1||!m[e-1]||!i[e-1].match(/^[+|\-|/|*|E|^]+$/)&&"logy("!==m.substring(e-5,e)||!text.match(/^[+|-|/|*|!|%|E]+$/)&&"logy"!==text&&"xy"!=text){if(""!==m&&e-1!=-1&&m[e-1]&&(i[e-1].match(/([^0-9-%ep!)])/g)||"Rand"===m.substring(e-4,e))&&(text.match(/^[+|-|/|*|!|%|E]+$/)||"logy"===text||"xry"===text||"x2"===text||"xy"===text))return void this.keyUp();if("="===text)return void this.keyUp();if(!text.match(/^m[c|+|-|r]/)&&"AC"!=text&&"C"!=text&&"2nd"!=text&&"Deg"!=text&&"Rad"!=text&&"="!=text&&"m-"!=text&&">"!=text)return"xry"===text?text=l:"p"===text?text=a:"1/x"===text?text="1/":"10x"===text?text="10^":"ex"===text?text="e^":"xy"===text?text="^":"x2"===text?text="^2":"sin-1"===text?text="arcsin":"cos-1"===text?text="arccos":"tan-1"===text?text="arctan":"sinh-1"===text?text="arcsinh":"cosh-1"===text?text="arccosh":"tanh-1"===text&&(text="arctanh"),(text.match(/^[sin|cos|tan|sinh|cosh|tanh|logy|log|ln|arcsin|arccos|arctan|arcsinh|arccosh|arctanh|sqrt|N]+$/)||text==l)&&(text+="("),m.length===e?h?n.value+=text:n.innerHTML+=text:(m=m.substring(0,e)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m),this.setData("cursorIndex",o+text.length),this.setData("check_error",!1),this.preformMouseUp(),void this.keyUp();if(text.match(/^m[c|+|-|r]/)||"m-"===text)return this.memoryoperations(text),void this.keyUp();if("Deg"===text||"Rad"===text)return this.$node.querySelector(".calculatorrad").innerHTML=this.getData("deg")?"Rad":"Deg",this.$node.querySelector(".Deg").innerHTML=this.getData("deg")?"Deg":"Rad",this.setData("deg",!this.getData("deg")),""!==(m=h?this.$node.querySelector(".lyteCalculatorTextField").value:this.$node.querySelector(".lyteCalculatorTextField").innerHTML)&&this.preformMouseUp(),void this.keyUp();if("2nd"===text){var g=this.getData("secondActive");g=!g,this.setData("secondActive",g),d.className=g?"calc-second":"";for(var f=p.length;f--;)p[f].innerHTML=c[g?1:0][f],g?p[f].classList.add("inverse"):p[f].classList.remove("inverse");return this.setData("secondKeySet",p),void this.keyUp()}}else"logy"==text&&(text+="("),"xy"==text&&(text="^"),"logy("===m.substring(e-5,e)&&"logy("!==text?(m=m.substring(0,e-5)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.keyUp(),this.setData("cursorIndex",o-5)):"logy("!==m.substring(e-5,e)&&(m=m.substring(0,e-1)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.keyUp(),this.setData("cursorIndex",o-1)),this.setData("cursorIndex",this.getData("cursorIndex")+text.length);this.keyUp()}else this.keyUp()}else this.keyUp()},actions:{mousedown:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=this.getData("ltPropEditable");-1!=o.className.indexOf("hideCursor")&&o.classList.remove("hideCursor"),this.getData("ltPropEditable")||o.classList.add("hideCursorNonEditable"),this.setData("check_error",!1),i?(o.focus(),e=this.getSelectionIndex()):e=o.innerHTML.length,this.setData("cursorIndex",e),this.preformMouseDown(t)},mouseup:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField"),o=this.getData("ltPropEditable");o?(e.value,e.focus()):e.innerHTML,o&&"Rand"!=t.key&&(e.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),e.focus())},keydown:function(t){var e,o,i=t.key,l=this.$node.querySelector(".lyteCalculatorTextField"),a=this.getData("ltPropEditable");if(a?(o=l.value,l.focus(),e=this.getSelectionIndex(),l.classList.add("hideCursor")):(e=(o=l.innerHTML).length,$L.fastdom.measure(function(){if(l){var t=l.offsetWidth,e=l.scrollWidth;$L.fastdom.mutate(function(){l.scrollLeft=e-t}.bind(this))}}.bind(this))),this.setData("check_error",!1),this.setData("cursorIndex",e),"Backspace"===i)return this.operationForBackspace(),void t.preventDefault();if(this.getData("ltPropEditable")&&37===t.which)this.operationForArrowLeft();else if(this.getData("ltPropEditable")&&39===t.which)this.operationForArrowRight();else if(this.getData("bigger")||"^"!==i&&!i.match(/([^0-9/%*+-.])/g)&&","!==i||"Backspace"==i||"Enter"===i||38===t.which&&40===t.which)if(!this.getData("bigger")||!i.match(/([^0-9/()%^!*+-.])/g)&&","!==i||"Backspace"===i||"Enter"===i||38===t.which&&40===t.which){if("Backspace"!=i&&"Enter"!=i){var n=this.convertequation(o),r=this.convertToPiandRoot(o);if(n=(n=n.replace(/^[a-zA-Z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),o.length>0&&(!i.match(/[0-9|.]/)||"1/x"==i||"10x"==i)&&"C"!=i&&"AC"!=i&&"."==o[o.length-1]&&(o+="0",a?l.value=o:l.innerHTML=o,r=this.convertToPiandRoot(o),this.setData("cursorIndex",this.getData("cursorIndex")+1),cursorIndex+=1,e+=1,this.preformMouseUp()),0!==o.length&&"."===i){if(this.operationForDot())return void t.preventDefault()}else if(0!==o.length&&"0"===i){if(this.operationForZero())return void t.preventDefault()}else{if(1==e&&"-"==o[e-1]&&(i.match(/^[+|-|/|*|!|%|E]+$/)||"logy"===i||"xy"==i))return void t.preventDefault();if("-"===i&&n.length>=2&&"-"===o[e-1]&&!r[e-2].match(/[0-9|p|e]/))return void t.preventDefault()}if((0===o.length||0===e)&&i.match(/^[+|/|*|!|%|.|^]+$/))return void t.preventDefault();if(""!==o&&e-1!=-1&&"."===o[e-1]&&"."===i)return void t.preventDefault();""===o||e-1==-1||!o[e-1].match(/^[+|\-|/|*|E|\^]+$/)&&"logy("!==o.substring(e-5,e)||!i.match(/^[+|-|/|*|!|%|E|\^]+$/)&&"logy"!==i?a||(l.innerHTML+=i):("logy"===i&&(i+="("),"logy("===o.substring(e-5,e)&&"logy("!==i?(o=o.substring(0,e-5)+i+o.substring(e,o.length),a?l.value=o:l.innerHTML=o,this.setData("cursorIndex",this.getData("cursorIndex")-5),t.preventDefault()):"logy("!==o.substring(e-5,e)&&(o=o.substring(0,e-1)+i+o.substring(e,o.length),a?l.value=o:l.innerHTML=o,this.setData("cursorIndex",this.getData("cursorIndex")-1),t.preventDefault())),this.setData("cursorIndex",this.getData("cursorIndex")+i.length)}}else t.preventDefault();else t.preventDefault()},keyup:function(t){var e,o=t.key,i=this.$node.querySelector(".lyteCalculatorTextField"),l=this.getData("ltPropEditable");if(this.setData("check_error",!1),e=this.getData("ltPropEditable")?i.value:i.innerHTML,this.getData("ltPropEditable")&&37==t.which)return t.preventDefault(),void i.classList.remove("hideCursor");if(this.getData("ltPropEditable")&&37==t.which)return t.preventDefault(),void i.classList.remove("hideCursor");if(!(this.getData("bigger")||"^"!==o&&!o.match(/([^0-9/%*+-=.])/g)||"Backspace"===o||"Enter"===o||37==t.which&&39==t.which&&38===t.which&&40===t.which))return l&&i.classList.remove("hideCursor"),this.setData("cursorIndex",this.getData("cursorIndex")),void t.preventDefault();if(!(!this.getData("bigger")||!o.match(/([^0-9/()%^!*+-=.])/g)||187!==t.keyCode&&61===t.keyCode||t.shiftKey||"Backspace"===o||"Enter"===o||37==t.which&&39==t.which&&38===t.which&&40===t.which))return i.classList.remove("hideCursor"),this.setData("cursorIndex",this.getData("cursorIndex")),void t.preventDefault();if(e.length>=1){if(-1!=this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),"Backspace"===o)l&&(i.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),i.classList.remove("hideCursor")),this.preformMouseUp();else{if("="===o||"Enter"===o){var a=this.convertequation(e);return a=(a=a.replace(/^[a-zA-Z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn"),this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn"),void(" "==this.$node.querySelector(".calculatorDispspan").innerHTML&&(this.$node.querySelector(".calculatorDispspan").innerHTML="Error"))}l&&(i.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),i.classList.remove("hideCursor"))}this.setData("previous",o),this.preformMouseUp()}else l&&i.classList.remove("hideCursor"),this.clearValue()},mupTextField:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField"),o=e.value,i=this.convertToPiandRoot(o);if(-1!=this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),!this.getData("ltPropEditable"))return e.setSelectionRange(o.length,o.length),void t.preventDefault();if(e.value.length>=1){if(e.focus(),index=this.getSelectionIndex(),0!==index&&!i[index-1].match(/^[+|\-|/|*|!|^|(|e|p|)|E|%]+$/)&&!i[index-1].match(/[0-9.]/g)&&o.length!==index)return e.setSelectionRange(o.length,o.length),e.classList.remove("hideCursor"),void t.preventDefault();e.classList.remove("hideCursor")}e.classList.remove("hideCursor")},mdwnTextField:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField");e.classList.add("hideCursor"),this.getData("ltPropEditable")||-1!==e.className.indexOf("hideCursorNonEditable")||e.classList.add("hideCursorNonEditable")}}}),Lyte.Component.register("lyte-calendar",{_template:'<template tag-name="lyte-calendar">\n    <div class="lyteCalendarPopup">\n        <div class="lyteCalendarView">\n            <div>\n                <template is="if" value="{{navYield}}"><template case="true">\n                    <lyte-yield yield-name="navigator"></lyte-yield>\n                </template><template case="false">\n                    <div class="lyteCalendarNavigator">\n                        <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                            <template is="if" value="{{ltPropYear}}">\n                            <template case="true"><span class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}"></span></template>\n                            </template>\n                        </template></template>\n                        <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'previous\',\'M\',event)}}"></span>\n                        <span class="lyteCalsCalMon">\n                            <template is="if" value="{{ifEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                                \n\n                                <lyte-dropdown lt-prop-callout="true" on-show="{{method(\'setClass\')}}" class="lyteCalMonthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'M\')}}">\n                                <template is="registerYield" yield-name="yield">\n                                    <lyte-drop-box>\n                                        <lyte-drop-body>\n                                            <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                            </template>\n                                        </lyte-drop-body>\n                                    </lyte-drop-box>\n                                </template>\n                            </lyte-dropdown>\n                            <lyte-dropdown lt-prop-callout="true" on-show="{{method(\'setClass\')}}" class="lyteCalYearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'Y\')}}">\n                                <template is="registerYield" yield-name="yield">\n                                    <lyte-drop-box>\n                                        <lyte-drop-body>\n                                            <template is="for" items="{{years}}" item="item" index="index">\n                                                <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                            </template>\n                                        </lyte-drop-body>\n                                    </lyte-drop-box>\n                                </template>\n                            </lyte-dropdown>\n                            </template><template case="false">\n                                <span class="lyteCalsCalMonth">{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span>\n                                <span class="lyteCalsCalYear">{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span>\n                            </template></template>\n                        </span>\n                        <span class="lyteCalNav lyteCaldRgt" onclick="{{action(\'next\',\'M\',event)}}"></span>\n                        <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                            <template is="if" value="{{ltPropYear}}">\n                                <template case="true"><span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'next\',\'Y\',event)}}"></span></template>\n                            </template>\n                        </template></template>\n                    </div>\n                </template></template>\n                \n            </div>\n            <div class="lyteCalTableContainer">\n                <div class="lyteCalTableRowHeader">\n                    <template is="for" items="{{daysOfWeek}}" item="day" indexval="idod">\n                        <div class="lyteCalTableCellHeader">{{lyteUiI18n(day)}}</div>\n                    </template>\n                </div>\n                <template is="for" items="{{matrix}}" item="vector" indexval="rowid">\n                    <template is="if" value="{{lyteUiCheckEmpty(vector)}}">\n                        <template case="false">\n                            <div class="lyteCalTableRow">\n                                <template is="for" items="{{vector}}" item="date" indexval="cellid">\n                                    <template is="if" value="{{lyteUiCheckInRange(ltPropMinDate,ltPropMaxDate,date.val,ltPropFormat)}}">\n                                        <template case="true">\n                                            <template is="if" value="{{date.emptyBlock}}">\n                                                <template case="true">\n                                                    <div class="lyteCalEmpty"></div>\n                                                </template>\n                                                <template case="false">\n                                                    <div data-date="{{date.val}}" onclick="{{action(\'dateSelected\',event)}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                </template>\n                                            </template>\n                                        </template>\n                                        <template case="false">\n                                            <template is="if" value="{{date.emptyBlock}}">\n                                                <template case="true">\n                                                    <div class="lyteCalEmpty"></div>\n                                                </template>\n                                                <template case="false">\n                                                    <div data-date="{{date.val}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                </template>\n                                            </template>\n                                        </template>\n                                    </template>\n                                </template>\n                            </div>\n                        </template>\n                    </template>\n                </template>\n            </div>\n            <div>\n                <div class="lyteCalBtns">\n                    <template is="if" value="{{showToday}}">\n                        <template case="true"><p class="lyteCalCurrentDate"><a onclick="{{action(\'today\',event)}}">{{lyteUiI18n(\'today\')}}</a></p></template>\n                    </template>\n                    <template is="if" value="{{ltPropYield}}">\n                        <template case="true">\n                            <lyte-yield yield-name="footer"></lyte-yield>\n                        </template>\n                    </template>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,0]}]}},default:{}},{type:"attr",position:[1,7]},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3,1,1]},{type:"for",position:[1,1,3,1,1],dynamicNodes:[{type:"text",position:[1,0]}]},{type:"attr",position:[1,1,3,3]},{type:"for",position:[1,1,3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]}},default:{}}]}]}},default:{}}]},{type:"attr",position:[1,1,5,1,1]},{type:"if",position:[1,1,5,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0,0]},{type:"text",position:[0,0,0]}]}},default:{}},{type:"attr",position:[1,1,5,1,3]},{type:"if",position:[1,1,5,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropFormat","ltPropYear","ltPropMonthHeaderFormat","daysOfWeek","monthNames","shortHands","todayName","viewDate","changeData","ltPropYield","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","navYield","selectDate","currentDatechanged","ltPropFillRows","ltPropNumberOfRows","callFrmDidcnct","monthDD","yearDD","years","ltPropHeaderType"],data:function(){return{ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),ltPropYear:Lyte.attr("boolean",{default:!0}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMMM YYYY"}),daysOfWeek:Lyte.attr("array",{default:[]}),monthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),shortHands:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),todayName:Lyte.attr("string",{default:"Today"}),viewDate:Lyte.attr("object",{default:{}}),changeData:Lyte.attr("number",{default:0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:1}),navYield:Lyte.attr("boolean",{default:!1}),selectDate:Lyte.attr("boolean",{default:!0}),currentDatechanged:Lyte.attr("number",{default:0}),ltPropFillRows:Lyte.attr("boolean",{default:!0}),ltPropNumberOfRows:Lyte.attr("number",{default:6}),callFrmDidcnct:Lyte.attr("boolean",{default:!1}),monthDD:Lyte.attr("object"),yearDD:Lyte.attr("object"),years:Lyte.attr("array",{default:[1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100]}),ltPropHeaderType:Lyte.attr("string",{default:"default"})}},changeDaysOfWeek:function(){var t,e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=this.getData("ltPropStartWeekDay"),i=[];for(t=0;t<7;t++)i.push(e[(t+o)%7]);this.setData("daysOfWeek",i)},setMonthAndYearDropdown:function(){if(!this.getData("navYield")&&"dropdown"==this.getData("ltPropHeaderType")&&this.getData("monthDD")&&this.getData("yearDD")){var t,e=this.getData("monthHeader").split(" "),o=this.getData("ltPropMonthHeaderFormat"),i=[];/MMMM YYYY/gi.test(o)?t=this.getData("monthNames"):/MMM YYYY/gi.test(o)&&(t=this.getData("shortHands"));for(var l=0;l<t.length;l++)i[l]=_lyteUiUtils.i18n(t[l]);this.setData("monthNames",i),this.getData("monthDD").component.setData("ltPropSelected",e[0]),this.getData("yearDD").component.setData("ltPropSelected",e[1])}}.observes("monthHeader","callFrmDidcnct"),startWeekDayObserver:function(){this.changeDaysOfWeek()}.observes("ltPropStartWeekDay"),monthHeaderObserver:function(){this.setData("monthHeader",this.getMonthHeader.call(this))}.observes("monthNames.[]"),getMonthHeader:function(){var t,e=this.getData("ltPropMonthHeaderFormat"),o="";return/MMMM YYYY/gi.test(e)?(t=this.getData("monthNames"),o=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()):/MMM YYYY/gi.test(e)&&(t=this.getData("shortHands"),o=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()),o},revert:function(t){var e=new Date(this.getData("viewDate").getTime()),o=new Date;o.setDate(1);var i=new Date(o.getTime());this.setData("viewDate",o),this.setData("monthHeader",this.getMonthHeader.call(this)),this.setData("changeData",this.getData("changeData")+1),this.setData("showToday",!1),!this.getMethods("onNavigate")||e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()||this.executeMethod("onNavigate",t,this.getDateFromFormat(e,this.getData("ltPropFormat")),this.getDateFromFormat(i,this.getData("ltPropFormat")),this)},getDateFromFormat:function(t,e){var o,i=t.getDate(),l=t.getFullYear(),a=t.getMonth()+1;return e=e.toUpperCase(),a<10&&(a="0"+a),i<10&&(i="0"+i),/(MMMM|DD|YYYY).+(MMMM|DD|YYYY).+(YYYY|MMMM|DD)/gi.test(e)?(o=["January","February","March","April","May","June","July","August","September","October","November","December"],e=(e=(e=e.replace("MMMM",o[a-1])).replace("DD",i)).replace("YYYY",l)):/(MMM|DD|YYYY).+(MMM|DD|YYYY).+(YYYY|MMM|DD)/gi.test(e)?(o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=(e=(e=e.replace("MMM",o[a-1])).replace("DD",i)).replace("YYYY",l)):/(YYYY).+(MM).+(DD)/gi.test(e)?e=(e=(e=e.replace("MM",a)).replace("DD",i)).replace("YYYY",l):/(MM).+(DD).+(YYYY)/gi.test(e)?e=(e=(e=e.replace("MM",a)).replace("DD",i)).replace("YYYY",l):/(DD).+(MM).+(YYYY)/gi.test(e)&&(e=(e=(e=e.replace("MM",a)).replace("DD",i)).replace("YYYY",l)),e},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getNumber:function(t,e){return this.isLeapYear.call(this,e)&&1==t?29:[31,28,31,30,31,30,31,31,30,31,30,31][t]},showtoday:function(){var t=new Date;t.getMonth()!=this.getData("viewDate").getMonth()||t.getYear()!=this.getData("viewDate").getYear()?this.setData("showToday",!0):this.setData("showToday",!1)},reset:function(t){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)},checkDate:function(t){var e,o,i=this.getData("ltPropMinDate"),l=this.getData("ltPropMaxDate");if(this.reset(t),""===i&&""===l)return!0;if(""!==i&&""===l){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),t>=e)return!0}else if(""!==i&&""!==l){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),o=this.stringToDate(l,this.getData("ltPropFormat")),this.reset(o),t>=e&&t<=o)return!0}else if(o=this.stringToDate(l,this.getData("ltPropFormat")),this.reset(o),t<=o)return!0;return!1},numberOfRowsChange:function(){var t=this.getData("ltPropNumberOfRows");try{if(t<5)throw"Calendar failed to render. The number of rows should be greater than 4."}catch(t){return void console.error(t)}this.setDatesFunction()}.observes("ltPropNumberOfRows"),setDates:function(){this.setDatesFunction()}.observes("ltPropStartDate","ltPropEndDate","changeData","ltPropMinDate","ltPropMaxDate","ltPropFormat","ltPropStartWeekDay"),getNumberOfFirstRowDates:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0===e?7:e:t<e?e-t:7-(t-e)},getNumberToSubtract:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0==e?0:7-e:t<e?7-(e-t):t-e},getFirstDay:function(t,e){var o;return(o=e-(o=t-7*Math.floor(t/7)-1))<0&&(o=7-o),o},getRemainingDays:function(t,e){var o=t-e;return o-=28},inc:function(t,e){return t>0&&6==e?7:e},setDatesFunction:function(){var t=this.getData("ltPropNumberOfRows"),e=this.getData("ltPropFillRows"),o=!1,i=[],l=this.getData("viewDate"),a=l.getDay(),n=l.getDate(),r=this.getFirstDay(n,a),s=l.getMonth(),d=l.getFullYear(),p=this.getNumber(this,s,d),c=this.getNumberOfFirstRowDates(r),h=this.getRemainingDays(p,c);t=this.inc(h,t);var u=new Date(s+1+"/1/"+d),y=this.getNumberToSubtract(r);u.setDate(u.getDate()-y);for(var m=new Date,g=0;g<t&&!o;g++){i.push([]);for(var f=0;f<7;f++)if(e||s===u.getMonth()){var v="lyteCalCdate",D=u.getMonth(),b=new Date(this.getData("viewDate").getTime()).getMonth(),P=u.getDate(),C=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):"nodate",L=u.getYear(),x=this.checkDate(u),S=""!==this.getData("ltPropMinDate")||""!==this.getData("ltPropMaxDate");b!==D?(S&&!x||!S)&&(v+=" lyteCalGray"):S&&!x&&(v+=" lyteCalGray"),"nodate"!==C&&"Invalid Date"!==C&&D==C.getMonth()&&C.getDate()==P&&C.getYear()==L&&this.getData("selectDate")&&(v+=" lyteCalSel"),m.getMonth()===D&&m.getDate()===P&&m.getYear()===L&&this.getData("selectDate")&&(v+=" lyteCalToday"),0!=u.getDay()&&6!=u.getDay()||(v+=" lyteCalWeekend"),v+=" lyteCalTableCell";var w={};w.date=u.getDate(),w.clsname=v,w.val=this.getDateFromFormat.call(this,u,this.getData("ltPropFormat")),i[g].push(w),u.setDate(u.getDate()+1)}else i[g].push({emptyBlock:!0}),u.setDate(u.getDate()+1),0!=g&&(o=!0)}this.setData("matrix",i)},executeViewDateChanges:function(){this.getMethods("onViewdateChange")&&this.executeMethod("onViewdateChange",this,this.getData("viewDate"))}.observes("viewDate"),getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},isProperDate:function(t,e,o){return o<=this.getNumber(e,t)},stringToDate:function(t,e){try{var o,i,l=t.match(/([\da-z]+)/gi),a=(e=e.toUpperCase()).match(/([a-z]+)/gi),n=new Date,r=0,s=["Y","M","D"];if(n.setDate(1),3!==l.length)return"Invalid Date";for(;r<a.length;){var d=this.getOrderIndex(a,s[r]);if(0==r)n.setFullYear(o=l[d]);else if(1==r){if((i=this.getProperMonth(l[d]))<0||i>11)return"Invalid Date";n.setMonth(i)}else if(2==r){if(!this.isProperDate(o,i,l[d]))return"Invalid Date";n.setDate(l[d])}if("Invalid Date"===n.toString())return n.toString();r++}return n}catch(t){return"Invalid Date"}},getOrderIndex:function(t,e){for(var o=0;o<t.length;o++)if(t[o].charAt(0)===e)return o;return-1},initFn:function(){var t=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):new Date,e=this;this.changeDaysOfWeek(),t.setDate(1),this.setData("viewDate",t),this.setData("monthHeader",this.getMonthHeader.call(this)),this.setDatesFunction(),this.showtoday.call(this),this.$node.revertToToday=function(){e.revert()}}.observes("currentDatechanged").on("init"),didConnect:function(){this.getData("navYield")||"dropdown"!=this.getData("ltPropHeaderType")||(this.setData("monthDD",this.$node.querySelector(".lyteCalMonthDD")),this.setData("yearDD",this.$node.querySelector(".lyteCalYearDD")),this.setData("callFrmDidcnct",!0))},didDestroy:function(){delete this.$node.revertToToday},removeClass:function(){var t=this.$node.querySelector(".lyteCalSel");t&&t.classList.remove("lyteCalSel")},changeViewDate:function(t){var e=this.getData("ltPropCurrentDate");if(!this.getData("preventObs"))if(e)if("Invalid Date"!==this.stringToDate(e,this.getData("ltPropFormat"))){t=this.getData("ltPropCurrentDate");var o=this.stringToDate(t,this.getData("ltPropFormat"));o.setDate(1),this.setData("viewDate",o),this.setData("monthHeader",this.getMonthHeader.call(this)),this.setDatesFunction(),this.showtoday.call(this)}else this.removeClass();else this.removeClass()}.observes("ltPropCurrentDate"),monthHeaderFormatObserver:function(){this.setData("monthHeader",this.getMonthHeader.call(this))}.observes("ltPropMonthHeaderFormat"),changeCurrentDate:function(t,e){var o,i,l,a,n=new Date(this.getData("viewDate").getTime());"Y"===t?((o=this.getData("viewDate")).setYear(1900+o.getYear()+e),i=new Date(o.getTime()),this.setData("viewDate",o),this.setData("monthHeader",this.getMonthHeader.call(this)),this.setData("changeData",this.getData("changeData")+1),this.showtoday.call(this)):"M"===t&&((o=this.getData("viewDate")).setMonth(o.getMonth()+e),i=new Date(o.getTime()),this.setData("viewDate",o),this.setData("monthHeader",this.getMonthHeader.call(this)),this.setData("changeData",this.getData("changeData")+1),this.showtoday.call(this)),l=this.getDateFromFormat(n,this.getData("ltPropFormat")),a=this.getDateFromFormat(i,this.getData("ltPropFormat")),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",event,l,a,this)},getProper:function(t){for(;t&&!t.classList.contains("lyteCalTableCell");)t=t.parentElement;return t},actions:{previous:function(t){this.changeCurrentDate(t,-1)},next:function(t){this.changeCurrentDate(t,1)},dateSelected:function(t){var e,o=this.getProper(t.target);0===t.button&&(0!==(e=this.$node.getElementsByClassName("lyteCalSel")).length&&e[0].classList.remove("lyteCalSel"),this.setData("preventObs",!0),this.setData("ltPropCurrentDate",o.getAttribute("data-date")),this.setData("preventObs",!1),o.classList.add("lyteCalSel"),this.getMethods("onDateSelected")&&this.executeMethod("onDateSelected",t,o.getAttribute("data-date"),this))},today:function(t){this.revert(t)}},methods:{optionSelected:function(t,e,o,i){if("M"==t){var l=this.getData("monthNames").indexOf(o);this.changeCurrentDate(t,l-this.getData("viewDate").getMonth())}else"Y"==t&&this.changeCurrentDate(t,parseInt(o)-this.getData("viewDate").getFullYear())},setClass:function(t,e){var o=e.childComp,i=_lyteUiUtils.getRTL(),l=i?"right":"left",a=o.querySelector(".lyteArrow");o.classList.add("lyteCalendarDropdown"),a.style[l]="20%",i&&(a.style.left="auto")}}}),Lyte.Component.register("lyte-checkbox",{_template:'<template tag-name="lyte-checkbox">\n\t<template is="switch" value="{{ltPropType}}">\n\t\t<template case="default">\n\t\t\t<label class="lyteCheckbox lyteDefault" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="primary">\n\t\t\t<label class="lyteCheckbox lytePrimary" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="switch">\n\t\t\t<label class="" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide on-off-sw" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="on-btn"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="slider">\n\t\t\t<label class="lyteCheckSliderLabel" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t</label>\n\t\t\t</template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{default:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,1]}]},primary:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,1]}]},switch:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1]}]},slider:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,1]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropId","ltPropDisabled","ltPropChecked","ltPropLabel","ltPropName","ltPropValue","ltPropReadonly","ltPropFireOnInit","ltPropClass","ltPropLabelClass"],data:function(){return{ltPropType:Lyte.attr("string",{default:"default"}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropChecked:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:void 0}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropClass:Lyte.attr("string",{default:""}),ltPropLabelClass:Lyte.attr("string",{default:""})}},didDestroy:function(){delete this.$node.focus,delete this.$node.blur,delete this.$node.click},reduceOpacity:function(){this.getData("ltPropDisabled")?this.$node.style.opacity="0.5":this.$node.style.opacity=""},disabledChange:function(){this.reduceOpacity()}.observes("ltPropDisabled"),setDefaults:function(){var t=this.getData("ltPropType"),e=this.getData("ltPropClass"),o=this.getData("ltPropLabelClass");this.reduceOpacity(),"switch"===t?this.setData("ltPropFinalClass",e||"lyteCheckSwitch"):"default"===t?this.setData("ltPropFinalClass",e||"lyteCheckBoxDefault"):"primary"===t?this.setData("ltPropFinalClass",e||"lyteCheckBoxPrimary"):"slider"===t&&this.setData("ltPropFinalClass",e||"lyteCheckSlider"),"slider"===t?this.setData("ltPropFinalLabelClass",o||"lyteCheckSliderText"):this.setData("ltPropFinalLabelClass",o||"")},typeObs:function(){this.setDefaults()}.observes("ltPropType","ltPropClass","ltPropLabelClass").on("init"),didConnect:function(){var t=this;this.$node.click=function(){var e=new Event("click",{bubbles:!0,cancelable:!0}),o=t.$node,i=o.ltProp("checked"),l=o.ltProp("disabled"),a=o.ltProp("readonly");l||a||(t.setData("eventCache",e),i?o.ltProp("checked",!1):o.ltProp("checked",!0),o.dispatchEvent(e))},this.$node.focus=function(){var e=t.$node,o=e.querySelector("input"),i=e.ltProp("disabled"),l=e.ltProp("readonly");i||l||o.focus()},this.$node.blur=function(){var e=t.$node,o=e.querySelector("input"),i=e.ltProp("disabled"),l=e.ltProp("readonly");i||l||o.blur()},this.fireCallBacksFunction.call(this,void 0,!0)},fireCallbacks:function(t,e){var o,i=this.getData("ltPropDisabled");if(!this.getData("preventRefire"))return i?(o=!!(t||{}).oldValue,this.setData("preventRefire",!0),this.setData("ltPropChecked",o),void this.setData("preventRefire",!1)):void this.fireCallBacksFunction.call(this,t,e)}.observes("ltPropChecked"),fireCallBacksFunction:function(t,e){var o=this.getData("ltPropChecked"),i=this.getData("ltPropFireOnInit"),l=this.getData("eventCache");if(!this.getData("ltPropDisabled"))if(this.$node.checked=o||!1,o&&e){if(!i)return;var a=this.$node.querySelector("input");this.getMethods("onBeforeChecked")&&this.executeMethod("onBeforeChecked",a,this,l),this.getMethods("onChecked")&&this.executeMethod("onChecked",a,this,l),this.getMethods("onChanged")&&this.executeMethod("onChanged",a,this,l)}else if(this.$node.checked&&!e){a=this.$node.querySelector("input");if(!this.clicked){if(this.setData("preventRefire",!0),this.setData("ltPropChecked",!1),this.getMethods("onBeforeChecked")){if(!(0!=this.executeMethod("onBeforeChecked",a,this,l)))return void this.setData("preventRefire",!1);this.setData("ltPropChecked",!0)}else this.setData("ltPropChecked",!0);this.setData("preventRefire",!1)}this.getMethods("onChecked")&&this.executeMethod("onChecked",a,this,l),this.getMethods("onChanged")&&this.executeMethod("onChanged",a,this,l)}else if(!this.$node.checked&&!e){a=this.$node.querySelector("input");if(!this.clicked){if(this.setData("preventRefire",!0),this.setData("ltPropChecked",!0),this.getMethods("onBeforeUnchecked")){if(!(0!=this.executeMethod("onBeforeUnchecked",a,this,l)))return void this.setData("preventRefire",!1);this.setData("ltPropChecked",!1)}else this.setData("ltPropChecked",!1);this.setData("preventRefire",!1)}this.getMethods("onUnchecked")&&this.executeMethod("onUnchecked",a,this,l),this.getMethods("onChanged")&&this.executeMethod("onChanged",a,this,l)}},actions:{preventPropagation:function(t){32===t.keyCode&&(this.preventClick=!0)},mup:function(t){var e;if(this.setData("prevented",!1),this.setData("sendEvent",!1),!this.getData("ltPropDisabled")){var o=this.$node.querySelector("input");e=o.checked,this.getMethods("onBeforeChecked")&&!e?0!=this.executeMethod("onBeforeChecked",o,this,t)||(this.setData("prevented",!0),t.preventDefault()):this.getMethods("onBeforeUnchecked")&&e&&(0!=this.executeMethod("onBeforeUnchecked",o,this,t)||(this.setData("prevented",!0),t.preventDefault()))}},prevent:function(t){this.getData("sendEvent")||t.stopPropagation()},checkBoxClicked:function(t){if(this.preventClick)this.preventClick=!1;else{var e;if(this.setData("sendEvent",!0),this.setData("eventCache",t),this.clicked=!0,this.getData("prevented"))return e=this.$node.querySelector("input"),this.setData("prevented",!1),this.setData("preventRefire",!0),e.checked?e.checked=!1:e.checked=!0,this.setData("preventRefire",!1),this.clicked=!1,void this.setData("eventCache",{});if(this.getData("ltPropDisabled"))return this.clicked=!1,t.preventDefault(),void this.setData("eventCache",{});t.target.checked?this.setData("ltPropChecked",!0):this.setData("ltPropChecked",!1),this.setData("eventCache",{}),this.clicked=!1}}}}),document.addEventListener("keydown",function(t){var e,o,i=t.keyCode;if(13===i||32===i){if("INPUT"!==(e=document.activeElement).tagName)return;for(;"LYTE-CHECKBOX"!==e.tagName&&"HTML"!==e.tagName;)e=e.parentElement;"LYTE-CHECKBOX"===e.tagName&&(o=e.ltProp("checked"),e.ltProp("checked",!o),t.preventDefault())}}),LyteColorbox={_boxElement:"lyteCBoxElement",_box:null,_content:null,_overlay:null,_title:null,_close:null,_download:null,_next:null,_prev:null,_open:null,_active:null,_closing:null,_previousOffset:{},_first:!0,_photo:null,_related:null,_el:null,_photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,_index:0,_zoom:!1,_component:null,_winheight:null,_winWidth:null,_isArray:!1,_hrefArray:[],_titleArray:[],_nextItem:!1,_prevItem:!1,_zIndex:0,_timeoutId:!1,_thumbDiv:null,_clickNumber:0,_count:0,setSize:function(t,e,o){return/%/.test(t)?parseInt(t):Math.round(100*(isNaN(t/o)?0:t/o))},createElement:function(t,e,o){var i=document.createElement(t);return e&&(i.id=e),o&&i.classList.add(o),i},getSelector:function(t,e){for(var o=0;o<e.length;o++)if(-1!=t.indexOf("."+e[o]))return e[o];return!1},getIndex:function(t){var e=LyteColorbox._related.length,o=(LyteColorbox._index+t)%e;return o<0?e+o:o},isImage:function(t){return LyteColorbox._photo||LyteColorbox._photoRegex.test(t)},createName:function(t){return t?t.replace(/[ ,-]/g,"_"):"image"},getRelated:function(t){if(LyteColorbox._index=0,LyteColorbox._related=[],t&&!1!==t&&"nofollow"!==t){for(var e=Array.from(document.querySelectorAll("."+LyteColorbox._boxElement)).filter(function(e){return LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(e.classList))===t}),o=0;o<e.length;o++){var i=Object.assign({},e[o].dataset);i.classList=e[o].classList?e[o].classList:[t],LyteColorbox._related.push(i)}LyteColorbox._index=LyteColorbox._related.findIndex(function(t){return t.lytecboxHref==LyteColorbox._el.lytecboxHref&&t.lytecboxTitle==LyteColorbox._el.lytecboxTitle}),-1===LyteColorbox._index&&(LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1)}else LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1},checkBindings:function(t){LyteColorbox._component&&LyteColorbox._component.$node.isEqualNode(t.$node)||(LyteColorbox._content=t._content,LyteColorbox._overlay=t._overlay,LyteColorbox._title=t._title,LyteColorbox._close=t._close,LyteColorbox._download=t._download,LyteColorbox._next=t._next,LyteColorbox._prev=t._prev,LyteColorbox._box=t._box,LyteColorbox._thumbDiv=t._thumbDiv,LyteColorbox._component=t)},launch:function(t){if(this.$node&&LyteColorbox.checkBindings(this),!LyteColorbox._closing){if(t&&"object"==typeof t)if(t.nodeType){var e=Object.assign({},t.dataset);e.classList=t.classList,LyteColorbox._el=t=e,LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList)))}else t.lytecboxHref&&(LyteColorbox._el=t,t.classList?LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList))):(LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el)));else LyteColorbox._related=[];if(!(0!=LyteColorbox._component.callOnBeforeOpen(LyteColorbox._related)))return LyteColorbox._related=null,void LyteColorbox._el;LyteColorbox._el||(LyteColorbox._el=t=LyteColorbox._related[0]),LyteColorbox._index=LyteColorbox._related instanceof Array?LyteColorbox._related.findIndex(function(t){return t.lytecboxHref==LyteColorbox._el.lytecboxHref&&t.lytecboxTitle==LyteColorbox._el.lytecboxTitle}):0,LyteColorbox._component.getData("ltPropYield")||(LyteColorbox._related.length>1?(LyteColorbox._next.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility")):(LyteColorbox._next.classList.add("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"))),LyteColorbox._open?LyteColorbox.load(t):(LyteColorbox._open=LyteColorbox._active=!0,LyteColorbox._box.classList.add("lyteColorboxHideVisibility","lyteColorboxDisplay"),LyteColorbox.computeOffsetImpl(),document.querySelector(".lyteCBoxPhoto")&&document.querySelector(".lyteCBoxPhoto").remove(),LyteColorbox._box.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._component.setData("thumbnails",LyteColorbox._related),LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),LyteColorbox._component.callOnOpen(),setTimeout(function(){LyteColorbox.load(t)},100))}},load:function(t){LyteColorbox._active=!0,LyteColorbox._photo=!1;var e=t.lytecboxHref,o=t.lytecboxTitle;if(LyteColorbox._title.textContent=o,LyteColorbox._photo=new Image,LyteColorbox._photo.classList.add("lyteCBoxPhoto"),LyteColorbox._photo.src=e,LyteColorbox._photo.alt=LyteColorbox._component.getData("ltPropImgError"),t.lytecboxClass)for(var i=t.lytecboxClass.split(" "),l=0;l<i.length;l++)LyteColorbox._photo.classList.add(i[l]);LyteColorbox._photo.onload=function(){LyteColorbox._component.callOnLoad(LyteColorbox._photo,LyteColorbox._index),LyteColorbox.computeOffsetImpl(null,LyteColorbox._photo),LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._thumbDiv.querySelector(".thumb-on")&&LyteColorbox._thumbDiv.querySelector(".thumb-on").classList.remove("thumb-on"),LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb")[LyteColorbox._index].classList.add("thumb-on"),LyteColorbox.updateThumbnailPos())}},updateThumbnailPos:function(){var t=LyteColorbox._index,e=LyteColorbox._component.getData("ltPropThumbnailNumber"),o=parseInt(e/2),i=e%2==0?LyteColorbox._related.length:LyteColorbox._related.length-1,l=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),a=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),n=window.getComputedStyle(a[0]),r=parseInt(n.width)+(n.marginLeft?parseInt(n.marginLeft):0)+(n.marginRight?parseInt(n.marginRight):0),s=_lyteUiUtils.getRTL()?-1:1;t>=o&&t<=i-o?l.style.transform="translate("+(o-t)*r*s+"px,0)":t<o?l.style.transform="translate(0,0)":t>i-o&&LyteColorbox._related.length>e&&(l.style.transform="translate("+(o-(i-o))*r*s+"px,0)"),LyteColorbox._component.getData("ltPropLoop")||(0==t?LyteColorbox._prev&&LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"):t==LyteColorbox._related.length-1?LyteColorbox._next&&LyteColorbox._next.classList.add("lyteColorboxHideVisibility"):(LyteColorbox._prev&&LyteColorbox._prev.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._next&&LyteColorbox._next.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._next.classList.remove("lyteColorboxHideVisibility")))},calculateOverlayHeight:function(t){LyteColorbox._component.getData("ltPropYield")?LyteColorbox._overlay.style.height=LyteColorbox._overlay.getBoundingClientRect().height+"px":LyteColorbox._overlay.style.height=t-50+"px"},computeOffsetImpl:function(t,e){if(LyteColorbox._open){var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(LyteColorbox._component.getData("ltPropThumbnail")){var l=window.getComputedStyle(LyteColorbox._thumbDiv);i-=parseInt(l.height)+parseInt(l.marginTop)}var a={};LyteColorbox._first||window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!1;var n,r=LyteColorbox._overlay.getBoundingClientRect();if(e)LyteColorbox._component.getData("ltPropHeight")?a.conHeight=parseInt(LyteColorbox._component.getData("ltPropHeight")):e.height>=r.height?a.conHeight=r.height:a.conHeight=e.height,LyteColorbox._component.getData("ltPropWidth")?a.conWidth=parseInt(LyteColorbox._component.getData("ltPropWidth")):e.width>=r.width?a.conWidth=r.width:a.conWidth=e.width,LyteColorbox._component.getData("ltPropYield")||"none"!=document.querySelector(".lyteColorboxLoadingImg").style.display&&(document.querySelector(".lyteColorboxLoadingImg").style.display="none"),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?((n=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxNextItem"),n.append(e),n.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.append(n),LyteColorbox._component.setData("currentEle",n)):LyteColorbox._prevItem?((n=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxPreviousItem"),n.append(e),n.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.insertBefore(n,LyteColorbox._component.getData("currentEle")),LyteColorbox._component.setData("currentEle",n)):((n=LyteColorbox.createElement("div",null,"lyteCBoxItem")).append(e),n.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.append(n),LyteColorbox._component.setData("currentEle",n))):LyteColorbox._content.append(e),LyteColorbox._active=!1;if(LyteColorbox._component.getData("ltPropYield")){var s=LyteColorbox._content.getBoundingClientRect();r=LyteColorbox._overlay?LyteColorbox._overlay.getBoundingClientRect():{height:i,width:o};LyteColorbox._content.style.top=(r.height-s.height)/2+"px",LyteColorbox._content.style.left=(r.width-s.width)/2+"px",window.getComputedStyle(LyteColorbox._content).transform&&(LyteColorbox._content.style.transform="none")}else a.top=(i-LyteColorbox._content.getBoundingClientRect().height)/2,a.left=(o-LyteColorbox._content.getBoundingClientRect().width)/2,a.iconTop=(i-LyteColorbox._next.getBoundingClientRect().height)/2+document.querySelector(".lyteColorboxHeader").getBoundingClientRect().height/2;if(n){if(LyteColorbox._nextItem)for(var d=Array.from(n.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),p=0;p<d.length;p++)d[p].classList.add("lytCBoxPreviousItem");if(LyteColorbox._prevItem)for(d=Array.from(n.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),p=0;p<d.length;p++)d[p].classList.add("lytCBoxNextItem");n.classList.add("lyteCBoxCurrentItem"),(LyteColorbox._nextItem||LyteColorbox._prevItem)&&(LyteColorbox._timeoutId&&(clearTimeout(LyteColorbox._timeoutId),LyteColorbox._timeoutId=!1),LyteColorbox._timeoutId=setTimeout(function(){n.classList.remove("lytCBoxPreviousItem","lytCBoxNextItem");for(var t=Array.from(n.parentElement.querySelectorAll(".lyteCBoxCurrentItem")).filter(function(t){return!t.isEqualNode(n)}),e=0;e<t.length;e++)t[e].remove();n.style.zIndex=0,LyteColorbox._zIndex=0,LyteColorbox._timeoutId=!1},800),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)}window.addEventListener("resize",LyteColorbox.computeOffsetImpl)}},next:function(){!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?document.querySelector(".lyteCBoxPhoto").remove():LyteColorbox._nextItem=!0,0!=LyteColorbox._clickNumber&&(LyteColorbox._clickNumber=0),LyteColorbox._index=LyteColorbox.getIndex(1),LyteColorbox._photo=null,LyteColorbox.load(LyteColorbox._related[LyteColorbox._index]))},prev:function(){!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?document.querySelector(".lyteCBoxPhoto").remove():LyteColorbox._prevItem=!0,0!=LyteColorbox._clickNumber&&(LyteColorbox._clickNumber=0),LyteColorbox._index=LyteColorbox.getIndex(-1),LyteColorbox._photo=null,LyteColorbox.load(LyteColorbox._related[LyteColorbox._index]))},close:function(){if(LyteColorbox._open&&!LyteColorbox._closing){if(LyteColorbox._component.getData("ltPropThumbnail")){var t=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),e=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper");t.style.width="",t.classList.add("lyteColorboxHideVisibility"),e.style.transform="",e.style.width=""}LyteColorbox._clickNumber=0,LyteColorbox._closing=!0,LyteColorbox._open=!1,LyteColorbox._box.classList.remove("lyteColorboxDisplay"),LyteColorbox._component.callOnClose(),LyteColorbox._photo=null,LyteColorbox._related=[],LyteColorbox._closing=!1,LyteColorbox._el=null}},download:function(){var t=document.createElement("a");t.setAttribute("href",LyteColorbox._el.lytecboxHref),t.setAttribute("download",LyteColorbox.createName(LyteColorbox._el.lytecboxTitle)),document.body.append(t),t.click(),t.remove()},zoomIn:function(){LyteColorbox._previousOffset={width:LyteColorbox._content.style.width,height:LyteColorbox._content.style.height};Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0);var t=LyteColorbox._el.lytecboxZoomBy?parseInt(LyteColorbox._el.lytecboxZoomBy):parseInt(LyteColorbox._component.getData("ltPropZoomBy")),e=LyteColorbox._content.getBoundingClientRect(),o=LyteColorbox._overlay.getBoundingClientRect(),i=e.width*((100+t)/100),l=e.height*((100+t)/100),a=0,n=0;i>o.width&&(a=(i-o.width)/o.width*100,i=o.width),l>o.height&&(n=(l-o.height)/o.height*100,l=o.height),LyteColorbox._photo.style.height=Math.round(100+n)+"%",LyteColorbox._photo.style.width=Math.round(100+a)+"%",LyteColorbox.computeOffsetImpl()},zoomOut:function(){LyteColorbox._content.style.height=LyteColorbox._previousOffset.height,LyteColorbox._content.style.width=LyteColorbox._previousOffset.width,LyteColorbox._photo.style.height="",LyteColorbox._photo.style.width="",LyteColorbox.computeOffsetImpl()}},Lyte.Component.register("lyte-colorbox",{_template:'<template tag-name="lyte-colorbox">\n\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t<lyte-yield yield-name="colorBoxYield"></lyte-yield>\n\t</template><template case="false">\n\t\t<div id="lyteColorbox" class="lyteColorbox lyteCBox">\n\t\t\t\n\t\t\t\t<div class="lyteColorboxFreezeLayer lyteCBoxOverlay"></div>\n\t\t\t\t<div class="lyteColorboxWrapper">\n\t\t\t\t\t<div class="lyteColorboxContent lyteCBoxContent">\n\t\t\t\t\t\t<span class="lyteColorboxLoadingImg"></span>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="lyteColorboxUtilDiv">\n\t\t\t\t\t\t\t<span class="lyteColorboxZoomOut lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteColorboxReset lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteColorboxZoomIn"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorboxHeader">\n\t\t\t\t\t\t<div class="lyteColorboxTitle lyteCBoxTitle"></div>\n\t\t\t\t\t\t<div class="lyteColorboxDownloadDiv lyteCBoxDownload">\n\t\t\t\t\t\t\t<span class="lyteColorboxDownloadImg"></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="lyteColorboxCloseIcon lyteCBoxClose"></div>\n\t\t\t\t\n\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxPrevious">\n\t\t\t\t\t<div class="lyteColorboxPreviousIcon"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxNext">\n\t\t\t\t\t<div class="lyteColorboxNextIcon"></div>\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{ltPropThumbnail}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorboxThumbOuterWrapper">\n\t\t\t\t\t\t<div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}">\n\t\t\t\t\t\t\t<div class="lyteColorboxThumbInnerWrapper">\n\t\t\t\t\t\t\t<template is="for" items="{{thumbnails}}" item="item" index="index">\n\t\t\t\t\t\t\t\t<div class="lyteColorboxThumb" data-thumb-val="{{lyteUiSetIndexString(index, thumbnails.length)}}">\n\t\t\t\t\t\t\t\t\t<img src="{{item.lytecboxHref}}">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template></template>\n\t\t\t\n\t\t</div>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]}]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropHeight","ltPropWidth","ltPropOverlayClose","ltPropYield","ltPropSelectors","ltPropLoop","ltPropArrowKey","ltPropZoomBy","ltPropEscKey","ltPropImgError","ltPropAnimation","ltPropThumbnail","ltPropThumbnailNumber","ltPropZoomClickNumber","currentEle","thumbnails","triggerSetThumbnail"],data:function(){return{ltPropHeight:Lyte.attr("string"),ltPropWidth:Lyte.attr("string"),ltPropOverlayClose:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropSelectors:Lyte.attr("array",{default:[]}),ltPropLoop:Lyte.attr("boolean",{default:!0}),ltPropArrowKey:Lyte.attr("boolean",{default:!0}),ltPropZoomBy:Lyte.attr("string",{default:"25%"}),ltPropEscKey:Lyte.attr("boolean",{default:!0}),ltPropImgError:Lyte.attr("string",{default:"This image failed to load."}),ltPropAnimation:Lyte.attr("string",{default:"default"}),ltPropThumbnail:Lyte.attr("boolean",{default:!0}),ltPropThumbnailNumber:Lyte.attr("number",{default:7}),ltPropZoomClickNumber:Lyte.attr("number",{default:5}),currentEle:Lyte.attr("object"),thumbnails:Lyte.attr("array"),triggerSetThumbnail:Lyte.attr("number",{default:0})}},setThumbnailSliderProp:function(){if(this.getData("ltPropThumbnail")&&LyteColorbox._thumbDiv){var t=this.getData("ltPropThumbnailNumber"),e=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),o=window.getComputedStyle(e[0]),i=parseInt(o.width)+(o.marginLeft?parseInt(o.marginLeft):0)+(o.marginRight?parseInt(o.marginRight):0);LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails").style.width=(e.length<t?e.length*i:t*i)+"px",LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper").style.width=e.length*i+"px",LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails").classList.remove("lyteColorboxHideVisibility")}}.observes("ltPropThumbnailNumber","triggerSetThumbnail"),init:function(){this.$node.launch=function(t){LyteColorbox.launch.call(this,t)}.bind(this),this.getData("ltPropYield")&&this.setData("ltPropThumbnail",!1)},toggleTumbnail:function(){this.getData("ltPropThumbnail")?LyteColorbox._thumbDiv=LyteColorbox._box.querySelector(".lyteColorboxThumbOuterWrapper"):LyteColorbox._thumbDiv=null}.observes("ltPropThumbnail"),intialFunc:function(){if(!this._box){this._init=!1;if(this._content=this.$node.querySelector(".lyteCBoxContent"),this._overlay=this.$node.querySelector(".lyteCBoxOverlay"),this._title=this.$node.querySelector(".lyteCBoxTitle"),this._close=this.$node.querySelector(".lyteCBoxClose"),this._download=this.$node.querySelector(".lyteCBoxDownload"),this._next=this.$node.querySelector(".lyteCBoxNext"),this._prev=this.$node.querySelector(".lyteCBoxPrevious"),this._box=!!this.$node.querySelector(".lyteCBox")&&this.$node.querySelector(".lyteCBox"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=this.$node.querySelector(".lyteColorboxThumbOuterWrapper")),!this._box){this._box=LyteColorbox.createElement("div",null,"lyteCBox");for(var t=this.$node.querySelector("lyte-yield").children;t.length>0;)LyteComponent.appendChild(this._box,t[0]);this._box.classList.add("lyteColorbox")}LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=this.$node}document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)&&(LyteComponent.appendChild(document.body,this._box),this.childComp=this._box);var e=this.getSelectorElements();e.length>0?(LyteColorbox.checkBindings(this),this.addBindings(e,this._className)):console.warn("No selector(s) provided to colorbox.")}.observes("ltPropSelectors.[]").on("didConnect"),callOnBeforeOpen:function(t){this.getMethods("onBeforeOpen")&&(retrunVal=this.executeMethod("onBeforeOpen",t,this))},callOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},callOnLoad:function(){this.getMethods("onLoad")&&this.executeMethod("onLoad",arguments[0],arguments[1],this)},getSelectorElements:function(){var t=document.querySelectorAll("."+LyteColorbox._boxElement);if(t.length>0)for(var e=0;e<t.length;e++)t[e].removeEventListener("click",this.clickHandler,!0),t[e].classList.remove(LyteColorbox._boxElement);var o=this.getData("ltPropSelectors"),i=[];for(e=0;e<o.length;e++)Lyte.arrayUtils(i,"push",Array.from(document.querySelectorAll(o[e])));return i},callOnClose:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},didDestroy:function(){LyteColorbox._first||window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),delete this.childComp,this._box._callee=null,LyteColorbox._box&&(LyteColorbox._box._callee=null),LyteColorbox._component=null,this._box.remove(),LyteColorbox._box=this._box=null,LyteColorbox._prev=this._prev=null,LyteColorbox._next=this._next=null,LyteColorbox._content=this._content=null,LyteColorbox._overlay=this._overlay=null,LyteColorbox._title=this._title=null,LyteColorbox._close=this._close=null,LyteColorbox._download=this._download=null,LyteColorbox._thumbDiv=this._thumbDiv=null,LyteColorbox._photo=null,LyteColorbox._el=null,LyteColorbox._open=null,LyteColorbox._active=null,LyteColorbox._closing=null,LyteColorbox._first=!0,LyteColorbox._related=null,LyteColorbox._count-=1},clickHandler:function(t){if(!(t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey)){t.preventDefault(),LyteColorbox.checkBindings(document.querySelector("."+this._className)._callee.component);var e=Object.assign({},this.dataset);e.classList=this.classList,LyteColorbox.launch(e)}},addBindings:function(t){if(LyteColorbox._box){this._init||(this._init=!0,LyteColorbox._next&&LyteColorbox._next.addEventListener("click",function(){LyteColorbox.next()},!0),LyteColorbox._prev&&LyteColorbox._prev.addEventListener("click",function(){LyteColorbox.prev()},!0),LyteColorbox._close&&LyteColorbox._close.addEventListener("click",function(){LyteColorbox.close()},!0),LyteColorbox._overlay&&LyteColorbox._overlay.addEventListener("click",function(){LyteColorbox._component.getData("ltPropOverlayClose")&&LyteColorbox.close()},!0),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",function(){LyteColorbox.download()},!0),this.getData("ltPropYield")||(LyteColorbox._box.querySelector(".lyteColorboxZoomIn").addEventListener("click",function(){if(LyteColorbox._clickNumber+=1,LyteColorbox._clickNumber<=LyteColorbox._component.getData("ltPropZoomClickNumber")){var t=parseInt(LyteColorbox._component.getData("ltPropZoomBy"))/100,e=new WebKitCSSMatrix(window.getComputedStyle(LyteColorbox._photo).transform);LyteColorbox._photo.style.transform="scale("+(e.a+t)+","+(e.d+t)+")",1==LyteColorbox._clickNumber&&(LyteColorbox._box.querySelector(".lyteColorboxZoomOut").classList.remove("lyteColorboxDisabled"),LyteColorbox._box.querySelector(".lyteColorboxReset").classList.remove("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")&&LyteColorbox._box.querySelector(".lyteColorboxZoomIn").classList.add("lyteColorboxDisabled")}else LyteColorbox._clickNumber-=1},!0),LyteColorbox._box.querySelector(".lyteColorboxZoomOut").addEventListener("click",function(){if(LyteColorbox._clickNumber-=1,LyteColorbox._clickNumber>=0&&LyteColorbox._clickNumber<LyteColorbox._component.getData("ltPropZoomClickNumber")){var t=parseInt(LyteColorbox._component.getData("ltPropZoomBy"))/100,e=new WebKitCSSMatrix(window.getComputedStyle(LyteColorbox._photo).transform);LyteColorbox._photo.style.transform="scale("+(e.a-t)+","+(e.d-t)+")",0==LyteColorbox._clickNumber&&(LyteColorbox._box.querySelector(".lyteColorboxZoomOut").classList.add("lyteColorboxDisabled"),LyteColorbox._box.querySelector(".lyteColorboxReset").classList.add("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")-1&&LyteColorbox._box.querySelector(".lyteColorboxZoomIn").classList.remove("lyteColorboxDisabled")}else LyteColorbox._clickNumber+=1},!0),LyteColorbox._box.querySelector(".lyteColorboxReset").addEventListener("click",function(){LyteColorbox._clickNumber=0,LyteColorbox._photo.style.transform="",LyteColorbox._box.querySelector(".lyteColorboxZoomOut").classList.add("lyteColorboxDisabled"),LyteColorbox._box.querySelector(".lyteColorboxReset").classList.add("lyteColorboxDisabled"),LyteColorbox._box.querySelector(".lyteColorboxZoomIn").classList.remove("lyteColorboxDisabled")},!0)),document.addEventListener("keydown",function(t){var e=t.keyCode;LyteColorbox._open&&LyteColorbox._component.getData("ltPropEscKey")&&27===e&&(t.preventDefault(),LyteColorbox.close()),LyteColorbox._open&&LyteColorbox._component.getData("ltPropArrowKey")&&LyteColorbox._related[1]&&!t.altKey&&(37===e?(t.preventDefault(),LyteColorbox._prev?LyteColorbox._prev.click():LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.prev()):39===e&&(t.preventDefault(),LyteColorbox._next?LyteColorbox._next.click():LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.next()))}));for(var e=0;e<t.length;e++)t[e].addEventListener("click",this.clickHandler,!0),t[e].classList.add(LyteColorbox._boxElement),t[e]._className=this._className;return!0}return!1},actions:{clickOnThumbnails:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteColorboxThumb");)e=e.parentElement;if(e.classList.contains("lyteColorboxThumb"))for(var o=Array.from(e.parentElement.children).filter(function(t){return"TEMPLATE"!=t.tagName}),i=0;i<o.length;i++)o[i].isEqualNode(e)&&(i>LyteColorbox._index?!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?document.querySelector(".lyteCBoxPhoto").remove():LyteColorbox._nextItem=!0,LyteColorbox._index=i,LyteColorbox._photo=null,LyteColorbox.load(LyteColorbox._related[LyteColorbox._index])):i<LyteColorbox._index&&!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?document.querySelector(".lyteCBoxPhoto").remove():LyteColorbox._prevItem=!0,LyteColorbox._index=i,LyteColorbox._photo=null,LyteColorbox.load(LyteColorbox._related[LyteColorbox._index])))}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],l=0;l<o;){var a=e[l];if(t.call(i,a,l,e))return l;l++}return-1},configurable:!0,writable:!0}),!ColorPicker_Util)var ColorPicker_Util={component:null,baseConverter:function(t,e,o){if(10==o)return parseInt(t,16);if(16==o)return parseInt(t).toString(16);t=(t+="").toUpperCase();for(var i=0,l=0;l<=t.length;l++)i+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.charAt(l))*Math.pow(e,t.length-l-1);t="";for(l=Math.floor(Math.log(i)/Math.log(o));l>=0;l--){var a=Math.floor(i/Math.pow(o,l));t+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(a),i-=a*Math.pow(o,l)}return 0==t.length&&(numberToConvertToConvert=0),t||(t=0),t},convert3DigitTo6DigitRgbCode:function(t){return t[0]+t[0]+t[1]+t[1]+t[2]+t[2]},getHsvByRgbCode:function(t){t=t.replace("#","");var e=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),o=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),i=ColorPicker_Util.baseConverter(t.substr(4,2),16,10);if(0==e&&0==o&&0==i)return l={hue:0,saturation:0,brightness:0};e/=255,o/=255,i/=255,maxValue=Math.max(e,o,i),minValue=Math.min(e,o,i);var l,a=0;return maxValue==minValue?(a=0,saturation=0):(e==maxValue?a=(o-i)/(maxValue-minValue)/1:o==maxValue?a=2+(i-e)/1/(maxValue-minValue)/1:i==maxValue&&(a=4+(e-o)/(maxValue-minValue)/1),saturation=(maxValue-minValue)/maxValue),a*=60,valueBrightness=maxValue,a<0&&(a+=360),(l={}).hue=a,l.saturation=saturation,l.brightness=valueBrightness,l},getRgbCodeByRgbColors:function(t,e,o){t=ColorPicker_Util.baseConverter(t,10,16),e=ColorPicker_Util.baseConverter(e,10,16),o=ColorPicker_Util.baseConverter(o,10,16);for(t+="",e+="",o+="";t.length<2;)t="0"+t;for(;e.length<2;)e="0"+e;for(;o.length<2;)o="0"+o;return rgbColor=t+""+e+o,rgbColor.toUpperCase()},getRgbColorsByRgbCode:function(t){var e={};return e.red=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),e.green=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),e.blue=ColorPicker_Util.baseConverter(t.substr(4,2),16,10),e},getRgbColorsByHsv:function(t,e,o){var i,l,a,n,r,s,d,p=Math.floor(t/60);switch(360==t&&(t=0),n=t/60-p,e>1&&(e/=100),o>1&&(o/=100),r=o*(1-e),s=o*(1-n*e),d=o*(1-(1-n)*e),p){case 0:i=o,l=d,a=r;break;case 1:i=s,l=o,a=r;break;case 2:i=r,l=o,a=d;break;case 3:i=r,l=s,a=o;break;case 4:i=d,l=r,a=o;break;default:i=o,l=r,a=s}return 0==e&&(i=o,l=o,a=o),i*=255,l*=255,a*=255,{red:i=Math.round(i),green:l=Math.round(l),blue:a=Math.round(a)}},getRgbCodeByHsv:function(t,e,o){for(;t>=360;)t-=360;var i=ColorPicker_Util.getRgbColorsByHsv(t,e,o);return ColorPicker_Util.getRgbCodeByRgbColors(i.red,i.green,i.blue)},getCmykByRgbColors:function(t){var e,o=1-t[0]/255,i=1-t[1]/255,l=1-t[2]/255,a=Math.min(o,i,l);return o=(o-a)/(1-a),i=(i-a)/(1-a),l=(l-a)/(1-a),e=a,[o=isNaN(o)?0:o,i=isNaN(i)?0:i,l=isNaN(l)?0:l,e]},getRgbColorsByCmyk:function(t,e,o,i){t>1&&(t/=100),e>1&&(e/=100),o>1&&(o/=100),i>1&&(i/=100);var l=255*(1-t)*(1-i),a=255*(1-e)*(1-i),n=255*(1-o)*(1-i);return{red:l=Math.round(l),green:a=Math.round(a),blue:n=Math.round(n)}},getRgbCodeByCmyk:function(t,e,o,i){var l=ColorPicker_Util.getRgbColorsByCmyk(t,e,o,i);return ColorPicker_Util.getRgbCodeByRgbColors(l.red,l.green,l.blue)},getDecimalToHexAlphaCode:function(t){return((t=Math.round(255*t/100))+65536).toString(16).substr(-2).toUpperCase()},getLeftPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).x;for(var e=t.offsetLeft;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetLeft,document.all&&(e+=t.clientLeft));return e},getTopPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).y;for(var e=t.offsetTop;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetTop-t.scrollTop,document.all&&(e+=t.clientTop));return e},getColorPicker:function(t){var e=t.closest("lyte-colorpicker");if(!e){for(var o=LytePopup.components,i=o.length-1;i>=0;i--)if("LYTE-COLORPICKER"==o[i].$node.parentElement.tagName&&"visible"==o[i].childComp.style.visibility){e=o[i].childComp;break}if(e){var l=e.querySelector(".popoverWrapper");if(l&&l.classList.length>1){var a=l.className.split(" ")[1],n=document.querySelectorAll("lyte-colorpicker");for(i=0;i<n.length;i++)if(n[i].component.getData("ltPropWrapperClass")===a){e=n[i];break}}}}return e}};if(!ColorPicker_EventUtil)var ColorPicker_EventUtil={__stopPropagation:!1,__eventBound:!1,__initOpacityMove:function(t,e){if(e)return"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("opacityStatus",1),e.setData("calledForHueMove",!0),e.setData("opacityTrackSize",e.getData("ltPropInline")?e.$node.querySelector(".opacityslider__track").offsetWidth:e.childComp.querySelector(".opacityslider__track").offsetWidth),e.setData("posXOpacity",ColorPicker_Util.getLeftPos(e.getData("ltPropInline")?e.$node.querySelector(".opacityslider__track"):e.childComp.querySelector(".opacityslider__track"))),ColorPicker_EventUtil.__moveOnOpacityTrack(t,e),!1},__initHueMove:function(t,e){if(e)return"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("hueStatus",1),e.setData("calledForHueMove",!0),e.setData("hueBarSize",e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_hueBar").offsetWidth:e.childComp.querySelector(".colorSlider_hueBar").offsetWidth),e.setData("poxXHue",ColorPicker_Util.getLeftPos(e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_hueBar"):e.childComp.querySelector(".colorSlider_hueBar"))),ColorPicker_EventUtil.__moveOnHueBar(t,e),!1},__initPaletteMove:function(t,e){if(e){"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)}));var o=e.getData("posdivElPalette"),i=e.getData("circleOffsetBecauseOfWinWidget"),l=e.getData("ltPropInline")?e.$node.querySelector("#colorDiv"):e.childComp.querySelector("#colorDiv"),a=l.getBoundingClientRect(),n=e.getData("circleOffsetSize");return document.all&&(t=event||window.event),e.__ffHackWinWidget(),o.x=a.left+i,o.y=a.top+i,e.setData("paletteSize",{height:l.offsetHeight,width:l.offsetWidth}),e.setData("posdivElPalette",o),e.setData("dragStatus",1),e.setData("paletteMaxX",l.offsetWidth-n),e.setData("paletteMaxY",l.offsetHeight-n),ColorPicker_EventUtil.__moveOnPalette(t,e),o=null,l=null,!1}},__moveOnPalette:function(t,e){if(e){"mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault();var o=e.getData("posdivElPalette"),i=e.getData("circleOffsetSize"),l=e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_palette_circle"):e.childComp.querySelector(".colorSlider_palette_circle");if(1!=e.getData("dragStatus"))return;if(e.getData("clickOnPaletteInProgress"))return;e.setData("clickOnPaletteInProgress",!0),e.setData("dragged",!0),document.all&&(t=event);var a,n,r=o.x,s=o.y;"mousedown"!=t.type&&"mousemove"!=t.type||(a=t.clientX-r-i,n=t.clientY-s-i),"touchstart"!=t.type&&"touchmove"!=t.type||(a=t.touches[0].clientX-r-i,n=t.touches[0].clientY-s-i),a<-1*i&&(a=-1*i),n<-1*i&&(n=-1*i),a>e.getData("paletteMaxX")&&(a=e.getData("paletteMaxX")),n>e.getData("paletteMaxY")&&(n=e.getData("paletteMaxY")),l.style.left=a+"px",l.style.top=n+"px",e.setData("currentSaturation",Math.round((a+i)/e.getData("paletteSize").width*100)),e.setData("currentBrightness",100-Math.round((n+i)/e.getData("paletteSize").height*100)),e.__setCurrentRgbCode(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange(),e.setData("clickOnPaletteInProgress",!1),o=null,l=null,i=null}},__moveOnHueBar:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("hueStatus"))return;e.setData("dragged",!0),document.all&&(t=event);var o,i=e.getData("sliderOffset"),l=e.getData("poxXHue");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-l-i),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-l-i),o>e.getData("hueBarSize")-i&&(o=e.getData("hueBarSize")-i),o<0-i&&(o=0-i),(e.getData("ltPropInline")?e.$node:e.childComp).querySelector(".colorSlider_sliderHandle").style.left=o+"px";var a=Math.round((e.getData("hueBarSize")-(o+i))*(360/e.getData("hueBarSize")));360==a&&(a=0),e.setData("currentHue",a),e.__setCurrentRgbCode(),e.__setPaletteBgColor(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange()}},__moveOnOpacityTrack:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("opacityStatus"))return;document.all&&(t=event);var o,i=e.getData("posXOpacity"),l=e.getData("sliderOffset");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-i-l),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-i-l),o>e.getData("opacityTrackSize")-l&&(o=e.getData("opacityTrackSize")-l),o<0-l&&(o=0-l);var a=parseInt((o+l)/e.getData("opacityTrackSize")*100);(e.getData("ltPropInline")?e.$node:e.childComp).querySelector(".opacityslider__circlethumb").style.left=o+"px",e.setData("opacity",a),e.__setOpacityColorPreviewDiv(),e.__updateOpacityInForm(),e.executeOnChange()}},__endDrag:function(t,e){if(e){if(0==e.getData("dragStatus")&&0==e.getData("hueStatus")&&0==e.getData("opacityStatus"))return;"mouseup"==t.type&&(document.removeEventListener("mousemove",mm),document.removeEventListener("mouseup",mu),mm=void 0,mu=void 0),"touchend"==t.type&&(document.removeEventListener("touchmove",tm),document.removeEventListener("touchend",te),tm=void 0,te=void 0),ColorPicker_EventUtil.__stopPropagation=!0,1==e.getData("dragStatus")&&e.__updateRgbInForm(),e.setData("dragStatus",0),e.setData("hueStatus",0),e.setData("opacityStatus",0),e.executeOnSelect(t)}ColorPicker_Util.component=null}};function dtslctscroll(t){var e=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)");if(e){var o=e.origindd.parent.component;o.setCss.call(o)}}function addEvent(t){var e,o,i,l,a=0;document.addEventListener("mouseup",function(t){for(var e,o=t.target;o.parentElement;)if("lyte-dragdrop"==(o=o.parentElement).tagName.toLowerCase()){e=o.component;break}if(e&&e.getData("isDown"))if(e.setData("isDown",!1),e.getData("isMoved")){if(e.setData("isMoved",!1),e.onBeforeDropFunction(t)){if(e.getData("ltPropMultiselect")&&e.getData("multiSelectedItems").length>1){for(var i=(u=e.getData("placeholder")).getBoundingClientRect(),l=e.getData("multiSelectedItems"),n=0;n<l.length;n++)l[n].style.visibility="hidden";for(document.elementFromPoint(i.left,i.top-4),n=0;n<l.length;n++)l[n].style.visibility="visible";var r="sortableSec"==l[0].parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",s="sortableSec"==u.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",d=[];for(n=0;n<l.length;n++)d.push(e.getElement(l[n]));for(var p=0;p<d.length;p++)Lyte.arrayUtils(e.getData(r),"removeAt",e.getElementPosition(e.getData(r),d[p]),1);for(var c=u.previousElementSibling;c&&"TEMPLATE"==c.tagName;)c=c.previousElementSibling;if(c)Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(c))+1,d);else{for(var h=u.nextElementSibling;h&&"TEMPLATE"==h.tagName;)h=h.nextElementSibling;h?Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(h)),d):Lyte.arrayUtils(e.getData(s),"push",d)}u.parentElement.removeChild(u),e.setData("multiSelectedItems",[]),e.setData("prevMode",""),e.setData("keyPressed",!1),e.setData("keyValue",""),e.setData("placeholder",""),e.generateArray(),a=0}else{var u,y=e.getData("div"),m=e.getElement(y),g=(c=(u=e.getData("placeholder")).previousElementSibling,"sortableSec"==y.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist");for(s="sortableSec"==u.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist";c&&"TEMPLATE"==c.tagName;)c=c.previousElementSibling;if(c)Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(c))+1,m);else{for(h=u.nextElementSibling;h&&("TEMPLATE"==h.tagName||h.isEqualNode(y));)h=h.nextElementSibling;h?(Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(h)),m)):(Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"push",m))}e.$node.querySelector("#sortableSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#sortableSec").removeChild(e.$node.querySelector("#dummy")),e.getData("ltPropDraggable")&&e.$node.querySelector("#dropSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#dropSec").removeChild(e.$node.querySelector("#dummy")),e.removeDropable(y),e.generateArray()}e.onDropFunction(t)}else{if(e.getData("ltPropMultiselect")&&e.getData("multiSelectedItems").length>1){for(l=e.getData("multiSelectedItems"),p=0;p<l.length;p++)e.removeStyle(l[p]),l[p].classList.remove("lyteDraggableElem");e.removeDropableMultiple(l),e.setData("multiSelectedItems",[]),e.setData("prevMode",""),e.setData("keyPressed",!1),e.setData("keyValue",""),e.setData("placeholder",""),a=0}else e.removeStyle(e.getData("div")),e.getData("div").classList.remove("lyteDraggableElem"),e.removeDropable(e.getData("div"));e.getData("placeholder").remove()}}else{y=e.getData("div");if(e.getData("placeholder").parentElement.replaceChild(y,e.getData("placeholder")),e.$node.querySelector("#sortableSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#sortableSec").removeChild(e.$node.querySelector("#dummy")),e.getData("ltPropDraggable")&&e.$node.querySelector("#dropSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#dropSec").removeChild(e.$node.querySelector("#dummy")),e.removeStyle(y),e.getData("checkSelection")){var f=e.getData("keyValue");91!=f&&93!=f&&224!=f||(y.classList.remove("lyteDraggableElem"),e.removeFromArray(y)),16==f&&(e.removeClass(),e.setData("multiSelectedItems",[]),e.addToArray(y,"multiple"),e.setData("prevMode","multiple")),0==f&&(e.removeClass(),e.setData("multiSelectedItems",[]),e.getData("multiSelectedItems").push(y),y.classList.add("lyteDraggableElem"),e.setData("prevMode","single")),e.setData("checkSelection",!1)}}else{var v=document.querySelectorAll(".lyteDraggableElem");if(v)for(p=0;p<v.length;p++)v[p].classList.remove("lyteDraggableElem")}},!1),document.addEventListener("mousemove",function(t){for(var n,r=t.target;r.parentElement;)if("lyte-dragdrop"==(r=r.parentElement).tagName.toLowerCase()){n=r.component;break}if(n&&n.getData("isDown")){n.setData("isMoved",!0);var s=n.getData("div"),d=s.offsetParent.getBoundingClientRect(),p=s.getBoundingClientRect(),c=p.width,h=p.height;if(e={x:t.clientX,y:t.clientY},s.style.left=e.x-n.getData("offset")[0]-d.left+"px",s.style.top=e.y-n.getData("offset")[1]-d.top+"px",n.getData("ltPropMultiselect")&&n.getData("multiSelectedItems").length>1){for(var u=n.getData("multiSelectedItems"),y=u.indexOf(s),m=y-1;m>=0;m--)u[m].style.left=s.offsetLeft+"px",u[m].style.top=u[m+1].offsetTop-h+"px",u[m].style.boxSizing="border-box",u[m].style.width=c+"px",u[m].style.height=h+"px",u[m].style.position="absolute",u[m].classList.add("lyteDraggableElem");for(m=y+1;m<u.length;m++)u[m].style.left=s.offsetLeft+"px",u[m].style.top=u[m-1].offsetTop+h+"px",u[m].style.boxSizing="border-box",u[m].style.width=c+"px",u[m].style.height=h+"px",u[m].style.position="absolute",u[m].classList.add("lyteDraggableElem");var g=n.getData("placeholder"),f=u.length*h;f>g.getBoundingClientRect().height&&(document.getElementById("sortableSec").contains(document.getElementById("dummy"))&&document.getElementById("sortableSec").removeChild(document.getElementById("dummy")),n.getData("ltPropDraggable")&&document.getElementById("dropSec").contains(document.getElementById("dummy"))&&document.getElementById("dropSec").removeChild(document.getElementById("dummy")),g.style.height=f+"px",g.classList.add("lyteDragDropDropable"),n.setData("placeholder",g),s.parentElement.insertBefore(n.getData("placeholder"),s));var v=n.getTopNBottom("top"),D=n.getTopNBottom("bottom"),b=(g.getBoundingClientRect(),g.parentElement.getBoundingClientRect());if(p=s.getBoundingClientRect(),v<b.top&&g.parentElement.scrollTop>0&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-b.height&&(g.parentElement.scrollTop-=b.top-v),D>b.bottom&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-b.height&&(g.parentElement.scrollTop+=D-b.bottom),n.makeDroppableMultiple(u),elementAtLeft=document.elementFromPoint(p.left-1,t.clientY),elementAtRight=document.elementFromPoint(p.right+1,t.clientY),dropablePlaceLeft=elementAtLeft.closest(".dropable"),dropablePlaceRight=elementAtRight.closest(".dropable"),!n.getData("left")&&dropablePlaceLeft&&p.left<dropablePlaceLeft.getBoundingClientRect().right-p.width/2)p.bottom>dropablePlaceLeft.getBoundingClientRect().bottom?dropablePlaceLeft.after(g):dropablePlaceLeft.parentElement.insertBefore(g,dropablePlaceLeft),n.setData("left",!0),n.setData("right",!1),l="left";else if(!n.getData("right")&&dropablePlaceRight&&p.right>dropablePlaceRight.getBoundingClientRect().left+p.width/2)p.bottom>dropablePlaceRight.getBoundingClientRect().bottom?dropablePlaceRight.after(g):dropablePlaceRight.parentElement.insertBefore(g,dropablePlaceRight),n.setData("right",!0),n.setData("left",!1),l="right";else if(elementAtLeft&&n.checkElement(elementAtLeft)&&n.checkPossiblePosition(elementAtLeft,"multiple")&&p.left<elementAtLeft.getBoundingClientRect().right-p.width/2)elementAtLeft.appendChild(g),n.setData("left",!1),n.setData("right",!1);else if(elementAtRight&&n.checkElement(elementAtRight)&&n.checkPossiblePosition(elementAtRight,"multiple")&&p.right>elementAtRight.getBoundingClientRect().left+p.width/2)elementAtRight.appendChild(g),n.setData("left",!1),n.setData("right",!1);else if(v<a){if(!(o="left"==l?document.elementFromPoint(p.left,v-1):"right"==l?document.elementFromPoint(p.right,v-1):document.elementFromPoint(t.clientX,v-1)))return;if((i=o.closest(".dropable"))&&(p.left>i.parentElement.getBoundingClientRect().right-p.width/2||p.right<i.parentElement.getBoundingClientRect().left+p.width/2))return;i&&i!=n.$node.querySelector("#dummy")&&v<i.getBoundingClientRect().bottom-16&&i.parentElement.insertBefore(g,i),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"multiple")||o.appendChild(g)}else{if(!(o="left"==l?document.elementFromPoint(p.left,D+1):"right"==l?document.elementFromPoint(p.right,D+1):document.elementFromPoint(t.clientX,D+1)))return;if((i=o.closest(".dropable"))&&(p.left>i.parentElement.getBoundingClientRect().right-p.width/2||p.right<i.parentElement.getBoundingClientRect().left+p.width/2))return;i&&i!=n.$node.querySelector("#dummy")&&D>=i.getBoundingClientRect().top+16&&i.after(g),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"multiple")||o.appendChild(g)}a=v}else{b=(g=n.getData("placeholder")).parentElement.getBoundingClientRect();if((p=s.getBoundingClientRect()).top<b.top&&g.parentElement.scrollTop>0&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-b.height&&(g.parentElement.scrollTop-=b.top-p.top),p.bottom>b.bottom&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-b.height&&(g.parentElement.scrollTop+=p.bottom-b.bottom),n.makeDroppable(s),elementAtLeft=document.elementFromPoint(p.left-1,t.clientY),elementAtRight=document.elementFromPoint(p.right+1,t.clientY),droppableLeft=elementAtLeft.closest(".dropable"),droppableRight=elementAtRight.closest(".dropable"),maxAllowableWidth=p.width/2,droppableLeft&&p.left<droppableLeft.getBoundingClientRect().right-maxAllowableWidth)p.bottom>droppableLeft.getBoundingClientRect().bottom?droppableLeft.after(g):droppableLeft.parentElement.insertBefore(g,droppableLeft);else if(droppableRight&&p.right>droppableRight.getBoundingClientRect().left+maxAllowableWidth)p.bottom>droppableRight.getBoundingClientRect().bottom?droppableRight.after(g):droppableRight.parentElement.insertBefore(g,droppableRight);else if(elementAtLeft&&n.checkElement(elementAtLeft)&&n.checkPossiblePosition(elementAtLeft,"single")&&p.left<elementAtLeft.getBoundingClientRect().right-maxAllowableWidth)elementAtLeft.appendChild(g);else if(elementAtRight&&n.checkElement(elementAtRight)&&n.checkPossiblePosition(elementAtRight,"single")&&p.right>elementAtRight.getBoundingClientRect().left+maxAllowableWidth)elementAtRight.appendChild(g);else{if(s.style.visibility="hidden",o=document.elementFromPoint(t.clientX,t.clientY),s.style.visibility="visible",!o)return;if((i=o.closest(".dropable"))&&(p.left>i.getBoundingClientRect().right-maxAllowableWidth||p.right<i.getBoundingClientRect().left+maxAllowableWidth))return;i&&i!=n.$node.querySelector("#dummy")&&(p.top<i.getBoundingClientRect().top&&i.parentElement.insertBefore(g,i),p.bottom>i.getBoundingClientRect().bottom&&i.after(g)),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"single")||o.appendChild(g)}n.getData("placeholder").classList.add("lyteDragDropDropable")}n.onDragFunction(t)}},!1),document.addEventListener("keydown",function(t){for(var e=document.querySelectorAll("lyte-dragdrop"),o=0;o<e.length;o++){var i=e[o].component;i.setData("keyPressed",!0);var l=t.which;i.setData("keyValue",l)}},!1),document.addEventListener("keyup",function(t){for(var e=document.querySelectorAll("lyte-dragdrop"),o=0;o<e.length;o++){var i=e[o].component;i.setData("keyPressed",!1),i.setData("keyValue",0)}},!1)}Lyte.Component.register("lyte-colorpicker",{_template:'<template tag-name="lyte-colorpicker">\n\t<template is="if" value="{{ltPropInline}}"><template case="true">\n\t<div class="lyteColorPicker">\n\t\t<div class="lyteColorPicker__showhidecontainer">\n\t\t\t<template is="if" value="{{ltPropBasicColorPicker}}"><template case="true">\n\t\t\t\t<div class="lyteColorPicker__default">\n\t\t\t\t\t<template is="if" value="{{ltPropNoFillButton}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__nocolorbutton" onclick="{{action(&quot;noFillExecute&quot;,event)}}">\n\t\t\t\t\t\t<span class="lyteColorPicker__noFill">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="lyteColorPicker__text">{{ltPropNoFillLabel}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropUsedColors}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer usedColor__container">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Recently.Used.Colors")}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<ul class="used__colors">\n\t\t\t\t\t\t\t\t<template is="for" items="{{usedColors}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiCPInsertBreak(indexVal)}}"><template case="true">\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_predefinedPallete">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{ltPropPaletteLabel}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<template is="for" items="{{availableColors}}" item="colorArray" index="indexVal">\n\t\t\t\t\t\t\t\t<ul class="lyteColorPicker__shades default__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{colorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropStandardColors}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_standardColorCont">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Standard.Colors")}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<ul class="standard__colors">\n\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropStandardColorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropAdvancedColorButton}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__navigatable lyteColorPicker__morecolorbutton" onclick="{{action(&quot;goToAdvancedCP&quot;,event)}}">\n\t\t\t\t\t\t<span class="lyteColorPicker__icon"></span>\n\t\t\t\t\t\t<span class="lyteColorPicker__text">{{lyteUiI18n("Advanced.Colors")}}</span>\n\t\t\t\t\t\t<span class="lyteColorpickerForwardArrow h-alignright LCP_rightArrow"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t</div>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteColorPicker--advanced">\n                    <div class="lyteColorPicker__maparea">\n                        <div class="colorDiv" id="colorDiv">\n                            <div id="lyteCPImgDiv"></div>\n                            <div class="colorSlider_palette_circle colorSlider_palette_circleBlack"></div>\n                        </div>\n                    </div>\n\t\t\t\t\t<div class="lyteColorPicker__previewDiv lyteColorPicker__sliderDiv">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="colorSlider_hue">\n\t\t\t\t\t\t\t\t<div class="colorSlider_sliderHandle">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar_border">\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__opacityslider">\n\t\t\t\t\t\t\t\t<div class="opacityslider__circlethumb"></div>\n\t\t\t\t\t\t\t\t<div class="lyteColorPicker__transparentbg">\n\t\t\t\t\t\t\t\t\t<div class="opacityslider__track"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteCP__transparentbg">\n\t\t\t\t\t\t\t<div class="previewDiv" onmouseover="{{action(&quot;onOverColorPreviewDiv&quot;,event)}}" onclick="{{action(&quot;copyValueToClipboard&quot;)}}" lt-prop-title="{{lyteUiI18n(\'Copy.Color.value.to.Clipboard\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="lyteColorPicker__previewDiv">\n\t\t\t\t\t\t<div class="selectFormat">\n\t\t\t\t\t\t\t<lyte-dropdown class="cPDropDown" lt-prop-yield="true" lt-prop-tabindex="1" on-option-selected="{{method(&quot;changeFormatView&quot;)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-drop-button class="colorPickerDD">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteMarginRight">{{dropButtonValue}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t\t\t\t\t<lyte-drop-box class="lyteCPDropbox">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropColorFormats}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}"> {{item}} </lyte-drop-item>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-body>\n\t\t\t\t\t\t\t\t\t</lyte-drop-box>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-dropdown>\n\t\t\t\t\t\t</div><div class="showValue">\n                            <lyte-table lt-prop-yield="true" class="cpValFormatIp">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-table-structure>\n\t\t\t\t\t\t\t\t\t\t<lyte-tbody>\n\t\t\t\t\t\t\t\t\t\t\t<template is="switch" value="{{dropButtonValue}}"><template case="HEX">\n\t\t\t\t\t\t                            <lyte-tr>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCPShowValue" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="7" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;HEX&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                            <lyte-tr class="lyteCPHexText">\n\t\t\t\t\t\t                                <lyte-td>HEX</lyte-td>\n\t\t\t\t\t\t                                <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                        </template><template case="RGB">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__R" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;R&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;R&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__G" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;G&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;G&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__B" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;B&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;B&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>R</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>G</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>B</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="HSV">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__H" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;H&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;H&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__S" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;S&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;S&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__V" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;V&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;V&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>H</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>S</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>V</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="CMYK">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__C" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;C&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;C&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__M" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;M&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;M&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__Y" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;Y&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;Y&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__K" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;K&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;K&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>C</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>M</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>Y</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>K</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template></template>\n\t\t\t\t\t\t\t\t\t\t</lyte-tbody> \n\t\t\t\t\t\t\t\t\t</lyte-table-structure>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-table>\n                        </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorPicker__commandbar">\n\t\t\t\t\t\t<template is="if" value="{{moreColorOptionSelected}}"><template case="true">\n\t\t\t\t\t\t<lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}">\n\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropBackBtnText}}</template>\n\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropDoneBtnText}}</template>\n\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(ltPropCloseOnSelection,\'!\')}}"><template case="true">\n\t\t\t\t\t\t<lyte-button class="LCP_cancel" lt-prop-size="small" style="margin-left: auto; margin-right: 7px; lt-prop-appearance=" default"="" onclick="{{action(&quot;closeColorPicker&quot;,event)}}">\n\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropCancelBtnText}}</template>\n\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropApplyBtnText}}</template>\n\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</div>\n\t</div>\n\t</template><template case="false">\n\t\t<lyte-popover class="lyteColorPicker popColorPicker" on-close="{{method(&quot;closePopColorPicker&quot;)}}" on-show="{{method(&quot;showColorPickerPopover&quot;,event)}}">\n\t\t\t<template is="registerYield" yield-name="popover">\n\t\t\t\t<lyte-popover-content class="lyteColorPicker__showhidecontainer">\n\t\t\t\t\t<template is="if" value="{{ltPropBasicColorPicker}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__default">\n\t\t\t\t\t\t<template is="if" value="{{ltPropNoFillButton}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__nocolorbutton" onclick="{{action(&quot;noFillExecute&quot;,event)}}">\n\t\t\t\t\t\t\t<span class="lyteColorPicker__noFill">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="lyteColorPicker__text">{{ltPropNoFillLabel}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropUsedColors}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer usedColor__container">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Recently.Used.Colors")}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<ul class="used__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{usedColors}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiCPInsertBreak(indexVal)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_predefinedPallete">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{ltPropPaletteLabel}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{availableColors}}" item="colorArray" index="indexVal">\n\t\t\t\t\t\t\t\t\t<ul class="lyteColorPicker__shades default__colors">\n\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{colorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<template is="if" value="{{ltPropStandardColors}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_standardColorCont">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Standard.Colors")}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<ul class="standard__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropStandardColorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropAdvancedColorButton}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__navigatable lyteColorPicker__morecolorbutton" onclick="{{action(&quot;goToAdvancedCP&quot;,event)}}">\n\t\t\t\t\t\t\t<span class="lyteColorPicker__icon"></span>\n\t\t\t\t\t\t\t<span class="lyteColorPicker__text">{{lyteUiI18n("Advanced.Colors")}}</span>\n\t\t\t\t\t\t\t<span class="lyteColorpickerForwardArrow h-alignright LCP_rightArrow">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t<div class="lyteColorPicker--advanced">\n                        <div class="lyteColorPicker__maparea">\n                            <div class="colorDiv" id="colorDiv">\n                                <div id="lyteCPImgDiv"></div>\n                                <div class="colorSlider_palette_circle colorSlider_palette_circleBlack"></div>\n                            </div>\n                        </div>\n\t\t\t\t\t\t<div class="lyteColorPicker__previewDiv lyteColorPicker__sliderDiv">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="colorSlider_hue">\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_sliderHandle">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar_border">\n\t\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lyteColorPicker__opacityslider">\n\t\t\t\t\t\t\t\t\t<div class="opacityslider__circlethumb"></div>\n\t\t\t\t\t\t\t\t\t<div class="lyteColorPicker__transparentbg">\n\t\t\t\t\t\t\t\t\t\t<div class="opacityslider__track"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="lyteCP__transparentbg">\n\t\t\t\t\t\t\t\t<div class="previewDiv" onmouseover="{{action(&quot;onOverColorPreviewDiv&quot;,event)}}" onclick="{{action(&quot;copyValueToClipboard&quot;)}}" lt-prop-title="{{lyteUiI18n(\'Copy.Color.value.to.Clipboard\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__previewDiv">\n\t\t\t\t\t\t\t<div class="selectFormat">\n\t\t\t\t\t\t\t\t<lyte-dropdown class="cPDropDown" lt-prop-yield="true" lt-prop-tabindex="1" on-option-selected="{{method(&quot;changeFormatView&quot;)}}">\n\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-button class="colorPickerDD">\n\t\t\t\t\t\t\t\t\t\t\t<span class="lyteMarginRight">{{dropButtonValue}}</span>\n\t\t\t\t\t\t\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-box class="lyteCPDropbox">\n\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropColorFormats}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}"> {{item}} </lyte-drop-item>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-box>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</lyte-dropdown>\n\t\t\t\t\t\t\t</div><div class="showValue">\n                                <lyte-table lt-prop-yield="true" class="cpValFormatIp">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-table-structure>\n\t\t\t\t\t\t\t\t\t\t<lyte-tbody>\n\t\t\t\t\t\t\t\t\t\t\t<template is="switch" value="{{dropButtonValue}}"><template case="HEX">\n\t\t\t\t\t\t                            <lyte-tr>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCPShowValue" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="7" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;HEX&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                            <lyte-tr class="lyteCPHexText">\n\t\t\t\t\t\t                                <lyte-td>HEX</lyte-td>\n\t\t\t\t\t\t                                <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                        </template><template case="RGB">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__R" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;R&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;R&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__G" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;G&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;G&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__B" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;B&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;B&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>R</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>G</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>B</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="HSV">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__H" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;H&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;H&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__S" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;S&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;S&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__V" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;V&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;V&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>H</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>S</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>V</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="CMYK">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__C" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;C&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;C&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__M" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;M&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;M&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__Y" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;Y&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;Y&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__K" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;K&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;K&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>C</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>M</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>Y</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>K</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template></template>\n\t\t\t\t\t\t\t\t\t\t</lyte-tbody> \n\t\t\t\t\t\t\t\t\t</lyte-table-structure>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-table>\n                            </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="lyteColorPicker__commandbar">\n\t\t\t\t\t\t\t<template is="if" value="{{moreColorOptionSelected}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropBackBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropDoneBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(ltPropCloseOnSelection,\'!\')}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-button class="LCP_cancel" lt-prop-size="small" style="margin-left: auto; margin-right: 7px;" lt-prop-appearance="default" onclick="{{action(&quot;closeColorPicker&quot;,event)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropCancelBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropApplyBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t</lyte-popover-content>\n\t\t\t</template>\n\t\t</lyte-popover>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3,1,1]},{type:"for",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,3,3,1]},{type:"attr",position:[1,5,1,1]},{type:"registerYield",position:[1,5,1,1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,5,1,1]},{type:"registerYield",position:[1,5,2,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"switch",position:[1,1,1],cases:{HEX:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},RGB:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},HSV:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},CMYK:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,2,1]},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3,1,1]},{type:"for",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,3,3,1]},{type:"attr",position:[1,5,1,1]},{type:"registerYield",position:[1,5,1,1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,5,1,1]},{type:"registerYield",position:[1,5,2,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"switch",position:[1,1,1],cases:{HEX:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},RGB:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},HSV:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},CMYK:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,2,1]},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropShowTitle","ltPropTitle","ltPropCloseButton","ltPropDraggable","ltPropCloseOnBodyClick","ltPropCloseOnSelection","ltPropAdvancedColorButton","ltPropAppearance","ltPropStandardColors","ltPropUsedColors","ltPropBasicColorPicker","ltPropSelectedColor","ltPropOriginElement","ltPropWrapperClass","moreColorOptionSelected","ltPropCurrentRgbCode","ltPropBoundary","ltPropScrollable","ltPropNoFillButton","ltPropNoFillLabel","ltPropPaletteLabel","ltPropInline","ltPropColorFormats","ltPropDoneBtnText","ltPropCancelBtnText","ltPropBackBtnText","ltPropApplyBtnText","ltPropStandardColorArray","ltPropDuration","availableColors","usedColors","polygonPoints","noFillPath","moreColorsPath","currentHue","currentBrightness","currentSaturation","paletteSize","circleOffsetSize","circleOffsetBecauseOfWinWidget","posdivElPalette","dragStatus","paletteMaxX","paletteMaxY","clickOnPaletteInProgress","component","hueStatus","poxYHue","poxXHue","dropButtonValue","basicDimensions","calledForHueMove","advCPDimensions","changedColor","tooltipTextChanged","inputChangeEvnt","hueBarSize","opacityStatus","opacityTrackSize","posXOpacity","opacity","sliderOffset","dragged"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropShowTitle:Lyte.attr("boolean",{default:!0}),ltPropTitle:Lyte.attr("string",{default:""}),ltPropCloseButton:Lyte.attr("boolean",{default:!0}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropCloseOnSelection:Lyte.attr("boolean",{default:!1}),ltPropAdvancedColorButton:Lyte.attr("boolean",{default:!0}),ltPropAppearance:Lyte.attr("string",{default:"callout"}),ltPropStandardColors:Lyte.attr("boolean",{default:!0}),ltPropUsedColors:Lyte.attr("boolean",{default:!0}),ltPropBasicColorPicker:Lyte.attr("boolean",{default:!0}),ltPropSelectedColor:Lyte.attr("object",{default:null}),ltPropOriginElement:Lyte.attr("string",{default:""}),ltPropWrapperClass:Lyte.attr("string",{default:"lyteColorPickerPopover"}),moreColorOptionSelected:Lyte.attr("boolean",{default:!1}),ltPropCurrentRgbCode:Lyte.attr("string",{default:"90c3d4"}),ltPropBoundary:Lyte.attr("object",{default:null}),ltPropScrollable:Lyte.attr("boolean",{default:!0}),ltPropNoFillButton:Lyte.attr("boolean",{default:!1}),ltPropNoFillLabel:Lyte.attr("string",{default:""}),ltPropPaletteLabel:Lyte.attr("string",{default:""}),ltPropInline:Lyte.attr("boolean",{default:!1}),ltPropColorFormats:Lyte.attr("array",{default:["HEX","RGB","HSV","CMYK"]}),ltPropDoneBtnText:Lyte.attr("string",{default:"Done"}),ltPropCancelBtnText:Lyte.attr("string",{default:"Cancel"}),ltPropBackBtnText:Lyte.attr("string",{default:"Back"}),ltPropApplyBtnText:Lyte.attr("string",{default:"Apply"}),ltPropStandardColorArray:Lyte.attr("array",{default:[]}),ltPropDuration:Lyte.attr("number",{default:600}),availableColors:Lyte.attr("array",{default:[]}),usedColors:Lyte.attr("array",{default:["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"]}),polygonPoints:Lyte.attr("string",{default:"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5"}),noFillPath:Lyte.attr("string",{default:"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z"}),moreColorsPath:Lyte.attr("string",{default:"M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z"}),currentHue:Lyte.attr("number",{default:0}),currentBrightness:Lyte.attr("number",{default:100}),currentSaturation:Lyte.attr("number",{default:100}),paletteSize:Lyte.attr("object"),circleOffsetSize:Lyte.attr("number",{default:6}),circleOffsetBecauseOfWinWidget:Lyte.attr("number",{default:0}),posdivElPalette:Lyte.attr("object",{default:{}}),dragStatus:Lyte.attr("number",{default:0}),paletteMaxX:Lyte.attr("number",{default:0}),paletteMaxY:Lyte.attr("number",{default:0}),clickOnPaletteInProgress:Lyte.attr("boolean",{default:!1}),component:Lyte.attr("object",{default:null}),hueStatus:Lyte.attr("number",{default:0}),poxYHue:Lyte.attr("number",{default:0}),poxXHue:Lyte.attr("number",{default:0}),dropButtonValue:Lyte.attr("string",{default:"HEX"}),basicDimensions:Lyte.attr("object",{default:{width:222,height:362}}),calledForHueMove:Lyte.attr("boolean",{default:!1}),advCPDimensions:Lyte.attr("object",{default:{width:280,height:322}}),changedColor:Lyte.attr("object"),tooltipTextChanged:Lyte.attr("boolean",{default:!1}),inputChangeEvnt:Lyte.attr("boolean",{default:!1}),hueBarSize:Lyte.attr("number"),opacityStatus:Lyte.attr("number",{default:0}),opacityTrackSize:Lyte.attr("number"),posXOpacity:Lyte.attr("number",{default:0}),opacity:Lyte.attr("number"),sliderOffset:Lyte.attr("number",{default:4}),dragged:Lyte.attr("boolean",{default:!1})}},init:function(){this.setData("availableColors",[["rgb(255, 255, 255)","rgb(239, 22, 22)","rgb(239, 130, 22)","rgb(239, 177, 22)","rgb(93, 195, 90)","rgb(56, 215, 187)","rgb(22, 208, 239)","rgb(57, 142, 243)","rgb(197, 22, 239)","rgb(239, 22, 111)"],["rgb(230, 230, 230)","rgb(253, 232, 232)","rgb(253, 243, 232)","rgb(253, 247, 232)","rgb(239, 249, 239)","rgb(235, 251, 248)","rgb(232, 250, 253)","rgb(235, 244, 254)","rgb(249, 232, 253)","rgb(253, 232, 241)"],["rgb(204, 204, 204)","rgb(252, 208, 208)","rgb(252, 230, 208)","rgb(252, 239, 208)","rgb(223, 243, 222)","rgb(215, 247, 241)","rgb(208, 246, 252)","rgb(215, 232, 253)","rgb(243, 208, 252)","rgb(252, 208, 226)"],["rgb(153, 153, 153)","rgb(249, 162, 162)","rgb(249, 205, 162)","rgb(249, 224, 162)","rgb(190, 231, 189)","rgb(175, 239, 228)","rgb(162, 236, 249)","rgb(176, 210, 250)","rgb(232, 162, 249)","rgb(249, 162, 197)"],["rgb(102, 102, 102)","rgb(245, 115, 115)","rgb(245, 180, 115)","rgb(245, 208, 115)","rgb(158, 219, 156)","rgb(136, 231, 214)","rgb(115, 227, 245)","rgb(136, 187, 248)","rgb(220, 115, 245)","rgb(245, 115, 169)"],["rgb(51, 51, 51)","rgb(242, 69, 69)","rgb(242, 155, 69)","rgb(242, 193, 69)","rgb(125, 207, 123)","rgb(96, 223, 201)","rgb(69, 217, 242)","rgb(97, 165, 245)","rgb(209, 69, 242)","rgb(242, 69, 140)"],["rgb(25, 25, 25)","rgb(171, 12, 12)","rgb(171, 91, 12)","rgb(171, 125, 12)","rgb(56, 146, 53)","rgb(32, 158, 136)","rgb(12, 148, 171)","rgb(12, 97, 198)","rgb(140, 12, 171)","rgb(171, 12, 77)"],["rgb(0, 0, 0)","rgb(73, 5, 5)","rgb(73, 39, 5)","rgb(73, 54, 5)","rgb(24, 63, 23)","rgb(14, 68, 58)","rgb(5, 64, 73)","rgb(5, 42, 85)","rgb(60, 5, 73)","rgb(73, 5, 33)"]]),this.setData("ltPropStandardColorArray",["rgb(192, 0, 0)","rgb(255, 0, 0)","rgb(255, 192, 0)","rgb(255, 255, 0)","rgb(146, 208, 80)","rgb(0, 176, 80)","rgb(0, 176, 240)","rgb(0, 112, 192)","rgb(0, 32, 96)","rgb(112, 48, 160)"])},showColorPicker:function(){if(this.getData("ltPropTitle")||this.setData("ltPropTitle",_lyteUiUtils.i18n("Choose.Color")),this.getData("ltPropNoFillLabel")||this.setData("ltPropNoFillLabel",_lyteUiUtils.i18n("No.Fill")),this.getData("ltPropPaletteLabel")||this.setData("ltPropPaletteLabel",_lyteUiUtils.i18n("Theme.Colors")),this.getData("ltPropInline"))this.$node.style.display="inline-block",this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),this.getData("ltPropBasicColorPicker")?this.initializeBasicColorPicker(event||window.event,this.$node):(this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(event||window.event,this.$node));else if(this.getData("ltPropShow"))this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),this.$node.querySelector(".popColorPicker").ltProp("showCloseButton",!1),this.getData("ltPropBoundary")&&this.$node.querySelector(".popColorPicker").ltProp("boundary",this.getData("ltPropBoundary")),this.$node.querySelector(".popColorPicker").ltProp({contentPadding:"0px",originElem:this.getData("ltPropOriginElement"),wrapperClass:this.getData("ltPropWrapperClass"),type:this.getData("ltPropAppearance"),duration:this.getData("ltPropDuration"),closeOnBodyClick:!1,freeze:!1,scrollable:this.getData("ltPropScrollable"),draggable:!1,show:!0}),this.executeOnBeforeOpen();else{var t=document.querySelector("."+this.getData("ltPropWrapperClass"));t&&t.classList.contains("lyteColorpickerVisible")&&t.classList.remove("lyteColorpickerVisible"),this.$node.querySelector(".popColorPicker").ltProp&&this.$node.querySelector(".popColorPicker").ltProp("show",!1)}this.setData("component",this)}.observes("ltPropShow").on("didConnect"),initializeAdvColorPicker:function(t,e){e.querySelector("#lyteCPImgDiv");var o=e.querySelector("#colorDiv");e.querySelector(".colorSlider_palette_circle");e.querySelector(".colorSlider_hue").addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)}),o.addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hueBar").addEventListener("mousedown",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hue").addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)}),o.addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hueBar").addEventListener("touchstart",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)}),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)}),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)}),e.querySelector(".opacityslider__track").addEventListener("mousedown",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)}),e.querySelector(".opacityslider__track").addEventListener("touchstart",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)}),this.setData("paletteSize",{height:o.offsetHeight,width:o.offsetWidth}),this.setData("hueBarSize",e.querySelector(".colorSlider_hueBar").offsetWidth),this.setData("opacityTrackSize",e.querySelector(".opacityslider__track").offsetWidth),this.getData("opacity")||this.setData("opacity",100),this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")),e=null,o=null},initializeBasicColorPicker:function(t,e){for(var o=e.querySelectorAll(".default__colors > li"),i=0;i<o.length;i++)o[i].style.background=o[i].textContent;if(this.getData("ltPropStandardColors")){o=e.querySelectorAll(".standard__colors > li");for(i=0;i<o.length;i++)o[i].style.background=o[i].textContent}if(this.getData("ltPropUsedColors")){o=e.querySelectorAll(".used__colors > li");for(i=0;i<o.length;i++)o[i].style.background=o[i].textContent}if(this.getData("ltPropColorPreview")&&this.getData("ltPropCurrentRgbCode"))ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));o=null},executeOnBeforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen",this)},executeOnSelect:function(t,e){var o=this.getData("usedColors"),i=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));this.setData("ltPropSelectedColor",{hex:"#"+this.getData("ltPropCurrentRgbCode"),rgb:"rgb("+i.red+", "+i.green+", "+i.blue+")",opacity:this.getData("opacity"),"hex-alpha":"#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),rgba:"rgba("+i.red+", "+i.green+", "+i.blue+", "+this.getData("opacity")/100+")"});var l=this.getData("ltPropSelectedColor").rgba;-1!=o.indexOf(l)?Lyte.arrayUtils(this.getData("usedColors"),"removeAt",o.indexOf(l),1):Lyte.arrayUtils(this.getData("usedColors"),"removeAt",9,1),Lyte.arrayUtils(this.getData("usedColors"),"insertAt",0,l);var a=(this.getData("ltPropInline")?this.$node:this.childComp).querySelectorAll(".usedColor__container li")[0];a&&(a.style.background=l),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.getData("ltPropSelectedColor"),this),!this.getData("ltPropCloseOnSelection")&&!0!==e||this.getData("calledForHueMove")||this.setData("ltPropShow",!1),this.getData("calledForHueMove")&&this.setData("calledForHueMove",!1)},executeOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},executeOnClose:function(t){if(this&&this.inputEle){var e=this.inputEle;this.inputEle=null,e.remove()}this.getMethods("onClose")&&this.executeMethod("onClose",t,this)},executeOnChange:function(){var t=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode")),e={hex:"#"+this.getData("ltPropCurrentRgbCode"),rgb:"rgb("+t.red+", "+t.green+", "+t.blue+")",opacity:this.getData("opacity"),"hex-alpha":"#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),rgba:"rgba("+t.red+", "+t.green+", "+t.blue+", "+this.getData("opacity")/100+")"};this.setData("ltPropSelectedColor",e),this.getMethods("onChange")&&this.executeMethod("onChange",event,e,this)},setRgbColor:function(t){var e=ColorPicker_Util.getHsvByRgbCode(t);this.setData("currentHue",e.hue),this.setData("currentBrightness",100*e.brightness),this.setData("currentSaturation",100*e.saturation),this.__changeViewAfterColorChange()},__changeViewAfterColorChange:function(){this.__setCurrentRgbCode(),this.__setPaletteBgColor(),this.__setSliderPos(),this.getData("inputChangeEvnt")?this.setData("inputChangeEvnt",!1):this.__updateRgbInForm(),this.__setSmallCirclePosition(),this.__changeColorInOpacityTrack(),this.__setOpacityColorPreviewDiv(),this.__updateOpacityInForm()},__setCurrentRgbCode:function(){this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100))},__setPaletteBgColor:function(){try{this.getData("ltPropInline")?this.$node.querySelector("#colorDiv").style.backgroundColor="#"+ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),1,1):this.childComp.querySelector("#colorDiv").style.backgroundColor="#"+ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),1,1)}catch(t){}},__setSliderPos:function(){var t=Math.round(this.getData("hueBarSize")-this.getData("currentHue")/360*this.getData("hueBarSize"));this.getData("ltPropInline")?this.$node.querySelector(".colorSlider_sliderHandle").style.left=t-this.getData("sliderOffset")+"px":this.childComp.querySelector(".colorSlider_sliderHandle").style.left=t-this.getData("sliderOffset")+"px"},__setSmallCirclePosition:function(){var t=this.getData("currentBrightness"),e=this.getData("currentSaturation"),o=this.getData("paletteSize"),i=this.getData("circleOffsetSize"),l=this.getData("ltPropInline")?this.$node.querySelector(".colorSlider_palette_circle"):this.childComp.querySelector(".colorSlider_palette_circle"),a=Math.round(e*(o.width/100))-i,n=o.height-Math.round(t*(o.height/100))-i;l.style.left=a+"px",l.style.top=n+"px",l.className=l.className.replace("colorSlider_palette_circleBlack",""),t>80&&(l.className=l.className+"colorSlider_palette_circleBlack"),l=null},__ffHackWinWidget:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp;t.querySelector(".lyteColorPicker--advanced").parentNode.className&&t.querySelector(".lyteColorPicker--advanced").parentNode.className.indexOf("windowContent")>=0&&!document.all&&this.setData("circleOffsetBecauseOfWinWidget",0)},__setBgColorPreviewDiv:function(){this.getData("ltPropInline")?this.$node.querySelector(".previewDiv").style.backgroundColor="#"+this.getData("ltPropCurrentRgbCode"):this.childComp.querySelector(".previewDiv").style.backgroundColor="#"+this.getData("ltPropCurrentRgbCode")},__updateRgbInForm:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=t.querySelector(".selectFormat").querySelector("lyte-dropdown").getData("ltPropSelected");if(this.setData("dropButtonValue",e),"HEX"===e)t.querySelector("#lyteCPShowValue").setData("ltPropValue","#"+this.getData("ltPropCurrentRgbCode")),document.getElementById("lyteCPHiddenInput").value="#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"));else if("RGB"===e){var o=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));t.querySelector("#lyteCP__R").component.setData("ltPropValue",o.red+""),t.querySelector("#lyteCP__G").component.setData("ltPropValue",o.green+""),t.querySelector("#lyteCP__B").component.setData("ltPropValue",o.blue+""),document.getElementById("lyteCPHiddenInput").value="rgba("+o.red+", "+o.green+", "+o.blue+", "+this.getData("opacity")/100+")"}else if("HSV"===e){var i=Math.round(this.getData("currentHue")),l=Math.round(this.getData("currentSaturation")),a=Math.round(this.getData("currentBrightness"));t.querySelector("#lyteCP__H").component.setData("ltPropValue",i+""),t.querySelector("#lyteCP__S").component.setData("ltPropValue",l+""),t.querySelector("#lyteCP__V").component.setData("ltPropValue",a+""),document.getElementById("lyteCPHiddenInput").value="hsv("+i+","+l+"%,"+a+"%,"+this.getData("opacity")/100+")"}else if("CMYK"===e){o=ColorPicker_Util.getRgbColorsByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100);var n=ColorPicker_Util.getCmykByRgbColors([o.red,o.green,o.blue]);t.querySelector("#lyteCP__C").component.setData("ltPropValue",Math.round(100*n[0])+""),t.querySelector("#lyteCP__M").component.setData("ltPropValue",Math.round(100*n[1])+""),t.querySelector("#lyteCP__Y").component.setData("ltPropValue",Math.round(100*n[2])+""),t.querySelector("#lyteCP__K").component.setData("ltPropValue",Math.round(100*n[3])+""),document.getElementById("lyteCPHiddenInput").value="cmyk("+Math.round(100*n[0])+"%,"+Math.round(100*n[1])+"%,"+Math.round(100*n[2])+"%,"+Math.round(100*n[3])+"%)"}},__setOpacitySliderPos:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=this.getData("opacity")*this.getData("opacityTrackSize")/100;t.querySelector(".opacityslider__circlethumb").style.left=e-this.getData("sliderOffset")+"px"},__changeColorInOpacityTrack:function(){(this.getData("ltPropInline")?this.$node:this.childComp).querySelector(".opacityslider__track").style.backgroundImage="linear-gradient(to right, transparent, #"+this.getData("ltPropCurrentRgbCode")+")"},__setOpacityColorPreviewDiv:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));t.querySelector(".previewDiv").style.backgroundColor="rgba("+e.red+","+e.green+","+e.blue+","+this.getData("opacity")/100+")"},__updateOpacityInForm:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp;if(t.querySelector("#lyteCP__A")){if(t.querySelector("#lyteCP__A").component.setData("ltPropValue",this.getData("opacity")),"HEX"==this.getData("dropButtonValue")&&(document.getElementById("lyteCPHiddenInput").value="#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"))),"RGB"==this.getData("dropButtonValue")){var e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));document.getElementById("lyteCPHiddenInput").value="rgba("+e.red+", "+e.green+", "+e.blue+", "+this.getData("opacity")/100+")"}if("HSV"==this.getData("dropButtonValue")){var o=Math.round(this.getData("currentHue")),i=Math.round(this.getData("currentSaturation")),l=Math.round(this.getData("currentBrightness"));document.getElementById("lyteCPHiddenInput").value="hsv("+o+","+i+"%,"+l+"%,"+this.getData("opacity")/100+")"}}},didDestroy:function(){this.tId&&(clearInterval(this.tId),this.tId=!1)},methods:{inputValueChanged:function(t,e){var o=this.getData("ltPropInline")?this.$node:this.childComp;if("HEX"===t&&(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)?(this.setData("inputChangeEvnt",!0),7==e.newValue.length?this.setData("ltPropCurrentRgbCode",e.newValue.substring(1)):4==e.newValue.length&&this.setData("ltPropCurrentRgbCode",ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue.substring(1))),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode"))):/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)&&(this.setData("inputChangeEvnt",!0),6==e.newValue.length?this.setData("ltPropCurrentRgbCode",e.newValue):3==e.newValue.length&&this.setData("ltPropCurrentRgbCode",ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))),"R"===t||"G"===t||"B"===t){this.setData("inputChangeEvnt",!0);var i=o.querySelector("#lyteCP__R").component.getData("ltPropValue"),l=o.querySelector("#lyteCP__G").component.getData("ltPropValue"),a=o.querySelector("#lyteCP__B").component.getData("ltPropValue");i&&l&&a&&(this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(i,l,a)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("H"===t||"S"===t||"V"===t){this.setData("inputChangeEvnt",!0);var n=o.querySelector("#lyteCP__H").component.getData("ltPropValue"),r=o.querySelector("#lyteCP__S").component.getData("ltPropValue"),s=o.querySelector("#lyteCP__V").component.getData("ltPropValue");n&&r&&s&&(this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByHsv(n,r,s)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("C"===t||"M"===t||"Y"===t||"K"===t){this.setData("inputChangeEvnt",!0);var d=o.querySelector("#lyteCP__C").component.getData("ltPropValue"),p=o.querySelector("#lyteCP__M").component.getData("ltPropValue"),c=o.querySelector("#lyteCP__Y").component.getData("ltPropValue");k=o.querySelector("#lyteCP__K").component.getData("ltPropValue"),d&&p&&c&&k&&(this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByCmyk(d,p,c,k)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("alpha"===t){var h=o.querySelector("#lyteCP__A").component.getData("ltPropValue");h&&(this.setData("opacity",parseInt(h)),1!=this.getData("opacityStatus")&&(this.__setOpacitySliderPos(),this.__setOpacityColorPreviewDiv()))}},closePopColorPicker:function(){if(this.executeOnClose(),this.getData("moreColorOptionSelected")){var t=this;t.tId=setTimeout(function(){t.setData("ltPropBasicColorPicker",!0),t.setData("moreColorOptionSelected",!1),t.tId=!1},400)}this.setData("ltPropShow",!1)},showColorPickerPopover:function(){this.childComp=this.$node.querySelector("lyte-popover").component.childComp;var t=document.querySelector("."+this.getData("ltPropWrapperClass"));if(t.classList.add("lyteColorpickerVisible"),t.querySelector("lyte-popover-content").style.height="auto",this.getData("ltPropBasicColorPicker")?this.initializeBasicColorPicker(event,t):(this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(event,t)),this.getData("ltPropDraggable")){var e=t.querySelector(".lytePopover"),o=t.querySelector("lyte-popover-header")||t.querySelector("lyte-popover-content");e.id="draggableColor",o.id="draghandle",$L("#draggableColor").draggable({handle:["#draghandle"]})}this.$node.querySelector("lyte-popover").component.computeOffsetImpl(),this.executeOnOpen(),t=null},changeFormatView:function(t,e){"LYTE-DROP-BOX"==t.currentTarget.tagName&&this.__updateRgbInForm()}},actions:{inputKeyDown:function(t,e,o){if((t.keyCode||t.which)>=48&&(t.keyCode||t.which)<=57||8==(t.keyCode||t.which)||(t.keyCode||t.which)>=37&&(t.keyCode||t.which)<=40){var i=e.querySelector("input"),l=i.selectionStart,a=i.value;if(8==(t.keyCode||t.which))l==a.length?a=a.slice(0,-1):l>0&&(a=a.slice(0,l-1)+a.slice(l));else{var n=t.key;a=a.slice(0,l)+n+a.slice(l)}"R"==o||"G"==o||"B"==o?a&&(parseInt(a)<0||parseInt(a)>255)&&(t.preventDefault(),t.stopPropagation()):"H"==o?a&&(parseInt(a)<0||parseInt(a)>359)&&(t.preventDefault(),t.stopPropagation()):"S"!=o&&"V"!=o&&"C"!=o&&"M"!=o&&"Y"!=o&&"K"!=o&&"A"!=o||a&&(parseInt(a)<0||parseInt(a)>100)&&(t.preventDefault(),t.stopPropagation())}else t.preventDefault(),t.stopPropagation()},callOnSelect:function(t,e){this.executeOnSelect(t,e)},selectColor:function(t,e){if("rgba(0, 0, 0, 0)"!=e){var o,i;(o=this.getData("ltPropInline")?this.$node.querySelector(".lyteColorPicker").querySelector(".lyteCPSelectedColor"):document.querySelector("."+this.getData("ltPropWrapperClass")).querySelector(".lyteCPSelectedColor"))&&o.classList.remove("lyteCPSelectedColor"),t.target.classList.add("lyteCPSelectedColor"),/rgba/.test(e)?(i=e.substring(5,e.length-1).split(","),this.setData("opacity",100*i[3])):(i=e.substring(4,e.length-1).split(","),this.setData("opacity",100));var l={hex:"#"+ColorPicker_Util.getRgbCodeByRgbColors(i[0],i[1],i[2]),rgb:"rgb("+i[0]+", "+i[1]+", "+i[2]+")",opacity:this.getData("opacity"),"hex-alpha":"#"+ColorPicker_Util.getRgbCodeByRgbColors(i[0],i[1],i[2])+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),rgba:"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+this.getData("opacity")/100+")"};this.setData("ltPropCurrentRgbCode",l.hex.substring(1)),this.setData("ltPropSelectedColor",l),this.executeOnSelect(t)}},goToAdvancedCP:function(t){var e,o=this.getData("ltPropSelectedColor");null!=o&&this.setData("ltPropCurrentRgbCode",o.hex?o.hex.substring(1):"FF0000"),this.setData("moreColorOptionSelected",!0);var i=this.getData("advCPDimensions");if(this.getData("ltPropInline"))e=this.$node.querySelector(".lyteColorPicker"),this.setData("ltPropBasicColorPicker",!1);else{var l=(e=document.querySelector("."+this.getData("ltPropWrapperClass"))).querySelector(".lytePopover"),a=l.getBoundingClientRect(),n=a.height;this.setData("basicDimensions",{width:a.width,height:n}),l.style.width=i.width+"px",l.style.maxWidth=i.width+"px",this.setData("ltPropBasicColorPicker",!1),this.$node.querySelector("lyte-popover").component.computeOffsetImpl(),a=null,n=null,l=null}this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(t,e),e=null,o=null,i=null},noFillExecute:function(t){var e={hex:void 0,rgb:"transparent",opacity:0};this.setData("ltPropSelectedColor",e),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.getData("ltPropSelectedColor"),this),this.getData("ltPropCloseOnSelection")&&!this.getData("calledForHueMove")&&this.setData("ltPropShow",!1)},defaultColorExecute:function(t){var e="rgb(0, 0, 0)",o=e.substring(4,e.length-1).split(","),i={hex:"#"+ColorPicker_Util.getRgbCodeByRgbColors(o[0],o[1],o[2]),rgb:e,opacity:this.getData("opacity")};this.setData("ltPropSelectedColor",i),this.executeOnSelect(t)},closeColorPicker:function(t){this.executeOnClose(t),this.setData("ltPropShow",!1)},fromAdvCPtoBasic:function(t){var e;this.setData("moreColorOptionSelected",!1);var o=this.getData("basicDimensions");if(this.getData("ltPropInline"))e=this.$node.querySelector(".lyteColorPicker"),this.setData("ltPropBasicColorPicker",!0);else{var i=(e=document.querySelector("."+this.getData("ltPropWrapperClass"))).querySelector(".lytePopover");i.querySelector("lyte-popover-content");i.style.width=o.width+"px",i.style.maxWidth=o.width+"px",this.setData("ltPropBasicColorPicker",!0),this.$node.querySelector("lyte-popover").component.computeOffsetImpl()}if(this.inputEle){var l=this.inputEle;this.inputEle=null,l.remove()}this.initializeBasicColorPicker(t,e),i=null},copyValueToClipboard:function(t){var e=this.getData("ltPropInline")?this.$node:this.childComp;e.querySelector("lyte-dropdown").ltProp("selected");document.getElementById("lyteCPHiddenInput").select();try{document.execCommand("copy");this.getData("tooltipTextChanged")||(e.querySelector(".previewDiv").setAttribute("lt-prop-title","Color value copied.!"),this.setData("tooltipTextChanged",!0),e.querySelector(".previewDiv").dispatchEvent(new Event("mousemove")))}catch(t){}},onOverColorPreviewDiv:function(t){var e=this.getData("ltPropInline")?this.$node:this.childComp;this.getData("tooltipTextChanged")&&(e.querySelector(".previewDiv").setAttribute("lt-prop-title",_lyteUiUtils.i18n("Copy.Color.value.to.Clipboard")),this.setData("tooltipTextChanged",!1))}}}),document.addEventListener("click",function(t){if(ColorPicker_EventUtil.__stopPropagation)ColorPicker_EventUtil.__stopPropagation=!1;else{for(var e=t.target;!e.classList.contains("lyteColorpickerVisible")&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName){var o=document.querySelector(".lyteColorpickerVisible");o&&o.parentElement.parentElement._callee.parentElement.component.getData("ltPropCloseOnBodyClick")&&o.parentElement.parentElement._callee.parentElement.ltProp("show",!1)}}},!0),Lyte.Component.register("lyte-daterangepicker",{_template:'<template tag-name="lyte-daterangepicker">\n    <template is="switch" value="{{ltPropSelectionType}}"><template case="continuous">  \n        <div class="lyteDateRangePickerRow" onmousedown="{{action(\'mouseDown\',event)}}" onmouseover="{{action(\'mouseOver\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'previous\',\'M\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'next\',\'M\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'next\',\'Y\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n        </template><template case="separate">\n        <div class="lyteDateRangePickerRow lyteSeperateDRP" onmousedown="{{action(\'separateMouseDown\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal1\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal1\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal2\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal2\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n    </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{continuous:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[3,1]},{type:"attr",position:[3,3]}]},{type:"componentDynamic",position:[1,3,1]}]},separate:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,3,1]}]}},default:{}}],_observedAttributes:["monthHeader1","monthHeader2","ltPropCurrentDate","ltPropFormat","ltPropMonthHeaderFormat","shortMonthNames","longMonthNames","ltPropStartYear","ltPropEndYear","ltPropStartDate","ltPropEndDate","ltPropDisabledDates","ltPropMinDate","ltPropMaxDate","ltPropSelectionType","years","dateSelected","selectedDate1","selectedDate2","calViewDate1","calViewDate2","tempDate","monthNames","dateNode1","dateNode2","clickCount","convertedDates","convert","internallyChanged","monthNames1","monthNames2","years1","years2","triggerInit","triggerDidconnect"],data:function(){return{monthHeader1:Lyte.attr("string",{default:"Initializing.."}),monthHeader2:Lyte.attr("string",{default:"Initializing.."}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMM YYYY"}),shortMonthNames:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),longMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),ltPropStartYear:Lyte.attr("number",{default:1900}),ltPropEndYear:Lyte.attr("number",{default:2100}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropDisabledDates:Lyte.attr("array",{default:[]}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropSelectionType:Lyte.attr("string",{default:"continuous"}),years:Lyte.attr("array",{default:[]}),dateSelected:Lyte.attr("boolean",{default:!1}),selectedDate1:Lyte.attr("string"),selectedDate2:Lyte.attr("string"),calViewDate1:Lyte.attr("object"),calViewDate2:Lyte.attr("object"),tempDate:Lyte.attr("string"),monthNames:Lyte.attr("array"),dateNode1:Lyte.attr("object"),dateNode2:Lyte.attr("object"),clickCount:Lyte.attr("number",{default:0}),convertedDates:Lyte.attr("array",{default:[]}),convert:Lyte.attr("number",{default:0}),internallyChanged:Lyte.attr("boolean",{default:!1}),monthNames1:Lyte.attr("array"),monthNames2:Lyte.attr("array"),years1:Lyte.attr("array",{default:[]}),years2:Lyte.attr("array",{default:[]}),triggerInit:Lyte.attr("number",{default:0}),triggerDidconnect:Lyte.attr("number",{default:0})}},initFunc:function(){for(var t=[],e=this.getData("ltPropStartYear");e<=this.getData("ltPropEndYear");e++)t.push(e);"continuous"==this.getData("ltPropSelectionType")&&this.setData("years",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("years1",t),this.setData("years2",t));var o=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(e=0;e<12;e++)o.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)o.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));this.setData("monthNames",o),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",o),this.setData("monthNames2",o))}.observes("ltPropStartYear","ltPropEndYear","triggerInit").on("init"),toggleSelectionType:function(){this.setData("triggerInit",this.getData("triggerInit")+1),this.setData("triggerDidconnect",this.getData("triggerDidconnect")+1)}.observes("ltPropSelectionType"),convertDisabledDates:function(){this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates()}.observes("ltPropDisabledDates.[]","convert"),setMonths:function(){var t=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(var e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));"continuous"==this.getData("ltPropSelectionType")&&this.setData("monthNames",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",t),this.setData("monthNames2",t))}.observes("ltPropMonthHeaderFormat"),didConnectFunc:function(){var t=this.$node.querySelector(".dRPCalendar1"),e=this.$node.querySelector(".dRPCalendar2"),o=new Date,i=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):o;"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(i=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))),"separate"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&(i=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"));var l=i.getDate(),a=i.getMonth(),n=i.getFullYear();if(this.setMonthAndYear(t,{dd:l,mm:a,yy:n},"cal1"),"continuous"==this.getData("ltPropSelectionType"))a<11?a+=1:(a=0,n+=1),this.setMonthAndYear(e,{dd:1,mm:a,yy:n}),(r=this.$node.querySelector(".lyteCalSel"))&&(s=new Date(r.dataset.date)).getMonth()===o.getMonth()&&s.getDate()===o.getDate()&&s.getFullYear()===o.getFullYear()&&(r.classList.remove("lyteCalSel"),r.classList.add("lyteCalToday"));else if("separate"==this.getData("ltPropSelectionType")){if(this.getData("ltPropEndDate")){i=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max");l=i.getDate(),a=i.getMonth(),n=i.getFullYear()}var r;if(this.setMonthAndYear(e,{dd:l,mm:a,yy:n}),(r=this.$node.querySelectorAll(".lyteCalSel")).length>0)for(var s=new Date(r[0].dataset.date),d=0;d<r.length;d++)s.getMonth()===o.getMonth()&&s.getDate()===o.getDate()&&s.getFullYear()===o.getFullYear()&&(r[0].classList.remove("lyteCalSel"),r[0].classList.add("lyteCalToday"));this.validateNavigationAndDropdown()}this.getData("ltPropDisabledDates").length>0&&this.setData("convert",this.getData("convert")+1),"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate")))}.observes("ltPropCurrentDate","ltPropMinDate","ltPropMaxDate","triggerDidconnect").on("didConnect"),restrictCalendarDates:function(t,e,o){var i;if("cal1"==t?i=this.$node.querySelector(".dRPCalendar1"):"cal2"==t&&(i=this.$node.querySelector(".dRPCalendar2")),"min"===o){i.ltProp("minDate",e);var l=this.stringToDate(e,this.getData("ltPropFormat"));this.calculateYears(t,l.getFullYear(),this.getData("ltPropEndYear"))}else"max"==o&&(i.ltProp("maxDate",e),maxDate=this.stringToDate(e,this.getData("ltPropFormat")),this.calculateYears(t,this.getData("ltPropStartYear"),maxDate.getFullYear()))},calculateYears:function(t,e,o){for(var i=[],l=e;l<=o;l++)i.push(l);"cal1"==t&&this.setData("years1",i),"cal2"==t&&this.setData("years2",i)},changeStartAndEndDate:function(){"separate"==this.getData("ltPropSelectionType")&&(this.getData("ltPropStartDate")&&this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"),this.getData("ltPropEndDate")&&this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max"),this.getData("ltPropStartDate")&&(this.checkAndRemoveSelectedDateClass("start"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar1"),this.getData("ltPropStartDate"),"start")),this.getData("ltPropEndDate")&&(this.checkAndRemoveSelectedDateClass("end"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar2"),this.getData("ltPropEndDate"),"end"))),"continuous"==this.getData("ltPropSelectionType")&&(this.getData("internallyChanged")?this.setData("internallyChanged",!1):""===this.getData("ltPropStartDate")||""===this.getData("ltPropEndDate")?(this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart()):this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate"))))}.observes("ltPropStartDate","ltPropEndDate"),checkforStartDateAndEndDate:function(t,e,o){for(var i=t.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),l=0;l<i.length;l++)if(i[l].dataset.date==e)return"start"==o&&(i[l].classList.add("lyteDateRPFirstDateSelected"),this.setData("dateNode1",i[l])),void("end"==o&&(i[l].classList.add("lyteDateRPLastDateSelected"),this.setData("dateNode2",i[l])))},checkAndRemoveSelectedDateClass:function(t){if("start"==t){var e=this.$node.querySelector(".dRPCalendar1"),o=Array.from(e.querySelectorAll(".lyteDateRPFirstDateSelected"));if(Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),o.length>0)for(var i=0;i<o.length;i++)o[i].classList.remove("lyteDateRPFirstDateSelected","lyteCalToday","lyteCalSel")}if("end"==t){e=this.$node.querySelector(".dRPCalendar2"),o=Array.from(e.querySelectorAll(".lyteDateRPLastDateSelected"));if(Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),o.length>0)for(i=0;i<o.length;i++)o[i].classList.remove("lyteDateRPLastDateSelected","lyteCalToday","lyteCalSel")}},validateNavigationAndDropdown:function(){if(this.getData("ltPropStartDate")){var t=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate2"),o=this.$node.querySelector(".lyteDateRangePickerCol2 .lyteDateRPLeftNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?o.classList.add("lyteDateRPNavDisabled"):o.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(l=(i=this.getData("monthNames2")).indexOf(this.getData("monthNames")[t.getMonth()]))&&0==l||this.calculateMonths("cal2",t.getMonth());else this.getData("monthNames2").length<12&&this.setData("monthNames2",this.getData("monthNames"))}if(this.getData("ltPropEndDate")){var i,l;t=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate1"),o=this.$node.querySelector(".lyteDateRangePickerCol1 .lyteDateRPRightNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?o.classList.add("lyteDateRPNavDisabled"):o.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(l=(i=this.getData("monthNames1")).indexOf(this.getData("monthNames")[t.getMonth()]))&&l==i.length-1||this.calculateMonths("cal1",t.getMonth());else this.getData("monthNames1").length<12&&this.setData("monthNames1",this.getData("monthNames"))}},calculateMonths:function(t,e){if("cal1"==t){var o=this.getData("monthNames");this.setData("monthNames1",o.slice(0,e+1))}if("cal2"==t){o=this.getData("monthNames");this.setData("monthNames2",o.slice(e))}},setMonthAndYear:function(t,e,o){t.ltProp("currentDate",this.constructDateString(e.mm+1,e.dd,e.yy)),t.setData("currentDatechanged",t.getData("currentDatechanged")+1),"separate"==this.getData("ltPropSelectionType")&&("cal1"==o&&-1==this.getData("monthNames1").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames1",this.getData("monthNames")),"cal2"==o&&-1==this.getData("monthNames2").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames2",this.getData("monthNames"))),t.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[e.mm]),t.querySelector(".yearDD").ltProp("selected",""+e.yy),"cal1"==o?this.setData("calViewDate1",t.getData("viewDate")):this.setData("calViewDate2",t.getData("viewDate"))},selectDates:function(t){var e=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),o=this.getData("dateNode1"),i=this.getData("dateNode2"),l=Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat"))),a=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),n=this.$node.querySelector(".lyteDateRPTempFirstDateSelected"),r=this.$node.querySelector(".lyteDateRPTempLastDateSelected");if(n&&n.classList.remove("lyteDateRPTempFirstDateSelected"),r&&r.classList.remove("lyteDateRPTempLastDateSelected"),this.removeMonthEndAndStart(),l<a)for(var s=0;s<e.length;s++){(d=Date.parse(this.stringToDate(e[s].dataset.date,this.getData("ltPropFormat"))))>=l&&d<=a?e[s].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,s,l,a):(d==l?o.classList.add("lyteDateRPTempFirstDateSelected"):d==a?i.classList.add("lyteDateRPTempLastDateSelected"):e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,s,this.getData("selectedDate1"),t)):(e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.contains("lyteCalSel"))&&e[s].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else if(l>a)for(s=0;s<e.length;s++){var d;(d=Date.parse(this.stringToDate(e[s].dataset.date,this.getData("ltPropFormat"))))>=a&&d<=l?e[s].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,s,a,l):(d==a?i.classList.add("lyteDateRPTempFirstDateSelected"):d==l?o.classList.add("lyteDateRPTempLastDateSelected"):e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,s,t,this.getData("selectedDate1"))):(e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.contains("lyteCalSel"))&&e[s].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else this.checkAndRemoveAllSelectedClasses(),this.setData("selectedDate1",t),i.classList.add("lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected"),this.checkForMonthEndAndStart(e,Array.from(e).indexOf(i),t,this.getData("selectedDate1"));this.setData("tempDate",t)},checkAndMarkDisabledDates:function(){var t=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(0!=t.length)for(var e,o=0;o<t.length;o++)e=t[o].dataset.date,this.checkForDisabledDates(e)&&t[o].classList.add("lyteCalDisabled")},checkForDisabledDates:function(t){for(var e=this.getData("ltPropDisabledDates"),o=0;o<e.length;o++)if(new RegExp(e[o]).test(t))return!0;return!1},checkForBeforeAndAfter:function(t,e,o,i){if(e>0&&e<t.length-1){var l=Date.parse(this.stringToDate(t[e-1].dataset.date,this.getData("ltPropFormat"))),a=Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")));l>=o&&l<=i&&t[e-1].classList.add("lyteDateRPInterimEndDate"),a>=o&&a<=i&&t[e+1].classList.add("lyteDateRPInterimStartDate")}},checkAndRemoveAllSelectedClasses:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPFirstDateSelected"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempFirstDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPFirstDateSelected","lyteDateRPTempSelected","lyteDateRPLastDateSelected","lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected","lyteCalSel","lyteCalToday");this.setData("selectedDate1",""),this.setData("selectedDate2","")},checkForMonthEndAndStart:function(t,e,o,i){var l=this.$node.querySelectorAll(".lyteCalCdate"),a=l[l.length-1];"1"===t[e].innerText&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat")))?(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthStartDate")):(e+1<t.length&&"1"===t[e+1].innerText&&Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat")))||e==t.length-1&&t[e].isEqualNode(a)&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))&&(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthEndDate"))},removeMonthEndAndStart:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPMonthStartDate"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPMonthEndDate")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPMonthStartDate","lyteDateRPMonthEndDate")},executeSelected:function(t){this.getMethods("onDateSelected")&&(Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(this.getData("selectedDate2"),this.getData("ltPropFormat")))?("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate1")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate2"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate1"),this.getData("selectedDate2"),this)):("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate2")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate1"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate2"),this.getData("selectedDate1"),this)))},checkForSelectedDates:function(t,e){var o=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(t&&e)for(var i=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),l=Date.parse(this.stringToDate(e,this.getData("ltPropFormat"))),a=0;a<o.length;a++){(r=Date.parse(this.stringToDate(o[a].dataset.date,this.getData("ltPropFormat"))))>=i&&r<=l&&(o[a].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,a,i,l):(r==i&&o[a].classList.add("lyteDateRPFirstDateSelected"),r==l&&o[a].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==l&&o[a].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,a,t,e)))}else{this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates();i=this.getData("selectedDate1"),l=this.getData("selectedDate2");var n=this.getData("tempDate");if(i&&l)if((i=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))<(l=Date.parse(this.stringToDate(l,this.getData("ltPropFormat")))))for(a=0;a<o.length;a++){(r=Date.parse(this.stringToDate(o[a].dataset.date,this.getData("ltPropFormat"))))>=i&&r<=l&&(o[a].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,a,i,l):(r==i&&o[a].classList.add("lyteDateRPFirstDateSelected"),r==l&&o[a].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==l&&o[a].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,a,this.getData("selectedDate1"),this.getData("selectedDate2"))))}else for(a=0;a<o.length;a++){(r=Date.parse(this.stringToDate(o[a].dataset.date,this.getData("ltPropFormat"))))>=l&&r<=i&&(o[a].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,a,l,i):(r==l&&o[a].classList.add("lyteDateRPFirstDateSelected"),r==i&&o[a].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==l&&o[a].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,a,this.getData("selectedDate2"),this.getData("selectedDate1"))))}else if(i&&n)if((i=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))<(n=Date.parse(this.stringToDate(n,this.getData("ltPropFormat")))))for(a=0;a<o.length;a++){var r=Date.parse(this.stringToDate(o[a].dataset.date,this.getData("ltPropFormat")));o[a].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,a,i,n):i<=n&&r==i?o[a].classList.add("lyteDateRPTempFirstDateSelected"):r==n?o[a].classList.add("lyteDateRPTempLastDateSelected"):r>i&&r<n&&o[a].classList.add("lyteDateRPTempSelected")}else for(a=0;a<o.length;a++){r=Date.parse(this.stringToDate(o[a].dataset.date,this.getData("ltPropFormat")));o[a].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,a,n,i):n<=i&&r==i?o[a].classList.add("lyteDateRPTempFirstDateSelected"):r==i?o[a].classList.add("lyteDateRPTempLastDateSelected"):r>=l&&r<i&&o[a].classList.add("lyteDateRPTempSelected")}}},callOnNavigate:function(t,e,o,i,l){this.getMethods("onNavigation")&&this.executeMethod("onNavigation",t,e,o,this,l)},getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},stringToDate:function(t,e){try{var o=t.match(/([\da-z]+)/gi),i=(e=e.toUpperCase()).match(/([a-z]+)/gi),l=new Date,a=0,n=["Y","M","D"];if(l.setDate(1),3!==o.length)return"Invalid Date";for(;a<i.length;){var r=this.getOrderIndex(i,n[a]);if(0==a?l.setFullYear(o[r]):1==a?l.setMonth(this.getProperMonth(o[r])):2==a&&l.setDate(o[r]),"Invalid Date"===l.toString())return l.toString();a++}return l}catch(t){return"Invalid Date"}},getOrderIndex:function(t,e){for(var o=0;o<t.length;o++)if(t[o].charAt(0)===e)return o;return-1},constructDateString:function(t,e,o){var i,l,a=this.getData("ltPropFormat"),n="";if(-1!=a.indexOf("/")&&(i=a.split("/"),l="/"),3!=i.length)return"Invalid Format";for(var r=0;r<3;r++)"M"===i[r].toUpperCase().charAt(0)?(n+=t,2!=r&&(n+=l)):"D"===i[r].toUpperCase().charAt(0)?(n+=e,2!=r&&(n+=l)):"Y"===i[r].toUpperCase().charAt(0)&&(n+=o,2!=r&&(n+=l));return n},actions:{previous:function(t,e){var o=this.$node.querySelector(".dRPCalendar1"),i={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};o.setData("selectDate",!1);var l,a;if(l="M"==t?o.getData("viewDate").getMonth()-1:o.getData("viewDate").getMonth(),a="Y"==t?o.getData("viewDate").getFullYear()-1:o.getData("viewDate").getFullYear(),-1==l&&(l=11,a-=1),!(a<this.getData("ltPropStartYear"))){this.setMonthAndYear(o,{dd:1,mm:l,yy:a},"cal1"),l<11?l+=1:(l=0,a+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:1,mm:l,yy:a}),this.checkForSelectedDates();var n={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,i,n,this)}},next:function(t,e){var o=this.$node.querySelector(".dRPCalendar2");o.setData("selectDate",!1);var i,l,a={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};if(i="M"==t?o.getData("viewDate").getMonth()+1:o.getData("viewDate").getMonth(),l="Y"==t?o.getData("viewDate").getFullYear()+1:o.getData("viewDate").getFullYear(),12==i&&(i=0,l+=1),!(l>this.getData("ltPropEndYear"))){this.setMonthAndYear(o,{dd:1,mm:i,yy:l}),i>0?i-=1:(i=11,l-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:1,mm:i,yy:l},"cal1"),this.checkForSelectedDates();var n={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,a,n,this)}},mouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName){var o=this.getData("clickCount");o++,this.setData("clickCount",o);var i=this;if(1===o)singleClickTimer=setTimeout(function(){o=0,i.setData("clickCount",o)},400);else if(2===o){if(clearTimeout(singleClickTimer),o=0,this.setData("clickCount",o),e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),this.setData("dateNode2",e),e.classList.add("lyteDateRPFirstDateSelected","lyteDateRPLastDateSelected");var l=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(l,Array.from(l).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("selectedDate2",e.dataset.date),this.setData("dateSelected",!1),this.executeSelected(t)}return}if(e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray"))if(this.getData("dateSelected")){e.classList.contains("lyteDateRPTempSelected")&&e.classList.remove("lyteDateRPTempSelected"),Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(e.dataset.date,this.getData("ltPropFormat")))?(this.getData("dateNode1").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPFirstDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPLastDateSelected")):(this.getData("dateNode1").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPLastDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPFirstDateSelected")),this.setData("selectedDate2",e.dataset.date),this.setData("tempDate",""),this.setData("dateSelected",!1),this.executeSelected(t)}else{this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),e.classList.add("lyteDateRPTempFirstDateSelected"),e.classList.add("lyteDateRPTempLastDateSelected");l=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(l,Array.from(l).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("dateSelected",!0)}}},mouseOver:function(t){if(this.getData("dateSelected")){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"===e.tagName)return;e.classList.contains("lyteCalCdate")&&(e.classList.contains("lyteCalGray")||(this.setData("dateNode2",e),this.selectDates(e.dataset.date)))}},separateMouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName&&e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){var o=e.closest("lyte-calendar");if(o.classList.contains("dRPCalendar1")){this.setData("selectedDate1",e.dataset.date),this.setData("ltPropStartDate",e.dataset.date);var i=this.getData("calViewDate1"),l=this.getData("calViewDate2");if(i.getMonth()>l.getMonth()&&i.getFullYear()==l.getFullYear()||i.getFullYear()>l.getFullYear()){var a=this.$node.querySelector(".dRPCalendar2"),n=this.getData("calViewDate1").getMonth(),r=this.getData("calViewDate1").getFullYear();this.setMonthAndYear(a,{dd:1,mm:n,yy:r},"cal2"),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(a,this.getData("ltPropEndDate"),"end")}}else if(o.classList.contains("dRPCalendar2")){this.setData("selectedDate2",e.dataset.date),this.setData("ltPropEndDate",e.dataset.date);i=this.getData("calViewDate1");if((l=this.getData("calViewDate2")).getMonth()<i.getMonth()&&l.getFullYear()==i.getFullYear()||l.getFullYear()<i.getFullYear()){var s=this.$node.querySelector(".dRPCalendar1");n=this.getData("calViewDate2").getMonth(),r=this.getData("calViewDate2").getFullYear();this.setMonthAndYear(s,{dd:1,mm:n,yy:r},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropStartDate"),"start")}}this.validateNavigationAndDropdown(),this.getData("dateNode1")&&this.getData("dateNode2")&&this.executeSelected(t)}},separatePrevious:function(t,e,o){var i,l,a;if("cal1"==e?(i=this.$node.querySelector(".dRPCalendar1"),l=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(i=this.$node.querySelector(".dRPCalendar2"),l=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),i){i.setData("selectDate",!1);var n,r;if(n="M"==t?i.getData("viewDate").getMonth()-1:i.getData("viewDate").getMonth(),r="Y"==t?i.getData("viewDate").getFullYear()-1:i.getData("viewDate").getFullYear(),-1==n&&(n=11,r-=1),r<this.getData("ltPropStartYear"))return;this.setMonthAndYear(i,{dd:1,mm:n,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropStartDate"),"start"),a=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropEndDate"),"end"),a=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(o,l,a,this,"cal1"==e?"from Calendar":"to Calendar")}},separateNext:function(t,e,o){var i,l,a;if("cal1"==e?(i=this.$node.querySelector(".dRPCalendar1"),l=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(i=this.$node.querySelector(".dRPCalendar2"),l=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),i){i.setData("selectDate",!1);var n,r;if(n="M"==t?i.getData("viewDate").getMonth()+1:i.getData("viewDate").getMonth(),r="Y"==t?i.getData("viewDate").getFullYear()+1:i.getData("viewDate").getFullYear(),12==n&&(n=0,r+=1),r>this.getData("ltPropEndYear"))return;this.setMonthAndYear(i,{dd:1,mm:n,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropStartDate"),"start"),a=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropEndDate"),"end"),a=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(o,l,a,this,"cal1"==e?"from Calendar":"to Calendar")}}},methods:{addDropdownClass:function(t,e){e.childComp.classList.add("lyteCalendarDropdown")},editArrowPosition:function(t,e){var o=e.childComp.querySelector(".lyteArrow");_lyteUiUtils.getRTL()?(o.style.right="20%",o.style.left="auto"):(o.style.left="20%",o.style.right="auto")},optionSelected:function(t,e,o,i,l){if("separate"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);var a=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(i):r.getData("viewDate").getFullYear(),this.getData("ltPropEndDate"))if(s>(n=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat"))).getMonth()&&d>=n.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:a,mm:s,yy:d},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropStartDate"),"start")}else if("cal2"==t){(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var n;a=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?i:r.getData("viewDate").getFullYear(),this.getData("ltPropStartDate"))if(s<(n=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))).getMonth()&&d<=n.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:a,mm:s,yy:d}),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropEndDate"),"end")}this.validateNavigationAndDropdown()}if("continuous"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);a=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(i):r.getData("viewDate").getFullYear(),s>10&&d==this.getData("ltPropEndYear"))return void(i==_lyteUiUtils.i18n("Dec")||i==_lyteUiUtils.i18n("December")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:a,mm:s,yy:d},"cal1"),s<11?s+=1:(s=0,d+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:a,mm:s,yy:d})}else if("cal2"==t){var r;(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var s,d;a=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?i:r.getData("viewDate").getFullYear(),s<1&&d==this.getData("ltPropStartYear"))return void(i==_lyteUiUtils.i18n("Jan")||i==_lyteUiUtils.i18n("January")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:a,mm:s,yy:d}),s>0?s-=1:(s=11,d-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:a,mm:s,yy:d},"cal1")}this.checkForSelectedDates()}},viewDateChange:function(t,e,o){if("cal1"==t){var i=o.getMonth(),l=o.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+l)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames1")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+l))}else if("cal2"==t){i=o.getMonth(),l=o.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+l)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames2")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+l))}}}}),Lyte.Component.register("lyte-dateselect",{_template:'<template tag-name="lyte-dateselect">\n\t<lyte-dropdown lt-prop="{{stringify(ltPropDropdown)}}" on-before-show="{{method(\'bfSw\')}}" on-show="{{method(\'sw\')}}" on-before-hide="{{method(\'bfHde\')}}" on-hide="{{method(\'hde\')}}" on-option-selected="{{method(\'optSel\')}}" lt-prop-selected="{{lbind(ltPropSelected)}}">\n\t\t<template is="registerYield" yield-name="yield">\n\t\t\t<lyte-drop-button>\n\t\t\t\t<template is="if" value="{{ltPropButtonYield}}"><template case="true">\n\t\t\t\t\t<lyte-yield yield-name="buttonYield"></lyte-yield>\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t{{ltPropDisplayValue}}\n\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t</template></template>\n\t\t\t</lyte-drop-button>\n\t\t\t<lyte-drop-box class="{{ltPropDropdownWrapperClass}}" id="lyteDateSelect">\n\t\t\t\t<lyte-drop-body class="lyteList">\n\t\t\t\t\t<template is="forIn" object="{{ltPropOptions}}" value="value" key="key">\n\t\t\t\t\t\t<lyte-drop-item data-value="{{key}}" class="{{key}}">\n\t\t\t\t\t\t\t<template is="if" value="{{ltPropItemYield}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-yield yield-name="item" item-value="{{ltPropOptions[key]}}"></lyte-yield>\n\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(value,\'==\',true)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t{{lyteUiI18n(key)}}\n\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t{{value}}\n\t\t\t\t\t\t\t\t</template></template></template></template><template is="if" value="{{expHandlers(expHandlers(key,\'==\',\'specificDate\'),\'||\',expHandlers(key,\'==\',\'customRange\'))}}"><template case="true">\n\t\t\t\t\t\t\t\t\t<span class="{{if(ifEquals(pos, \'left\'), \'dateArrow arrowLeft\', \'dateArrow arrowRight\')}}"></span>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</lyte-drop-item>\n\t\t\t\t\t</template>\n\t\t\t\t</lyte-drop-body>\n\t\t\t</lyte-drop-box>\n\t\t</template>\n\t</lyte-dropdown>\n\t<div class="dateSelectcal lyteDropdownHidden {{ltPropCalendarWrapperClass}}">\n\t\t<template is="if" value="{{opend}}"><template case="true">\n\t\t\t<template is="if" value="{{ltPropOptions.specificDate}}"><template case="true">\n\t\t\t\t<div class="specificDate lyteDropdownHidden">\n\t\t\t\t\t<lyte-calendar lt-prop="{{stringify(ltPropCalendar)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" on-date-selected="{{method(\'dateselected1\')}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropCalendarYield}}"><template case="true"> \n\t                        <template is="registerYield" yield-name="footer">\n\t                            <lyte-yield yield-name="footer"></lyte-yield>\n\t                        </template>\n\t                     </template></template>   \n\t\t\t\t\t</lyte-calendar>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t\t<template is="if" value="{{ltPropOptions.customRange}}"><template case="true">\n\t\t\t\t<div class="customRange lyteDropdownHidden">\n\t\t\t\t\t<lyte-daterangepicker lt-prop="{{stringify(ltPropDateRangePicker)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" short-month-names="{{shortMonthNames}}" long-month-names="{{longMonthNames}}" cal-view-date1="{{lbind(ltPropStartDateObject)}}" cal-view-date2="{{lbind(ltPropEndDateObject)}}" on-date-selected="{{method(\'dateselected\')}}">\n\t\t\t\t\t</lyte-daterangepicker>\n\t\t\t\t</div>\t\n\t\t\t</template></template></template></template>\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"forIn",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,2]},{type:"if",position:[1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}],_observedAttributes:["shortMonthNames","longMonthNames","ltPropStartDateObject","ltPropEndDateObject","ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropCalendarYield","ltPropCalendar","ltPropDateRangePicker","ltPropItemYield","ltPropSelected","ltPropOptions","ltPropDropdownWrapperClass","ltPropDropdown","ltPropDisplayValue","ltPropButtonYield","ltPropCalendarWrapperClass","pos","prevSel","opend"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.toggle=function(){this._drop.toggle()}.bind(this)},data:function(){return{shortMonthNames:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),longMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),ltPropStartDateObject:Lyte.attr("object"),ltPropEndDateObject:Lyte.attr("object"),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropCalendarYield:Lyte.attr("boolean",{default:!1}),ltPropCalendar:Lyte.attr("object",{default:{headerType:"dropdown",fillRows:!1}}),ltPropDateRangePicker:Lyte.attr("object",{default:{monthHeaderFormat:"MMMM YYYY"}}),ltPropItemYield:Lyte.attr("boolean",{default:!1}),ltPropSelected:Lyte.attr("string",{default:"today"}),ltPropOptions:Lyte.attr("object",{default:{today:!0,yesterday:!0,last7days:!0,last30days:!0,thisWeek:!0,thisMonth:!0,specificDate:!0,customRange:!0}}),ltPropDropdownWrapperClass:Lyte.attr("string",{default:""}),ltPropDropdown:Lyte.attr("object",{default:{}}),ltPropDisplayValue:Lyte.attr("string",{default:""}),ltPropButtonYield:Lyte.attr("boolean",{default:!1}),ltPropCalendarWrapperClass:Lyte.attr("string",{default:""}),pos:Lyte.attr("string",{default:""}),prevSel:Lyte.attr("string",{default:""}),opend:Lyte.attr("boolean",{default:!1})}},didConnect:function(){this._drop=this.$node.querySelector("lyte-dropdown"),this._drop.parent=this.$node;var t=this._drop.component;this._cmp=t.childComp?t.childComp:this._drop.querySelector("lyte-drop-box"),this._end=this.tranEnd.bind(this),this._indend=this.tranEnd1.bind(this),this._caldiv=this.$node.querySelector(".dateSelectcal"),LyteComponent.appendChild(document.body,this._caldiv),this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected)),document._dateselectResize||(document._dateselectResize=!0,window.addEventListener("resize",dtslctscroll),window.addEventListener("scroll",dtslctscroll)),this.$node.toggle=function(t,e){this._drop.toggle(t,e)}.bind(this),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this._caldiv.classList.add("lyteRTL")}.bind(this))}.bind(this))},didDestroy:function(){document.body.removeChild(this._caldiv),document._dateselectResize&&0==document.querySelectorAll("lyte-dateselect-copy").length&&(delete document._dateselectResize,window.removeEventListener("resize",dtslctscroll),window.removeEventListener("scroll",dtslctscroll)),delete this._caldiv,delete this._cmp,delete this._drop,delete this.$node.toggle},getVal:function(t){var e=this.data.ltPropOptions[t],o=e.constructor==Boolean?_lyteUiUtils.i18n(t):e;if(-1==["specificDate","customRange"].indexOf(t))return o;if("specificDate"==t)return this.data.ltPropCurrentDate||o;if("customRange"==t){var i=this.data.ltPropStartDate,l=this.data.ltPropEndDate;return i&&l?i+" - "+l:o}},selectedObs:function(t){if(t.newValue&&this._cmp&&!this._cmp.classList.contains("lyteDropdownHidden")){var e=-1!=["specificDate","customRange"].indexOf(t.oldValue)?this._caldiv.querySelector("."+t.oldValue):null;if(-1!=["specificDate","customRange"].indexOf(t.newValue)?this._caldiv.querySelector("."+t.newValue):null){if(e){var o=new Promise(function(t,o){this._new=t,this.hideele(e)}.bind(this));Promise.resolve(o).then(function(){$L.fastdom.mutate(this.openele.bind(this))}.bind(this))}else this.openele();this.data.prevSel=this.data.prevSel||t.oldValue}}}.observes("ltPropSelected"),tranEnd:function(t){this._cmp.removeEventListener("transitionend",this._end,!0),this._el&&(this._el.classList.add("lyteDropdownHidden"),delete this._el),this._res&&(this._res(!0),this._caldiv.classList.add("lyteDropdownHidden"),delete this._res)},tranEnd1:function(t){this._el.removeEventListener("transitionend",this._indend,!0),this._el.classList.add("lyteDropdownHidden"),this._new&&(this._new(!0),delete this._new),delete this._el},hideele:function(t){t.addEventListener("transitionend",this._indend,!0),this._el=t,t.style.opacity=0},openele:function(){var t=this.data.ltPropSelected;-1!=["specificDate","customRange"].indexOf(t)&&(this._caldiv.classList.remove("lyteDropdownHidden"),this._caldiv.querySelector("."+t).classList.remove("lyteDropdownHidden"),$L.fastdom.measure(this.setCss.bind(this)))},methods:{bfSw:function(t,e){var o;return this.getMethods("onBeforeShow")&&(o=this.executeMethod("onBeforeShow",t,e)),this.data.opend||0==o?o:(this.setData("opend",!0),new Promise(function(t){setTimeout(function(){t()},40)}))},sw:function(t,e){this.getMethods("onShow")&&this.executeMethod("onShow",t,e),$L.fastdom.mutate(function(){this.openele(),e.childComp.style.opacity=1}.bind(this))},bfHde:function(t,e){return this._prevent||this._caldiv.contains((t||{}).target)?(delete this._prevent,!1):(this.getMethods("onBeforeHide")&&(o=this.executeMethod("onBeforeHide",t,e)),0!=o?new Promise(function(t,o){this._res=t,e.childComp.addEventListener("transitionend",this._end,!0);var i=this._caldiv.querySelector(".specificDate:not(.lyteDropdownHidden),.customRange:not(.lyteDropdownHidden)");i&&(this._el=i,i.style.opacity=0),e.childComp.style.opacity=0}.bind(this)):o);var o},hde:function(t,e){if(!this._rest&&this.data.prevSel&&(this.setData("ltPropSelected",this.data.prevSel),this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected))),delete this._rest,this.data.prevSel="","specificDate"!=this.data.ltPropSelected&&this.setData("ltPropCurrentDate",""),"customRange"!=this.data.ltPropSelected&&(this.setData("ltPropStartDate",""),this.setData("ltPropEndDate","")),this.getMethods("onHide"))return this.executeMethod("onHide",t,e)},dateselected:function(t){this.selected(t,!0)},dateselected1:function(t){this.selected(t)},optSel:function(t,e,o,i){if(-1==["specificDate","customRange"].indexOf(e)){if(!this.data.ltPropButtonYield){var l=this.data.ltPropOptions[e],a=l.constructor==Boolean?_lyteUiUtils.i18n(e):l;this.setData("ltPropDisplayValue",a)}this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.$node,e,i),this._rest=!0}else this._prevent=!0}},setCss:function(t){function e(t,e,o){if(this._dir){if(e)return"right"==t?o-e.left:o-e.right;if("left"==t)return"right"}return e?e[t]:"left"}var o,i=this._caldiv,l=this._cmp,a=i.getBoundingClientRect(),n=l.getBoundingClientRect(),r=window.innerWidth,s=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),d=window.pageYOffset||document.documentElement.scrollTop,p=l.querySelector('lyte-drop-item[selected = "true"]'),c=p.getBoundingClientRect(),h=p.querySelector(".dateArrow"),u=h?h.getBoundingClientRect():{width:0},y=e.call(this,"left",n,r)+n.width+u.width/2+s,m=e.call(this,"left",n,r)-u.width/2-a.width+s,g=l.style.top;parseFloat(g)+a.height<c.bottom+d&&(g=d+c.bottom-a.height+"px"),y+a.width<r+s?o="right":m>s?(y=m,o="left"):r-e.call(this,"right",n,r)>e.call(this,"left",n,r)?o="right":(y=m,o="left"),$L.fastdom.mutate(function(){i.style[e.call(this,"left")]=y+"px",i.style.top=g,this._caldiv.querySelector("."+this.data.ltPropSelected).style.opacity=1,this.setData("pos",o)}.bind(this))},selected:function(t,e){this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected)),this.getMethods("onSelect")&&(e?this.executeMethod("onSelect",t,this.$node,"customRange",this.data.ltPropStartDate,this.data.ltPropEndDate):this.executeMethod("onSelect",t,this.$node,"specificDate",this.data.ltPropCurrentDate)),this._rest=!0,this._drop.toggle()}}),Lyte.Component.register("lyte-dragdrop",{_template:'<template tag-name="lyte-dragdrop">\n\t<div class="lyteDragDropFields">\n\t\t<div class="lyteDragDropColumns">\n\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t<span class="lyteDragDropHeading">{{ltPropAvailableLabel}}</span>\t\n\t\t\t\t<div class="lyteDragDropAvailable">\n\t\t\t\t\t<span class="lyteSelectedNone" id="AvailableNone">{{ltPropAvailablelistEmptyMessage}}</span>\n\t\t\t\t\t<template is="if" value="{{ltPropEnableSearch}}">\n\t\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lytePosRel">\n\t\t\t\t\t\t<lyte-search style="display: block;" lt-prop-style="{{ltPropSearchStyle}}" lt-prop-query-selector="{{querySelector}}" lt-prop-appearance="box" lt-prop-error="{{ltPropErrorMessage}}" lt-prop-width="464px"></lyte-search>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n                    <template case="false">\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec" style="height: 336px;">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template is="if" value="{{ltPropDraggable}}">\n\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t\t\t<span class="lyteDragDropHeading">{{ltPropSelectedLabel}}</span>\t\n\t\t\t\t\t\t<div class="lyteDragDropSelected">\n\t\t\t\t\t\t\t<span class="lyteSelectedNone" id="SelectedNone">{{ltPropSelectedlistEmptyMessage}}</span>\n\t\t\t\t\t\t\t<ul class="lyteSelectedUL" id="dropSec">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropSelectedlist}}" item="item">\n\t\t                     \t<li data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n\t\t                     \t\t<span>{{item.name}}</span>\n\t\t                     \t\t<template is="if" value="{{ltPropEnableIcon}}">\n\t\t                     \t\t\t<template case="true"><span class="lyteDragDropRemove"></span></template>\n\t\t                     \t\t</template>\n\t\t                     \t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>',_dynamicNodes:[{type:"text",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3,1,0]},{type:"attr",position:[1,1,1,3,3]},{type:"if",position:[1,1,1,3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,1,0]},{type:"attr",position:[1,3,3,1]},{type:"for",position:[1,3,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}}],_observedAttributes:["ltPropAvailablelist","ltPropSelectedlist","ltPropMultiselect","ltPropEnableSearch","ltPropEnableIcon","ltPropDraggable","ltPropErrorMessage","ltPropAvailablelistEmptyMessage","ltPropSelectedlistEmptyMessage","ltPropSearchStyle","ltPropAvailableLabel","ltPropSelectedLabel","clickCount","component","placeholder","div","offset","isDown","isMoved","top","bottom","prevScrollTop","multiSelectedItems","keyPressed","keyValue","prevMode","checkSelection","querySelector","left","right","availableList","selectedList","checkOnDidconnect","draggedItems"],init:function(){this.getData("ltPropErrorMessage")||this.setData("ltPropErrorMessage",_lyteUiUtils.i18n("no.results.found")),this.setData("ltPropAvailableLabel",_lyteUiUtils.i18n("Available")),this.setData("ltPropSelectedLabel",_lyteUiUtils.i18n("Selected"))},didConnect:function(){for(var t=document.querySelectorAll("lyte-dragdrop"),e=0;e<t.length;e++)if(t[e]==this.$node){this.$node.querySelector("#sortableSec").classList.add("searchable"+e),this.setData("querySelector",{scope:".searchable"+e,target:".filterlabel",search:".item"});break}this.setData("checkOnDidconnect",!0)},data:function(){return{ltPropAvailablelist:Lyte.attr("array",{default:[]}),ltPropSelectedlist:Lyte.attr("array",{default:[]}),ltPropMultiselect:Lyte.attr("boolean",{default:!0}),ltPropEnableSearch:Lyte.attr("boolean",{default:!0}),ltPropEnableIcon:Lyte.attr("boolean",{default:!0}),ltPropDraggable:Lyte.attr("boolean",{default:!0}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropAvailablelistEmptyMessage:Lyte.attr("string",{default:"Empty List"}),ltPropSelectedlistEmptyMessage:Lyte.attr("string",{default:"Drop Here"}),ltPropSearchStyle:Lyte.attr("string",{default:""}),ltPropAvailableLabel:Lyte.attr("string"),ltPropSelectedLabel:Lyte.attr("string"),clickCount:Lyte.attr("number",{default:0}),component:Lyte.attr("object",{default:null}),placeholder:Lyte.attr("object",{default:null}),div:Lyte.attr("object",{default:null}),offset:Lyte.attr("array",{default:[0,0]}),isDown:Lyte.attr("boolean",{default:!1}),isMoved:Lyte.attr("boolean",{default:!1}),top:Lyte.attr("number",{default:0}),bottom:Lyte.attr("number",{default:0}),prevScrollTop:Lyte.attr("number",{default:0}),multiSelectedItems:Lyte.attr("array",{default:[]}),keyPressed:Lyte.attr("boolean",{default:!1}),keyValue:Lyte.attr("number",{default:0}),prevMode:Lyte.attr("string",{default:""}),checkSelection:Lyte.attr("boolean",{default:!1}),querySelector:Lyte.attr("object",{default:{scope:"#sortableSec",target:".filterlabel",search:".item"}}),left:Lyte.attr("boolean",{default:!1}),right:Lyte.attr("boolean",{default:!1}),availableList:Lyte.attr("array",{default:[]}),selectedList:Lyte.attr("array",{default:[]}),checkOnDidconnect:Lyte.attr("boolean",{default:!1}),draggedItems:Lyte.attr("array",{default:[]})}},makeDroppable:function(t){var e=this.$node.querySelectorAll("#sortableSec>li"),o=this.$node.querySelectorAll("#dropSec>li");if(e.length>0)for(var i=0;i<e.length;i++)e[i]!==t&&e[i].classList.add("dropable");if(o.length>0)for(i=0;i<o.length;i++)o[i]!==t&&o[i].classList.add("dropable")},showMsgForEmpty:function(){this.getData("ltPropAvailablelist").length>0&&(this.$node.querySelector("#AvailableNone").style.visibility="hidden"),0==this.getData("ltPropAvailablelist").length&&(this.$node.querySelector("#AvailableNone").style.visibility="visible"),this.getData("ltPropDraggable")&&(0==this.getData("ltPropSelectedlist").length&&(this.$node.querySelector("#SelectedNone").style.visibility="visible"),this.getData("ltPropSelectedlist").length>0&&(this.$node.querySelector("#SelectedNone").style.visibility="hidden"))}.observes("ltPropAvailablelist.[]","ltPropSelectedlist.[]","checkOnDidconnect"),removeDropable:function(t){var e=this.$node.querySelectorAll("#sortableSec>li"),o=this.$node.querySelectorAll("#dropSec>li");if(e.length>0)for(var i=0;i<e.length;i++)e[i]!==t&&e[i].classList.remove("dropable");if(o.length>0)for(i=0;i<o.length;i++)o[i]!==t&&o[i].classList.remove("dropable")},generateArray:function(){var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),e=Array.from(this.$node.querySelectorAll("#dropSec>li"));ltPropAvailablelist=[],ltPropSelectedlist=[];for(var o=1;o<=t.length;o++){(i=this.getElement(t[o-1]))&&(i.pos=o,ltPropAvailablelist.push(i))}for(o=1;o<=e.length;o++){var i;(i=this.getElement(e[o-1])).pos=o,ltPropSelectedlist.push(i)}this.setData("availableList",ltPropAvailablelist),this.setData("selectedList",ltPropSelectedlist)},removeClass:function(){for(var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),e=Array.from(this.$node.querySelectorAll("#dropSec>li")),o=0;o<t.length;o++)t[o].classList.contains("lyteDraggableElem")&&t[o].classList.remove("lyteDraggableElem");for(o=0;o<e.length;o++)e[o].classList.contains("lyteDraggableElem")&&e[o].classList.remove("lyteDraggableElem")},positionalPush:function(t,e){for(var o=this.getData("multiSelectedItems"),i=0,l=0;l<o.length&&!(o[l].offsetTop>t.offsetTop);l++)++i;o.splice(i,0,t),this.setData("multiSelectedItems",o)},addToArray:function(t,e){if("single"===e){var o=[];if((s=this.getData("multiSelectedItems")).length>0){var i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),l=Array.from(this.$node.querySelectorAll("#dropSec>li")),a=s[s.length-1];if(-1==(d=i.indexOf(a)))d=l.indexOf(a),-1==(p=l.indexOf(t))?(this.setData("multiSelectedItems",o),this.removeClass(),this.addToArray(t,e)):(this.positionalPush(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem"));else-1==(p=i.indexOf(t))?(this.setData("multiSelectedItems",o),this.removeClass(),this.addToArray(t,e)):(this.positionalPush(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem"))}else this.getData("multiSelectedItems").push(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem");this.setData("prevMode",e)}if("multiple"==e){if("multiple"==this.getData("prevMode")||""==this.getData("prevMode")){this.removeClass();var n=[];i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),l=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==(p=i.indexOf(t))){p=l.indexOf(t);for(var r=0;r<=p;r++)n.push(l[r]),l[r].classList.add("lyteDraggableElem")}else for(r=0;r<=p;r++)n.push(i[r]),i[r].classList.add("lyteDraggableElem");this.setData("multiSelectedItems",n)}if("single"==this.getData("prevMode")){var s;i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),l=Array.from(this.$node.querySelectorAll("#dropSec>li"));if((s=this.getData("multiSelectedItems")).length>0){var d,p;a=s[s.length-1];if(-1==(d=i.indexOf(a))){if(d=l.indexOf(a),-1==(p=l.indexOf(t)))this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e);else if(-1!=d)if(d<=p)for(r=d;r<=p;r++)-1==s.indexOf(l[r])&&(l[r].classList.add("lyteDraggableElem"),this.positionalPush(l[r]));else for(r=p;r<=d;r++)-1==s.indexOf(l[r])&&(l[r].classList.add("lyteDraggableElem"),this.positionalPush(l[r]))}else if(-1===(p=i.indexOf(t)))this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e);else if(-1!=d)if(d<=p)for(r=d;r<=p;r++)-1==s.indexOf(i[r])&&(i[r].classList.add("lyteDraggableElem"),this.positionalPush(i[r]));else for(r=p;r<=d;r++)-1==s.indexOf(i[r])&&(i[r].classList.add("lyteDraggableElem"),this.positionalPush(i[r]))}else this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e)}this.setData("prevMode",e)}},removeFromArray:function(t){if(this.getData("multiSelectedItems").length>0){var e=this.getData("multiSelectedItems").indexOf(t);this.getData("multiSelectedItems").splice(e,1)}},getTopNBottom:function(t){return"top"===t?this.getData("multiSelectedItems")[0].getBoundingClientRect().top:"bottom"==t?this.getData("multiSelectedItems")[this.getData("multiSelectedItems").length-1].getBoundingClientRect().bottom:void 0},makeDroppableMultiple:function(t){var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),o=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==e.indexOf(t[0])){if(e.length>0)for(var i=0;i<e.length;i++)e[i].classList.add("dropable");if(o.length>0)for(i=0;i<o.length;i++){flag=!1;for(var l=0;l<t.length;l++)if(o[i]==t[l]){flag=!0;break}flag||o[i].classList.add("dropable")}}else{if(e.length>0)for(i=0;i<e.length;i++){flag=!1;for(l=0;l<t.length;l++)if(e[i]==t[l]){flag=!0;break}flag||e[i].classList.add("dropable")}if(o.length>0)for(i=0;i<o.length;i++)o[i].classList.add("dropable")}},removeDropableMultiple:function(t){var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),o=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==e.indexOf(t[0])){if(e.length>0)for(var i=0;i<e.length;i++)e[i].classList.remove("dropable");if(o.length>0)for(i=0;i<o.length;i++){flag=!1;for(var l=0;l<t.length;l++)if(o[i]==t[l]){flag=!0;break}flag||o[i].classList.remove("dropable")}}else{if(e.length>0)for(i=0;i<e.length;i++){flag=!1;for(l=0;l<t.length;l++)if(e[i]==t[l]){flag=!0;break}flag||e[i].classList.remove("dropable")}if(o.length>0)for(i=0;i<o.length;i++)o[i].classList.remove("dropable")}},checkElement:function(t){return t==this.$node.querySelector("#sortableSec")||t==this.$node.querySelector("#dropSec")},checkPossiblePosition:function(t,e){var o=Array.from(this.$node.querySelectorAll("#"+t.id+" > li"));if("single"==e){if(!(o.length>0))return!0;var i=o[o.length-1];if(this.getData("div").getBoundingClientRect().top>i.getBoundingClientRect().bottom)return!0}if("multiple"==e){if(!(o.length>0))return!0;i=o[o.length-1];if(this.getTopNBottom("top")>i.getBoundingClientRect().bottom)return!0}return!1},checkIfDroppable:function(t,e){if("multiple"===e){var o=this.getData("multiSelectedItems");if(o[0].parentElement.id===t.id&&"sortableSec"===t.id&&t.querySelectorAll("li").length===o.length&&o[0].getBoundingClientRect().left<t.getBoundingClientRect().left+o[0].getBoundingClientRect().width/2)return!0;if(o[0].parentElement.id===t.id&&"dropSec"===t.id&&t.querySelectorAll("li").length===o.length&&o[0].getBoundingClientRect().right>t.getBoundingClientRect().right-o[0].getBoundingClientRect().width/2)return!0}if("single"===e){var i=this.getData("div");if(i.parentElement.id===t.id&&"sortableSec"===t.id&&1===t.querySelectorAll("li").length&&i.getBoundingClientRect().left<t.getBoundingClientRect().left+i.getBoundingClientRect().width/2)return!0;if(i.parentElement.id===t.id&&"dropSec"===t.id&&1===t.querySelectorAll("li").length&&i.getBoundingClientRect().right>t.getBoundingClientRect().right-i.getBoundingClientRect().width/2)return!0}return!1},appendElement:function(t,e){var o,i=t.target;if("span"==e)i.classList.contains("lyteDragDropAdd")&&this.onClickFunction(t,this.getElement(i.parentElement),"availableList")&&(o=this.getElement(i.parentElement),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),o),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t)),i.classList.contains("lyteDragDropRemove")&&this.onClickFunction(t,this.getElement(i.parentElement),"selectedList")&&(o=this.getElement(i.parentElement),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),o),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t));else for(;i;){if(i.parentElement&&"sortableSec"==i.parentElement.id&&this.onClickFunction(t,this.getElement(i),"availableList")){o=this.getElement(i),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),o),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t);break}if(i.parentElement&&"dropSec"==i.parentElement.id&&this.onClickFunction(t,this.getElement(i),"selectedList")){o=this.getElement(i),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),o),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t);break}i=i.parentElement}},removeStyle:function(t){t.style.left="",t.style.top="",t.style.boxSizing="",t.style.width="",t.style.height="",t.style.position="",t.style.visibility=""},getElement:function(t){return t.dataset.propvalue?JSON.parse(t.dataset.propvalue):null},getElementPosition:function(t,e){for(var o=0;o<t.length;o++){var i=!0;for(var l in t[o])if(t[o][l]!=e[l]){i=!1;break}if(i)return o}return-1},hideOrShowMessageOnEmpty:function(t,e){"availableList"==t?this.getData("ltPropAvailablelist").length>0?this.$node.querySelector("#AvailableNone").style.visibility="hidden":(e&&(this.$node.querySelector("#AvailableNone").innerHTML=e),this.$node.querySelector("#AvailableNone").style.visibility="visible"):"selectedList"==t&&(this.getData("ltPropSelectedlist").length>0?this.$node.querySelector("#SelectedNone").style.visibility="hidden":(e&&(this.$node.querySelector("#SelectedNone").innerHTML=e),this.$node.querySelector("#SelectedNone").style.visibility="visible"))},selectFunction:function(t,e){var o,i="sortableSec"==e.parentElement.id?"availableList":"selectedList";return this.getMethods("onSelect")&&(o=this.executeMethod("onSelect",t,this.getElement(e),this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),i)),void 0==o||o},onDragFunction:function(t){var e;e=this.getData("ltPropMultiselect")?this.getData("multiSelectedItems"):this.getData("div"),this.getMethods("onDrag")&&this.executeMethod("onDrag",t,e)},onBeforeDropFunction:function(t){var e,o=[];if(this.getData("ltPropMultiselect"))for(var i=0;i<this.getData("multiSelectedItems").length;i++)o.push(this.getElement(this.getData("multiSelectedItems")[i]));else o.push(this.getElement(this.getData("div")));return this.setData("draggedItems",o),this.getMethods("onBeforeDrop")&&(e=this.executeMethod("onBeforeDrop",t,o,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"))),void 0==e||e},onDropFunction:function(t){this.getMethods("onDrop")&&this.executeMethod("onDrop",t,this.getData("draggedItems"),this.getData("availableList"),this.getData("selectedList"))},onClickFunction:function(t,e,o){var i,l=[];return l.push(e),this.setData("draggedItems",l),this.getMethods("onClick")&&(i=this.executeMethod("onClick",t,e,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),o)),void 0==i||i},actions:{mouseDown:function(t){if(3!=t.which&&(t.preventDefault(),3!=t.which)){var e=this.getData("clickCount");e++,this.setData("clickCount",e);var o,i=this;if(1===e)singleClickTimer=setTimeout(function(){e=0,i.setData("clickCount",e)},400);else if(2===e)return clearTimeout(singleClickTimer),e=0,this.setData("clickCount",e),void this.appendElement(t);var l=t.target;if(l.classList.contains("lyteDragDropAdd")?this.appendElement(t,"span"):l.classList.contains("lyteDragDropRemove")?this.appendElement(t,"span"):o="span"==l.tagName.toLowerCase()?t.target.parentElement:t.target,o&&this.selectFunction(t,o)){var a=o.getBoundingClientRect(),n=o.offsetParent.getBoundingClientRect(),r=o.clientHeight,s=o.clientWidth,d=this.getData("multiSelectedItems");if(this.getData("ltPropMultiselect")){if(d.length>0&&-1!=d.indexOf(o)){this.setData("offset",[t.clientX-a.left,t.clientY-a.top]),this.setData("div",o);var p=this.getData("div");r=o.clientHeight,s=o.clientWidth;p.style.left=a.left-n.left+"px",p.style.top=a.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p),this.setData("checkSelection",!0)}else{var c=this.getData("keyValue");91==c||93==c||224==c?o.classList.contains("lyteDraggableElem")?(o.classList.remove("lyteDraggableElem"),this.removeFromArray(o)):(o.classList.add("lyteDraggableElem"),this.addToArray(o,"single")):16==c?o.classList.contains("lyteDraggableElem")?(o.classList.remove("lyteDraggableElem"),this.addToArray(o,"multiple")):(o.classList.add("lyteDraggableElem"),this.addToArray(o,"multiple")):0==c&&(o.classList.contains("lyteDraggableElem")?("multiple"==this.getData("prevMode")?(this.removeClass(),this.setData("multiSelectedItems",[]),o.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(o)):(o.classList.remove("lyteDraggableElem"),this.removeFromArray(o)),this.setData("prevMode","single")):(this.removeClass(),this.setData("multiSelectedItems",[]),o.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(o),this.setData("prevMode","single"))),this.setData("offset",[t.clientX-a.left,t.clientY-a.top]),this.setData("div",o);p=this.getData("div"),r=o.clientHeight,s=o.clientWidth;p.style.left=a.left-n.left+"px",p.style.top=a.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p)}this.setData("isDown",!0)}else{this.removeClass(),o.classList.add("lyteDraggableElem"),this.setData("offset",[t.clientX-a.left,t.clientY-a.top]);this.setData("div",o);var h;p=this.getData("div");this.setData("isDown",!0),p.style.left=a.left-n.left+"px",p.style.top=a.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p)}}}},mouseOver:function(t){var e;(e="span"==t.target.tagName.toLowerCase()?t.target.parentElement:t.target).classList.contains("lyteDraggableElem")?("sortableSec"==e.parentElement.id&&e.querySelector(".lyteDragDropAdd")&&(e.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==e.parentElement.id&&e.querySelector(".lyteDragDropRemove")&&(e.querySelector(".lyteDragDropRemove").style.visibility="hidden")):("sortableSec"==e.parentElement.id&&e.querySelector(".lyteDragDropAdd")&&(e.querySelector(".lyteDragDropAdd").style.visibility="visible"),"dropSec"==e.parentElement.id&&e.querySelector(".lyteDragDropRemove")&&(e.querySelector(".lyteDragDropRemove").style.visibility="visible"))},mouseOut:function(t){"span"==t.target.tagName.toLowerCase()?target=t.target.parentElement:target=t.target,"sortableSec"==target.parentElement.id&&target.querySelector(".lyteDragDropAdd")&&(target.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==target.parentElement.id&&target.querySelector(".lyteDragDropRemove")&&(target.querySelector(".lyteDragDropRemove").style.visibility="hidden")}}}),"complete"===document.readyState||"interactive"===document.readyState?addEvent():document.addEventListener("DOMContentLoaded",function(t){addEvent(t)}),Lyte.Component.register("lyte-dropdown",{_template:'<template tag-name="lyte-dropdown">\n\t<template is="if" value="{{expHandlers(ltPropHover,\'==\',true)}}"><template case="true">\n\t\t<template is="if" value="{{expHandlers(multiple,\'==\',true)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(search,\'==\',true)}}"><template case="true">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',\'noyield\')}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<div class="lyteMultiselect">\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<li class="lyteMultiselectInput">\n\t\t\t\t\t\t\t\t\t<input onkeydown="{{action(\'preventDefault\',event)}}" type="text" placeholder="{{ltPropPlaceholder}}" class="lyteDropdownTextField" autocomplete="off" tabindex="{{ltPropTabindex}}" onclick="{{action(\'showHide\',event)}}">\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t</template><template case="false">\n\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<div class="lyteDummyEventContainer" onclick="{{action(\'showHide\',event)}}" onkeyup="{{action(\'checkKey\',event)}}" tabindex="{{ltPropTabindex}}">\n\t\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(allSelected.length,\'==\',0)}}"><template case="true">\n\t\t\t\t\t\t\t\t<span class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t</div>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t</template></template>\n\t\t</template><template case="false">\n\t\t\t<div onmouseenter="{{action(\'showHide\',event,\'enter\')}}" onmouseleave="{{action(\'closeIt\',event)}}" class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{ltPropDisplayValue}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteMarginRight lyteDropdownLabel" onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-title="{{if(showToolTip,ltPropDisplayValue,\'\')}}" lt-prop-tooltip-config="{{ltPropTooltip}}">{{ltPropDisplayValue}}</span>\n\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ltPropSelected,\'!\'),\'&amp;&amp;\',expHandlers(ltPropDisplayValue,\'!\'))}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderNormal">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t<lyte-icon class="{{ltPropIconClass}}"></lyte-icon>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(drophead,\'==\',&quot;yield&quot;)}}"><template case="true">\n\t\t\t\t\t\n\t\t\t\t</template></template></template></template>\n\t\t\t</div>\n\t\t</template></template>\n\t</template><template case="false">\n\t\t<template is="if" value="{{expHandlers(multiple,\'==\',true)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(search,\'==\',true)}}"><template case="true">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',\'noyield\')}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button onclick="{{action(\'showHide\',event)}}">\n\t\t\t\t\t\t<div class="lyteMultiselect">\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<li class="lyteMultiselectInput">\n\t\t\t\t\t\t\t\t\t<input onkeydown="{{action(\'preventDefault\',event)}}" type="text" placeholder="{{ltPropPlaceholder}}" class="lyteDropdownTextField" autocomplete="off" tabindex="{{ltPropTabindex}}">\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<div class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="" onclick="{{action(\'showHide\',event)}}">\n\n\t\t\t\t\t</div>\n\t\t\t\t</template></template>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteDummyEventContainer" onclick="{{action(\'showHide\',event)}}" tabindex="{{ltPropTabindex}}">\n\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{expHandlers(allSelected.length,\'==\',0)}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</template><template case="false">\n\t\t\t<div onclick="{{action(\'showHide\',event)}}" class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{ltPropDisplayValue}}"><template case="true">\n\t\t\t\t\t\t\t<span onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-tooltip-config="{{ltPropTooltip}}" lt-prop-title="{{if(showToolTip,ltPropDisplayValue,\'\')}}" class="lyteMarginRight lyteDropdownLabel">{{ltPropDisplayValue}}</span>\n\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ltPropSelected,\'!\'),\'&amp;&amp;\',expHandlers(ltPropDisplayValue,\'!\'))}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderNormal">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t<lyte-icon class="{{ltPropIconClass}}"></lyte-icon>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(drophead,\'==\',&quot;yield&quot;)}}"><template case="true">\n\t\t\t\t\t\n\t\t\t\t</template></template></template></template>\n\t\t\t</div>\n\t\t</template></template>\n\t</template></template>\n\t\t<template is="if" value="{{expHandlers(ltPropHover,\'==\',false)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(dropbody,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t<lyte-drop-box class="lyteDropdownHidden">\n\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t<template is="for" items="{{ltPropOptions}}" item="item" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(item)}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-drop-group>\n\t\t\t\t\t\t\t\t<lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>\n\t\t\t\t\t\t\t\t<template is="for" items="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}}" item="subitem" index="indexval">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(subitem)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropSystemValue])}}">{{subitem[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}">{{subitem}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-drop-group>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(item)}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropSystemValue])}}">{{item[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item)}}">{{item}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</template>\n\t\t\t\t\t\n\t\t\t\t</lyte-drop-body>\n\t\t\t\t</lyte-drop-box>\n\t\t\t</template><template case="false">\n\n\t\t\t</template></template>\n\t\t\t<div class="lyteLoadMsg" style="display:none;">Loading</div>\n\t\t</template><template case="false">\n\t\t\t<template is="if" value="{{expHandlers(dropbody,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t<lyte-drop-box>\n\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t<template is="for" items="{{ltPropOptions}}" item="item" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(item)}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-drop-group>\n\t\t\t\t\t\t\t\t<lyte-drop-label>lyteUiReturnOnlyKey(item)</lyte-drop-label>\n\t\t\t\t\t\t\t\t<template is="for" items="{{lyteUiReturnValueBy(item,lyteReturnOnlyKey(item))}}" item="subitem" index="indexval">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(subitem)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropSystemValue])}}">{{subitem[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}">{{subitem}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-drop-group>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(item)}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropSystemValue])}}">{{item[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item)}}">{{item}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</template>\n\t\t\t\t</lyte-drop-body>\n\t\t\t\t</lyte-drop-box>\n\t\t\t</template><template case="false">\n\n\t\t\t</template></template>\n\t\t\t<div class="lyteLoadMsg" style="display:none;">Loading</div>\n\t\t</template></template>\n\t\t<lyte-yield yield-name="yield" style="display: none;"></lyte-yield>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,3,1]},{type:"for",position:[1,1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}},{type:"insertYield",position:[5]}],_observedAttributes:["changeItToInvoke","dummy1","dummy2","savedPositions","ltPropRemoveMultiple","ltPropYield","ltPropType","ltPropTabindex","ltPropShow","ltPropFreeze","ltPropOptions","ltPropUserValue","ltPropSystemValue","ltPropPosition","ltPropIconClass","ltPropSelected","ltPropCallout","ltPropPlaceholder","ltPropDisabled","ltPropHover","ltPropNoResult","ltPropInputClass","allSelected","ltPropBoundary","pos","firePos","ltPropAjaxRequest","firstRequest","ltPropDisplayValue","ltPropDisabledList","ltPropAnimate","ltPropSetPos","ltPropTooltip"],init:function(){var t,e=this.getData("ltPropType"),o=this.getData("ltPropSelected");(this._close=this.closeDrop1.bind(this),this._transEnd=this.tranEnd.bind(this),document.getElementById("lytedropdownfreezelayer"))||((t=document.createElement("div")).setAttribute("id","lytedropdownfreezelayer"),t.style.display="none",t.style.opacity="0.01",t.style.background="#fff",document.body.appendChild(t));this.$node.toggle=function(t,e){var o=t||void 0;this.component.getData("ltPropDisabled")||this.constructor._actions.showHide.call(this.component,o,e,!0)},-1===e.indexOf("multiple")&&-1===e.indexOf("multisearch")||(this.setData("multiple",!0),this.setData("allSelected",[]),o||this.setData("ltPropSelected","[]"),-1!==e.indexOf("multisearch")&&this.setData("search",!0))},didDestroy:function(){var t=this.childComp,e=this.$node.mutobserver;t&&(delete t.origindd,t.remove()),e&&e.disconnect(),delete this.childComp,delete this.$node.toggle,delete this.$node.element,this.$node.mutobserver=null},prerequisites:function(){var t,e=this.getDropBody(this.childComp);this.data.ltPropAnimate&&(this._hgtRemoval=!0,e.style.height=""),this.setCss(!1,!0),this.openSlideAnimate(),this.getData("call")&&this.getMethods("onShow")&&(t=!0===(t=this.getData("call"))?void 0:t,this.executeMethod("onShow",t,this)),this.setData("call",null)},getChildren:function(t){var e,o=this.getData("drophead"),i=this.getData("dropbody"),l=0,a=this.$node;if("yield"!==o||"yield"!==i)for(;l<t.length;l++)"LYTE-DROPDOWN"!==(e=t[l].tagName)&&"TEMPLATE"!==e&&("LYTE-DROP-BOX"===e?(this.setData("dropbody","yield"),a.querySelector("lyte-drop-box").classList.add("lyteDropdownHidden")):"LYTE-DROP-BUTTON"===e?(this.setData("drophead","yield"),LyteComponent.appendChild(a.querySelector(".lyteDummyEventContainer"),a.querySelector("lyte-drop-button")),l--):this.getChildren(t[l].children))},didConnect:function(){var t,e,o,i,l,a,n,r,s,d,p=this.$node,c=this.childComp,h=this.getData("ltPropNoResult"),u=p.querySelector("lyte-yield"),y=this.getData("ltPropPlaceholder"),m=this.getData("ltPropHover"),g=this.getData("ltPropSelected"),f=this.getData("ltPropOptions"),v=this.getData("ltPropType"),D=this.getData("ltPropDisabled"),b=this.getData("ltPropTabindex"),P=this.getData("ltPropShow"),C=this.getData("ltPropDisabledList");this.getData("ltPropDisplayValue");if(this.getChildren(u.children),n=this.getData("drophead"),r=this.getData("dropbody"),"yield"!==n&&this.setData("drophead",n="noyield"),"yield"!==r&&this.setData("dropbody",r="noyield"),t=p.querySelector("lyte-drop-box"),p.mutobserver=new MutationObserver(function(t){var e=window.navigator.userAgent;e.indexOf("MSIE"),e.indexOf("Trident/");if(this._prevent||this._preventClass)this._preventClass=!1;else if(this._hgtRemoval)delete this._hgtRemoval;else{var o,i,l=this.childComp?this.childComp:p.querySelector("lyte-drop-box");if(!this.getData("ltPropSetPos")&&!l.classList.contains("lyteDropdownHidden")){if(this.getData("multiple")){var a=!1;for(o=0;o<t.length;o++){if(r="childList"==t[o].type&&"LYTE-DROP-ITEM"==t[o].target.tagName||"selected"==t[o].attributeName||"class"==t[o].attributeName&&!t[o].target.classList.contains("lyteArrow")&&("LYTE-DROP-ITEM"!==t[o].target.tagName||!this.hasClassToggled(t[o],"lyteDropdownSelection")&&!this.hasClassToggled(t[o],"lyteMenuSelected"))||"style"==t[o].attributeName&&"LYTE-DROP-BOX"!=t[o].target.tagName&&!t[o].target.classList.contains("lyteArrow")){a=!0;break}}if(a)return void this.prerequisites()}else{a=!1;var n=!1;for(o=0;o<t.length;o++)"style"==t[o].attributeName&&"LYTE-DROP-BOX"==t[o].target.tagName&&(n=!0);for(o=0;o<t.length;o++){var r;if((r="childList"==t[o].type&&"LYTE-DROP-ITEM"==t[o].target.tagName||"style"==t[o].attributeName&&"LYTE-DROP-BOX"!=t[o].target.tagName&&!t[o].target.classList.contains("lyteArrow")||"class"==t[o].attributeName&&"attributes"===t[o].type&&!t[o].target.classList.contains("lyteArrow")&&("LYTE-DROP-ITEM"!==t[o].target.tagName||!this.hasClassToggled(t[o],"lyteDropdownSelection")&&!this.hasClassToggled(t[o],"lyteMenuSelected")))&&"class"==t[o].attributeName&&"LYTE-DROP-BOX"==t[o].target.tagName){if(!n){a=!0;break}}else r&&!n&&(a=!0)}if(a)return void this.prerequisites()}this.getData("call")&&this.getMethods("onShow")&&(i=!0===(i=this.getData("call"))?void 0:i,this.executeMethod("onShow",i,this)),this.setData("call",null)}}}.bind(this)),e={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0},p.mutobserver.observe(t,e),(o=document.createElement("div")).setAttribute("class","lyteDropdownNoResult"),o.textContent=h||_lyteUiUtils.i18n("no.results.found"),o.style.display="none",t.addEventListener("click",function(t){this.actions.processElements.call(this,t)}.bind(this)),m&&t.addEventListener("mouseout",function(t){this.actions.closeIt.call(this,t)}.bind(this)),(i=document.createElement("span")).setAttribute("class","lyteArrow"),t.insertBefore(i,t.children[0]),!y&&!g&&f.length>0){var L,x=f[0],S=!1;x.constructor==Object&&1==Object.keys(x).length&&(L=x[Object.keys(x)[0]]).constructor==Array&&(S=!0),this.setData("preventDisp",!0),S?"[object Object]"===Object.prototype.toString.call(L[0])?this.setData("ltPropSelected",L[0][this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",L[0]):"[object Object]"===Object.prototype.toString.call(x)?this.setData("ltPropSelected",x[this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",x),this.setData("preventDisp",!1)}else y||this.getData("ltPropSelected")||"yield"!=r||"multiple"===v||"multisearch"===v||(l=(s=p.querySelectorAll("lyte-drop-body"))[s.length-1].querySelector("lyte-drop-item"))&&(this.setData("preventDisp",!0),l.setAttribute("selected",!0),this.setData("preventDisp",!1));a=p.querySelector("[tabindex]"),D?(a.classList.add("lyteDropdown-disabled"),a.setAttribute("tabindex",-1)):(a.classList.remove("lyteDropdown-disabled"),a.setAttribute("tabindex",b)),"multisearch"===v&&a.addEventListener("keyup",function(t){p.constructor._actions.checkKey.call(this,t)}.bind(this)),this.setData("preventDisp",!0),this.setData("changeItToInvoke",this.getData("changeItToInvoke")+1),this.setData("preventDisp",!1),P&&(this.setData("ltPropShow",!1),p.toggle(),$L.fastdom.measure(function(){a.focus();var t=p.getBoundingClientRect();(t.left<0||t.top<0)&&p.scrollIntoView()})),c=this.childComp,(d=this.getDropBody(c)).appendChild(o),d.addEventListener("scroll",function(t){this.callOnScroll(t,this)}.bind(this)),d.addEventListener("mousemove",function(t){var e=t.target,o=t.currentTarget.querySelector(".lyteDropdownSelection");(e=_lyteDropdown.traverse(e,["LYTE-DROP-ITEM"]))!==o&&(o&&o.classList.remove("lyteDropdownSelection"),e&&"LYTE-DROP-ITEM"===e.tagName&&e&&e.classList.add("lyteDropdownSelection"))}.bind(this)),f.length>0&&C&&C.length>0&&this.addDisabledClass(p.querySelectorAll("lyte-drop-item"))},tranEnd:function(t){var e=this.childComp;e.classList.remove("lyteAnimate"),e.removeEventListener("transitionend",this._transEnd),delete this._prevent},openSlideAnimate:function(){if(this.getData("ltPropAnimate")){if(this._preventSetcss)return;this._preventSetcss=!0,this._prevent=!0;var t=this.childComp?this.childComp:this.$node.querySelector("lyte-drop-box"),e=this.getDropBody(this.childComp);this._oriStyle=e.style.height,e.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)+this._hgt+"px"),setTimeout(function(){t.classList.add("lyteAnimate"),setTimeout(function(){-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)-this._hgt+"px"),e.style.height=this._hgt+"px",setTimeout(function(){t.addEventListener("transitionend",this._transEnd),this._hgt||this.tranEnd.call(this,{})}.bind(this),20)}.bind(this),20)}.bind(this),20)}},addClass:function(){this.childComp.classList.add("lyteMultiSelectDropdown")},closeDrop:function(t,e,o){this._prevent||(this.getData("ltPropAnimate")?(this._prevent=!0,this._arguments=arguments,this.childComp.classList.add("lyteAnimate"),setTimeout(function(){var t=this.childComp?this.childComp:this.$node.querySelector("lyte-drop-box"),e=this.getDropBody(this.childComp);e.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)+this._hgt+"px"),this._elem=e,this._box=t,e.addEventListener("transitionend",this._close),this._hgt||this.closeDrop1.call(this)}.bind(this),20)):this.closeDrop1(t,e,o))},closeDrop1:function(t,e,o){var i,l=this.$node.querySelector("lyte-drop-button"),a=this.getData("pos"),n=this.getData("multiple");this._arguments&&(t=this._arguments[0],e=this._arguments[1],o=this._arguments[2],this._elem.style.height=this._oriStyle,this._box.classList.remove("lyteAnimate"),this._elem.removeEventListener("transitionend",this._close),delete this._hgt,delete this._oriStyle,delete this._arguments,delete this._elem,delete this._box),n&&(this.getDropBody(t).scrollTop=0),t.classList.add("lyteDropdownHidden"),document.querySelector("#lytedropdownfreezelayer")&&(document.querySelector("#lytedropdownfreezelayer").style.display="none"),t.style.left="",o&&(document.body.style.overflow=this.bodyoverflow?this.bodyoverflow:""),(i=this.removeClass(l.classList,a,"lyteDropButton",!0))&&l.classList.remove(i),this.getMethods("onHide")&&this.executeMethod("onHide",e,this),this.setData("pos",""),this.setData("savedPositions",{}),delete this._prevent,delete this._preventSetcss},callOnScroll:function(t){this.getMethods("onScroll")&&this.executeMethod("onScroll",t,this)},addDisabledClass:function(t){for(var e,o=0;o<t.length;o++)"true"==(e=t[o]).getAttribute("disabled")?e.classList.add("lyteDropdown-disabled"):e.classList.contains("lyteDropdown-disabled")&&e.classList.remove("lyteDropdown-disabled")},onChangeInDisabledList:function(){for(var t=this.childComp?this.childComp.querySelectorAll("lyte-drop-item"):this.$node.querySelectorAll("lyte-drop-item"),e=0;e<t.length;e++)t[e].setAttribute("disabled",Lyte.Component.registeredHelpers.lyteUiCheckDisabled(this.getData("ltPropDisabledList"),t[e].dataset.value));this.addDisabledClass(t)}.observes("ltPropDisabledList"),removeClass:function(t,e,o,i){if(!e)return"";for(var l=0,a=t.length,n=o+(i?e[0].toUpperCase()+e.substring(1):{up:"Down",down:"Up",left:"Right",right:"Left"}[e]);l<a;l++)if(t[l]===n)return n;return""},firePosCallBack:function(){var t=this.getData("pos"),e=this.getData("widthAdjusted");""!==t&&$L.fastdom.mutate(function(){var o=this.childComp,i=this.$node.querySelector("lyte-drop-button"),l=this.removeClass(o.classList,t,"lyteDropdown");l&&(this._preventClass=!0,o.classList.remove(l)),o.classList.add("lyteDropdown"+t[0].toUpperCase()+t.substring(1)),(l=this.removeClass(i.classList,t,"lyteDropButton"))&&(this._preventClass=!0,i.classList.remove(l)),i.classList.add("lyteDropButton"+t[0].toUpperCase()+t.substring(1)),2===e&&o.classList.add("lyteDropdownCurve"),this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",t,this)},this)}.observes("pos","firePos"),setLeftExceedForDown:function(t,e,o,i,l){var a=o;return l+a.left+a.width-i},setLeftNotExceedForDown:function(t,e,o){return o+e.left},setTopAboveForDown:function(t,e,o,i,l){return l+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o){var i=e;return o+i.left+i.width},setRightForRight:function(t,e,o,i,l){return l+o.left-i},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,l){var a=o;return l+a.top+a.height-i.height},setCorrectClass:function(t){for(var e=this.childComp.querySelector(".lyteArrow"),o=e.classList,i=0;i<o.length;i++)"lyteArrow"!=o[i]&&o[i]!=t&&(e.classList.remove(o[i]),i--);e.classList.add(t),e.classList.add("lyteArrowIcon")},hasClassToggled:function(t,e){var o=t.oldValue?t.oldValue.split(" "):[],i=t.target,l=o.length,a=i.classList.length;return!(!(~o.indexOf(e)&&!i.classList.contains(e)||!~o.indexOf(e)&&i.classList.contains(e))||1!==Math.abs(l-a))},adjustWidth:function(t,e,o){return this.setData("widthAdjusted",1),o<e?(t.style.minWidth=e+"px",parseFloat(e)):(o>e&&this.setData("widthAdjusted",2),o)},getDropBody:function(t){var e;return(e=t?t.querySelectorAll("lyte-drop-body"):this.$node.querySelectorAll("lyte-drop-body"))[e.length-1]},toggleCurrent:function(t,e){var o="lyteDropdownSelection",i=e.querySelector("."+o);i&&i.classList.remove(o),t.classList.add(o)},scrollSel:function(){var t,e=this.getData("ltPropSelected"),o=this.childComp,i=this.getDropBody(o),l=t=i.querySelector('[data-value="'+window._lyteUiUtils.escape(e)+'"]');if(this.getData("multiple"))(t=i.querySelector("lyte-drop-item:not(.lyteDropdownActive):not(.lyteSearchHidden)"))&&this.toggleCurrent(t,i);else{for(;l&&(l=l.previousElementSibling)&&("LYTE-DROP-ITEM"!==l.tagName&&"LYTE-DROP-LABEL"!==l.tagName||!_lyteDropdown.isVisible(l)););(l=l||t)&&(i.scrollTop=l.offsetTop),t&&this.toggleCurrent(t,i)}},setCss:function(t,e){var o=this.childComp,i=this.getData("call");if(e||this.setData("savedPositions",{}),o&&!o.classList.contains("lyteDropdownHidden")){var l=this.getData("ltPropCallout"),a=o,n=this.$node.element,r=n||this.$node.querySelector("lyte-drop-button"),s=window.innerWidth,d=window.innerHeight,p=this.getData("savedPositions"),c=a.getBoundingClientRect(),h=this.getDropBody(a).getBoundingClientRect(),u=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop,m=a.offsetHeight,g=a.offsetWidth,f=o.querySelector(".lyteArrow"),v=this.getData("ltPropPosition"),D=r.getBoundingClientRect();this.data.ltPropAnimate&&(this._hgt=h.height,this.getDropBody(a).style.height=this._hgt+"px"),i&&(this._preventClass=!0,this.scrollSel(),t||(this.getData("widthAdjusted")||(g=this.adjustWidth(a,D.width,g),c.width=g),l||(f.style.width=D.width+"px"))),l&&!a.classList.contains("lyteDropBodyCallout")&&a.classList.add("lyteDropBodyCallout");var b,P,C,L,x,S,w,_,M,E,T,R=_lyteUiUtils.getRTL();"down"===v?(b=!0,b=!(D.top+D.height+m>d&&D.top>m),P=0,D.left+D.width-g>0&&(P=1),D.left+g<=s&&(P+=2),P=R?!(1&P||!P):!(!(2&P)&&P),e&&!_lyteDropdown.isEmpty(p)?(P=p.rightPos,b=p.downPos):e&&(p.rightPos=P,p.downPos=b,this.setData("savedPositions",p)),b?l?(this.setCorrectClass("lyteArrowTop"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),x=this.setTopBelowForDown(r,D,y)+parseFloat(E||"0px")+"px"):a.style.top=this.setTopBelowForDown(r,D,y)+"px":l?(this.setCorrectClass("lyteArrowBottom"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),x=this.setTopAboveForDown(r,a,D,c,y)-parseFloat(E||"0px")+"px"):a.style.top=this.setTopAboveForDown(r,a,D,c,y)+"px",P?(l&&(T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),S=window.getComputedStyle(f,":before").marginLeft,S=Math.abs(parseFloat(S||"0px")),M=(D.width/2-T+S)/(_=g/100),f.style.left=M+"%"),a.style.top=x||a.style.top,a.style.left=this.setLeftNotExceedForDown(r,D,u)+"px"):(l&&(T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),S=window.getComputedStyle(f,":before").marginLeft,S=Math.abs(parseFloat(S||"0px")),_=g/100,M=(g-D.width/2-T+S)/_,f.style.left=M+"%"),a.style.top=x||a.style.top,a.style.left=this.setLeftExceedForDown(r,a,D,g,u)+"px"),b?this.setData("pos","down"):this.setData("pos","up")):"right"===v?(P=0,D.left-c.width>0&&(P=1),D.left+D.width+c.width<s&&(P+=2),P=R?!(1&P||!P):!(!(2&P)&&P),b=!0,b=!(D.top+c.height>d),e&&!_lyteDropdown.isEmpty(p)?(P=p.rightPos,b=p.downPos):e&&(p.rightPos=P,p.downPos=b,this.setData("savedPositions",p)),P?l?(this.setCorrectClass("lyteArrowLeft"),T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),x=this.setLeftForRight(r,D,u)+T+"px"):a.style.left=this.setLeftForRight(r,D,u)+"px":l?(this.setCorrectClass("lyteArrowRight"),T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),x=this.setRightForRight(r,a,D,g,u)-T+"px"):a.style.left=this.setRightForRight(r,a,D,g,u)+"px",b?(l&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=window.getComputedStyle(f,":before").marginTop,w=Math.abs(parseFloat(w||"0px")),M=100*(D.height/2-E+w)/(_=c.height),f.style.top=M+"%"),a.style.left=x||a.style.left,a.style.top=this.setTopForRight(r,D,y)+"px"):(l&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=window.getComputedStyle(f,":before").marginTop,w=Math.abs(parseFloat(w||"0px")),M=100*(c.height-D.height/2-E+w)/(_=c.height),f.style.top=M+"%"),a.style.left=x||a.style.left,a.style.top=this.setTopForRightAbove(r,a,D,c,y)+"px"),P?this.setData("pos","right"):this.setData("pos","left")):"up"===v?(C=!0,C=!(D.top-c.height<0&&D.top+D.height+m<d),P=0,D.left+D.width-g>0&&(P=1),D.left+g<=s&&(P+=2),P=R?!(1&P||!P):!(!(2&P)&&P),e&&!_lyteDropdown.isEmpty(p)?(P=p.rightPos,C=p.topPos):e&&(p.rightPos=P,p.topPos=C,this.setData("savedPositions",p)),C?l?(this.setCorrectClass("lyteArrowBottom"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),x=this.setTopAboveForDown(r,a,D,c,y)-E+"px"):a.style.top=this.setTopAboveForDown(r,a,D,c,y)+"px":l?(this.setCorrectClass("lyteArrowTop"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),x=this.setTopBelowForDown(r,D,y)+E+"px"):a.style.top=this.setTopBelowForDown(r,D,y)+"px",P?(l&&(T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),S=window.getComputedStyle(f,":before").marginLeft,S=Math.abs(parseFloat(S||"0px")),M=(D.width/2+S-T)/(_=g/100),f.style.left=M+"%"),a.style.top=x||a.style.top,a.style.left=this.setLeftNotExceedForDown(r,D,u)+"px"):(l&&(T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),S=window.getComputedStyle(f,":before").marginLeft,S=Math.abs(parseFloat(S||"0px")),_=g/100,M=(g-D.width/2+S-T)/_,f.style.left=M+"%"),a.style.top=x||a.style.top,a.style.left=this.setLeftExceedForDown(r,a,D,g,u)+"px"),C?this.setData("pos","up"):this.setData("pos","down")):"left"===v&&(L=0,D.left+D.width+g<s&&(L=1),D.left-g>0&&(L+=2),L=R?!(1&L||!L):!(!(2&L)&&L),b=!0,b=!(D.top+c.height>d),e&&!_lyteDropdown.isEmpty(p)?(L=p.leftPos,b=p.downPos):e&&(p.leftPos=L,p.downPos=b,this.setData("savedPositions",p)),L?l?(this.setCorrectClass("lyteArrowRight"),T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),x=this.setRightForRight(r,a,D,g,u)-T+"px"):a.style.left=this.setRightForRight(r,a,D,g,u)+"px":l?(this.setCorrectClass("lyteArrowLeft"),T=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),T=parseFloat(T||"0px"),x=this.setLeftForRight(r,D,u)+T+"px"):a.style.left=this.setLeftForRight(r,D,u)+"px",b?(l&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=window.getComputedStyle(f,":before").marginTop,w=Math.abs(parseFloat(w||"0px")),M=100*(D.height/2-E+w)/(_=c.height),f.style.top=M+"%"),a.style.left=x||a.style.left,a.style.top=this.setTopForRight(r,D,y)+"px"):(l&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=window.getComputedStyle(f,":before").marginTop,w=Math.abs(parseFloat(w||"0px")),M=100*(c.height-D.height/2-E+w)/(_=c.height),f.style.top=M+"%"),a.style.left=x||a.style.left,a.style.top=this.setTopForRightAbove(r,a,D,c,y)+"px"),L?this.setData("pos","left"):this.setData("pos","right"))}},setFreezeLayer:function(){var t=document.getElementById("lytedropdownfreezelayer");t.style.display="block",t.style.height=window.innerHeight+"px",t.style.width=window.innerWidth+"px",t.style.top=t.style.left="0px",t.style.position="fixed",t.classList.add("lyteDropdownZIndex"),t.style.overflow="hidden",document.body.style.overflow="hidden"},scrollIntoView:function(t,e){var o=this.getDropBody(this.childComp),i=t.offsetTop,l=o.scrollTop,a=o.getBoundingClientRect().height,n=t.getBoundingClientRect().height;"down"===e&&l+a<i+n?o.scrollTop=o.scrollTop+i+n-(a+l):"up"===e&&i<l&&(o.scrollTop=i)},open:function(){var t,e=this,o=this.getData("ltPropType"),i=this.getData("drophead"),l=this.getData("multiple"),a=this.getData("ltPropFreeze"),n=this.getData("ltPropHover");t=this.childComp=this.$node.querySelector("lyte-drop-box"),this.hideNodes(),"multisearch"===o&&"yield"!==i&&$L(this.$node.querySelector(".lyteDropdownTextField")).search({scope:t,search:"lyte-drop-item",onSearch:function(t){for(var o=0,i=e.childComp,l=e.getDropBody(i).querySelector(".lyteDropdownNoResult");o<t.length;o++)if(!t[o].classList.contains("lyteDropdownActive"))return void(l&&(l.style.display="none"));"none"===l.style.display&&(l.style.display="block")}}),LyteComponent.appendChild(document.body,t),t.origindd=this.$node,t.classList.remove("lyteDropdownHidden"),!a||l||n||this.setFreezeLayer()},hideNodes:function(){var t,e,o=this.childComp,i=0,l=this.getData("multiple"),a=this.getData("ltPropType"),n=this.getData("drophead"),r=this.getData("ltPropSelected");if(l&&r&&r.length>2){if(!o)return;try{t=JSON.parse(this.getData("ltPropSelected")||"[]")}catch(t){return void console.error("Unable to parse ltPropSelected",t)}for(;i<t.length;i++)(e=o.querySelector('[data-value="'+window._lyteUiUtils.escape(t[i])+'"]'))&&(e.classList.add("lyteDropdownActive"),this.setData("preventSel",!0),e.setAttribute("selected",!0),this.setData("preventSel",!1))}this.showError(o,a,n)},showNodes:function(t){var e,o,i,l,a=0,n=this.childComp,r=this.getDropBody(n),s=this.getData("multiple"),d=this.getData("ltPropType"),p=this.getData("drophead"),c=this.getData("allSelected"),h=t.newValue,u=t.oldValue;if(s){n&&(l=r.querySelector(".lyteDropdownNoResult"));try{h=JSON.parse(h||"[]").map(function(t){return""+t}),u=JSON.parse(u||"[]").map(function(t){return""+t})}catch(t){return void console.error("Unable to parse ltPropSelected",t)}for(o=u.length;a<o;a++)if(-1===h.indexOf(u[a])){if(n&&(i=n.querySelector('[data-value="'+window._lyteUiUtils.escape(u[a])+'"]'))&&(i.classList.remove("lyteDropdownActive"),this.setData("preventSel",!0),i.removeAttribute("selected"),this.setData("preventSel",!1)),"noyield"===p)for(e=0;e<c.length;e++)if(c[e].value===u[a]){Lyte.arrayUtils(c,"removeAt",e,1);break}l&&("multisearch"===d&&"yield"!==p||"multiple"===d)&&(l.style.display="none")}}},selObs:function(t){this.getData("prev")||(this.hideNodes(),this.showNodes(t))}.observes("ltPropSelected"),first:function(){this.setData("ltPropShow",!0),this.open()},subsequent:function(t,e,o,i){t.classList.remove("lyteDropdownHidden"),!e||o||i||this.setFreezeLayer()},beforeShow:function(t,e,o){var i,l=this,a=this.childComp,n=this.getData("ltPropFreeze"),r=this.getData("multiple"),s=this.getData("ltPropHover");(i=this.executeMethod("onBeforeShow",t,this))&&i.then?Promise.resolve(i).then(function(i){l.setData("call",!!e||t),o?l.first():l.subsequent(a,n,r,s)},function(){}):!1!==i&&(l.setData("call",!!e||t),o?l.first():l.subsequent(a,n,r,s))},closeError:function(t,e){var o=this.getDropBody(t).querySelector(".lyteDropdownNoResult"),i=this.getData("ltPropType");o&&("yield"!==e&&"multisearch"===i||"multiple"===i)&&(o.style.display="none")},removeSelected:function(t,e,o,i){var l,a,n,r,s,d=e.length,p=this.getData("allSelected"),c=[];try{t=JSON.parse(t||"[]").map(function(t){return""+t})}catch(t){console.error("Unable to parse ltPropSelected",t)}for(l=0;l<d;l++)s=t.indexOf(e[l].getAttribute("data-value")),c=c.concat(t.splice(s,1));if("noyield"==o)for(l=0;l<d;l++)for(a=0;a<p.length;a++)if(p[a].value==e[l].getAttribute("data-value")){Lyte.arrayUtils(p,"removeAt",a);break}for(n=this.getDropBody(i),l=0;l<e.length;l++)(r=n.querySelector('[data-value="'+window._lyteUiUtils.escape(e[l].getAttribute("data-value"))+'"]'))&&(r.classList.remove("lyteDropdownActive"),r.classList.remove("lyteSearchHidden"),r.removeAttribute("selected"));return this.setData("prev",!0),this.setData("ltPropSelected",JSON.stringify(t)),this.setData("prev",!1),c},removeAll:function(t){var e,o,i=this.$node,l=this.childComp,a=this.getData("drophead"),n=i.querySelector("lyte-drop-button").querySelectorAll(".lyteDropMark"),r=this.getData("ltPropSelected");this.closeError(l,a),o=this.removeSelected(r,n,a,l),e=this.getData("isKeyDown")?"keydown":"click",this.getMethods("onRemove")&&this.executeMethod("onRemove",t,o,this.getData("ltPropSelected"),this,e,n),t.stopPropagation()},hasClassToggled:function(t,e){var o=t.oldValue?t.oldValue.split(" "):[],i=t.target,l=o.length,a=i.classList.length;return!(!(~o.indexOf(e)&&!i.classList.contains(e)||!~o.indexOf(e)&&i.classList.contains(e))||1!==Math.abs(l-a))},relativePosition:function(t,e){var o=t;if(1===e.length&&e[0]===t)return!0;for(;o=o.previousElementSibling;)if(o.getAttribute("lyte-last"))return!0;return!1},shade:function(t){var e,o=this.$node.querySelector("lyte-drop-button").querySelectorAll(".lyteDropMark");if(!(o.length>1&&t.classList.contains("lyteDropMark"))){e=0===o.length||this.relativePosition(t,o)?"previousElementSibling":"nextElementSibling";do{t.classList.add("lyteDropMark")}while((t=t[e])&&!t.getAttribute("lyte-last"))}},mark:function(t,e,o){e?(_lyteDropdown.unmark(this),this.shade(t)):o?(_lyteDropdown.unmark(this),t.classList.add("lyteDropMark")):(_lyteDropdown.unmark(),t.classList.add("lyteDropMark")),this.setLast(t)},showError:function(t,e,o){var i,l=this.getDropBody(t);0===l.querySelectorAll("lyte-drop-item:not(.lyteDropdownActive):not(.lyteSearchHidden)").length&&(i=l.querySelector(".lyteDropdownNoResult"))&&("multisearch"===e&&"yield"!==o||"multiple"===e)&&(i.style.display="block")},beforeHide:function(t,e,o){var i=!1;if(this.getMethods("onBeforeHide")){if((i=this.executeMethod("onBeforeHide",e,this))&&i.then)return Promise.resolve(i).then(function(){this.closeDrop(t,e,o)}.bind(this,t,e,o)),!0;i=0==i}return i},setHighlight:function(t,e){for(var o,i,l=0;l<t.length&&!t[l].classList.contains("lyteDropdownSelection");l++);t[l]&&t[l]===e&&(i=o=l,(l=_lyteDropdown.find(t,l+1,!0))!=t.length?t[l].classList.add("lyteDropdownSelection"):-1!=(o=_lyteDropdown.find(t,o-1,!1))&&t[o].classList.add("lyteDropdownSelection"),t[i].classList.remove("lyteDropdownSelection"))},setLast:function(t){var e=document.querySelector('[lyte-last="true"]');e&&e.removeAttribute("lyte-last"),t.setAttribute("lyte-last",!0)},optCall:function(t,e,o){this.getMethods("onOptionSelected")&&this.executeMethod("onOptionSelected",t,e,this,o)},setInitialSelected:function(){var t,e=this.getData("ltPropOptions")[0],o=!1;e.constructor==Object&&1==Object.keys(e).length&&(t=e[Object.keys(e)[0]]).constructor==Array&&(o=!0),o?"[object Object]"===Object.prototype.toString.call(t[0])?this.setData("ltPropSelected",t[0][this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",t[0]):"[object Object]"===Object.prototype.toString.call(e)?this.setData("ltPropSelected",e[this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",e)},contentChange:function(t){var e=t.oldValue,o=t.newValue,i=this.getData("ltPropSelected"),l=this.getData("ltPropPlaceholder"),a=(this.getData("ltPropDisplayValue"),"yield"===this.getData("dropbody"));!((e&&0===e.length||!e)&&o&&o.length>0)||i||l||a||this.setInitialSelected()}.observes("ltPropOptions"),selChange:function(){var t,e,o,i,l,a,n,r=this.getData("multiple"),s=this.getData("drophead"),d=this.childComp,p=this.getData("ltPropSelected"),c=this.getData("ltPropDisplayValue"),h=this.getData("preventDisp"),u=d||this.$node.querySelector("lyte-drop-box"),y=0,m=0;if(r&&"yield"!==s){if(!p)return;try{o=JSON.parse(p||"[]")}catch(t){return void console.error("Could not parse ltPropSelected",t)}for(i=this.getData("allSelected");y<o.length;y++){for(a=!0,m=0;m<i.length;m++)if(o[y]==i[m].value){a=!1;break}if(a){if(n=u.querySelector('[data-value="'+window._lyteUiUtils.escape(o[y])+'"]'),!(l={value:o[y],display:(n||{}).textContent}).display)continue;Lyte.arrayUtils(this.getData("allSelected"),"push",l)}}}else if(!r){for(e=u.querySelector('[data-value="'+window._lyteUiUtils.escape(p)+'"]'),t=u.querySelectorAll("[selected]");y<t.length;y++)t[y].getAttribute("data-value")!=p&&t[y].removeAttribute("selected");if("yield"!==s)if(e){var g=e.textContent;(c&&!h||!c)&&this.setData("ltPropDisplayValue",g)}else p||h||this.setData("ltPropDisplayValue","")}e&&e.setAttribute("selected","true")}.observes("ltPropOptions","ltPropSelected","changeItToInvoke"),tabIndexChange:function(){var t=this.getData("ltPropDisabled"),e=this.$node.querySelector("[tabindex]"),o=this.getData("ltPropTabindex");t?(e.classList.add("lyteDropdown-disabled"),e.tabIndex=-1):(e.classList.remove("lyteDropdown-disabled"),this.$node.querySelector('[tabindex="-1"]').tabIndex=o)}.observes("ltPropDisabled"),data:function(){return{changeItToInvoke:Lyte.attr("number",{default:1}),dummy1:Lyte.attr("boolean",{default:!0}),dummy2:Lyte.attr("boolean",{default:!1}),savedPositions:Lyte.attr("object",{default:{}}),ltPropRemoveMultiple:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"default"}),ltPropTabindex:Lyte.attr("number",{default:0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropOptions:Lyte.attr("array",{default:[]}),ltPropUserValue:Lyte.attr("string",{default:void 0}),ltPropSystemValue:Lyte.attr("string",{default:void 0}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropIconClass:Lyte.attr("string",{default:"dropdown"}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropHover:Lyte.attr("boolean",{default:!1}),ltPropNoResult:Lyte.attr("string",{default:""}),ltPropInputClass:Lyte.attr("string",{default:"lyteSearch"}),allSelected:Lyte.attr("array",{default:[]}),ltPropBoundary:Lyte.attr("object",{default:{}}),pos:Lyte.attr("string",{default:""}),firePos:Lyte.attr("number",{default:1}),ltPropAjaxRequest:Lyte.attr("object",{default:{}}),firstRequest:Lyte.attr("boolean",{default:!0}),ltPropDisplayValue:Lyte.attr("string",{default:""}),ltPropDisabledList:Lyte.attr("array",{default:[]}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSetPos:Lyte.attr("boolean",{default:!1}),ltPropTooltip:Lyte.attr("object",{default:{position:"bottom",appearance:"box",margin:5,keeptooltip:!0}})}},actions:{toolTipConfig:function(t){var e=t.offsetWidth,o=t.scrollWidth;this.setData("showToolTip",e<o)},preventDefault:function(t){13===t.keyCode&&t.preventDefault()},closeIt:function(t){var e=t.clientX,o=t.clientY,i=this.$node.querySelector("lyte-drop-button"),l=i.getBoundingClientRect().top,a=i.getBoundingClientRect().height,n=i.getBoundingClientRect().left,r=i.getBoundingClientRect().width,s=this.childComp,d=s.getBoundingClientRect().top,p=s.getBoundingClientRect().height,c=s.getBoundingClientRect().left,h=s.getBoundingClientRect().width;e>=n&&e<=n+r&&o>=l&&o<=l+a||e>=c&&e<=c+h&&o>=d&&o<=d+p||this.$node.toggle(t,"leave")},processElements:function(t){var e,o,i=this.childComp,l=t.target,a=this.getData("multiple"),n=this.getData("drophead"),r=this.getData("ltPropFreeze"),s=this.getData("ltPropType"),d=this.getDropBody(i);if("HTML"!==(l=_lyteDropdown.traverse(l,["HTML","LYTE-DROP-ITEM"])).tagName)if(a||"yield"===n)if(a)"noyield"==n&&this.getData("search")&&$L.fastdom.measure(function(){this.$node.querySelector("input").focus()},this),e=i.querySelectorAll("lyte-drop-item"),this.setHighlight(e,l),this.setData("prev",!0),l.setAttribute("selected","true"),this.setData("prev",!1),o=l.getAttribute("data-value"),l.classList.add("lyteDropdownActive"),this.getMethods("onAdd")&&this.executeMethod("onAdd",t,o,this.getData("ltPropSelected"),this,l),this.showError(i,s,n);else{if(this.toggleCurrent(l,d),this.setData("ltPropSelected",l.getAttribute("data-value")),this.optCall(t,this.getData("ltPropSelected"),l),this.beforeHide.call(this,i,t,r))return;this.closeDrop(i,t,r)}else{if(l.setAttribute("selected","true"),this.optCall(t,this.getData("ltPropSelected"),l),this.beforeHide.call(this,i,t,r))return;this.toggleCurrent(l,d),this.closeDrop(i,t,r)}},closeFun:function(t){var e,o,i=this.childComp,l=this.getData("drophead"),a=this.getData("ltPropRemoveMultiple"),n=t.target,r=this.getData("ltPropSelected");for(this.closeError(i,l);!n.getAttribute("data-value")&&n;)n=n.parentElement;n&&(e=n.getAttribute("data-value"),this.removeSelected(r,[n],l,i),o=this.getData("isKeyDown")?"keydown":"click",this.getMethods("onRemove")&&this.executeMethod("onRemove",t,a?[e]:e,this.getData("ltPropSelected"),this,o,n),t.stopPropagation())},checkKey:function(t){var e=this.getData("ltPropType");9==t.keyCode&&(this.$node.constructor._actions.showHide.call(this,t,t.type),"multisearch"==e&&this.$node.querySelector('[type="text"]').focus())},showHide:function(t,e,o){var i,l=this.childComp,a=this.getData("ltPropFreeze"),n=this.getData("multiple"),r=this.getData("ltPropHover"),s=this.getData("ltPropRemoveMultiple"),d=this.getData("ltPropShow");if(s&&t&&n){for(i=t.target;i&&"LYTE-DROPDOWN"!==i.tagName&&!i.getAttribute("data-value");)i=i.parentNode;if(i&&i.getAttribute("data-value"))return void this.mark(i,t.shiftKey,t.ctrlKey||t.metaKey);_lyteDropdown.unmark()}else _lyteDropdown.unmark();if("enter"==e){if(l&&!l.classList.contains("lyteDropdownHidden"))return;this.$node.querySelector("[tabindex]").focus()}if("leave"!=e||!l||!l.classList.contains("lyteDropdownHidden"))if(d){if(l&&l.classList.contains("lyteDropdownHidden"))this.getMethods("onBeforeShow")?this.beforeShow(t,o,!1):(this.setData("call",!!o||t),this.subsequent(l,a,n,r));else if(l&&(o||!n)){if(this.beforeHide.call(this,l,t,a))return;this.closeDrop(l,t,a)}}else this.getMethods("onBeforeShow")?(l||(this.childComp=this.$node.querySelector("lyte-drop-box")),this.beforeShow(t,o,!0)):(this.setData("call",!!o||t),this.first()),this.getData("multiple")&&this.addClass()}}}),window.addEventListener("scroll",function(t){var e,o,i,l,a,n=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)"),r=t.target;if(n){for(;r!=document&&"LYTE-DROP-BOX"!==r.tagName&&"HTML"!==r.tagName;)r=r.parentElement;if("LYTE-DROP-BOX"!==r.tagName&&(e=n.origindd)){if(l=(o=e.component).childComp,a=_lyteDropdown.buildBounds(o),(i=e.getBoundingClientRect()).top<a.top||i.left<a.left||i.right>a.right||i.bottom>a.bottom){if(o.beforeHide.call(o,l,t,o.getData("ltPropFreeze")))return;o.closeDrop.call(o,l,t,o.getData("ltPropFreeze"))}e.component._prevent||e.component.setCss(!0)}}},!0),document.addEventListener("click",function(t){var e,o,i,l,a,n,r,s,d=t.target,p=0,c=0;if("HTML"==(d=_lyteDropdown.traverse(d,["LYTE-DROPDOWN","HTML","LYTE-DROP-BOX","LYTE-DROP-REMOVE"])).tagName){for(_lyteDropdown.unmark(),i=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");c<i.length;c++)if(l=i[c]){if((a=l.origindd.component).beforeHide.call(a,l,t,a.getData("ltPropFreeze")))continue;n=document.getElementById("lytedropdownfreezelayer"),a.closeDrop.call(a,l,t,n)}}else if("LYTE-DROPDOWN"===d.tagName)for(e=d,o=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");p<o.length;p++)o[p].origindd!=e&&(a=(r=o[p].origindd).component,_lyteDropdown.unmark(),a.beforeHide.call(a,a.childComp,t,a.getData("ltPropFreeze"))||a.closeDrop.call(a,a.childComp,t,a.getData("ltPropFreeze")));else if("LYTE-DROP-REMOVE"===d.tagName){for(r=d;"LYTE-DROPDOWN"!=r.tagName;)r.getAttribute("data-value")&&(s=r),r=r.parentElement;s.classList.contains("lyteDropMark")?r.component.removeAll(t):(_lyteDropdown.unmark(),r.component.actions.closeFun.call(r.component,t))}},!0),document.addEventListener("keydown",function(t){var e,o,i,l,a,n,r,s,d,p,c,h,u=t.keyCode,y=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)"),m=0;if(32!==u&&13!==u||(l=document.activeElement,"LYTE-DROPDOWN"===(l=_lyteDropdown.traverse(l,["LYTE-DROPDOWN","HTML","INPUT"])).tagName&&t.preventDefault(),"LYTE-DROPDOWN"!==l.tagName||y&&l===y.origindd))if(38!=u&&40!=u&&13!=u||!y){if(8===u)(e=_lyteDropdown.getActive())&&(o=e.component,i=e.querySelector("lyte-drop-button").querySelector(".lyteDropMark")),a=(r=(n=y&&y.origindd)&&n.component)&&r.getData("ltPropType"),i?(t.preventDefault(),o.setData("isKeyDown",!0),o.removeAll(t),o.setData("isKeyDown",!1)):y&&"multisearch"===a&&_lyteDropdown.isInput(t,y)&&(s=n.querySelectorAll("lyte-drop-remove")).length>0&&(n.component.setData("isKeyDown",!0),s[s.length-1].click(),n.component.setData("isKeyDown",!1));else if((27===u||9===u)&&y){if((r=(y=_lyteDropdown.traverse(y,["LYTE-DROP-BOX"])).origindd.component).beforeHide.call(r,r.childComp,t,r.getData("ltPropFreeze")))return;r.closeDrop.call(r,r.childComp,t,r.getData("ltPropFreeze"))}}else{if(38!=u&&40!=u||t.preventDefault(),a=(r=(n=y.origindd).component).getData("ltPropType"),!(d=(y=r.getDropBody(y)).querySelector(".lyteDropdownSelection"))||d&&!_lyteDropdown.isVisible(d)){for(c=y.querySelectorAll("lyte-drop-item:not(.lyteSearchHidden):not(.lyteDropdownActive)");m<c.length;m++)if(_lyteDropdown.isVisible(c[m])&&"true"!==c[m].getAttribute("disabled")){p=c[m];break}if(d&&d.classList.remove("lyteDropdownSelection"),p)return void p.classList.add("lyteDropdownSelection")}for(u=t.keyCode,c=y.querySelectorAll("lyte-drop-item"),m=0;m<c.length&&!c[m].classList.contains("lyteDropdownSelection");m++);if(13==u)if(r.getData("multiple")){if(!c[m])return;c[m].click()}else c[m]&&c[m].click();else 38==u&&0!=m?(h=m,-1!=(m=_lyteDropdown.find(c,m-1,!1))&&(r.scrollIntoView(c[m],"up"),c[h].classList.remove("lyteDropdownSelection"),c[m].classList.add("lyteDropdownSelection"))):40==u&&m!=c.length-1&&(h=m,(m=_lyteDropdown.find(c,m+1,!0))<c.length&&(r.scrollIntoView(c[m],"down"),c[h].classList.remove("lyteDropdownSelection"),c[m].classList.add("lyteDropdownSelection")))}else l.constructor._actions.showHide.call(l.component,t,t.type)}),document.addEventListener("keypress",function(t){var e,o,i,l=t.which||t.keyCode,a=0,n=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");if(n.length>0&&(l>=65&&l<=90||l>=97&&l<=122||l>=48&&l<=57)&&(_lyteDropdown.pressedCharacter=_lyteDropdown.pressedCharacter?_lyteDropdown.pressedCharacter+=String.fromCharCode(l):String.fromCharCode(l),_lyteDropdown.checkDDtimeoutId&&clearTimeout(_lyteDropdown.checkDDtimeoutId),_lyteDropdown.checkDDtimeoutId=setTimeout(function(){_lyteDropdown.pressedCharacter=null},500),i="LYTE-DROPDOWN"==(i=document.activeElement.parentElement).tagName?i:null,n.length>0&&i)){for(a=0;a<n.length&&n[a].origindd!=i;a++);if(i=(n=n[a]).origindd,e=n.querySelectorAll("lyte-drop-item"),_lyteDropdown.cachePreviousVal.char&&_lyteDropdown.cachePreviousVal.char==_lyteDropdown.pressedCharacter&&_lyteDropdown.cachePreviousVal.pos+1<e.length&&e[_lyteDropdown.cachePreviousVal.pos+1].textContent.substring(0,_lyteDropdown.pressedCharacter.length).toLowerCase()===_lyteDropdown.pressedCharacter.toLowerCase())o=_lyteDropdown.cachePreviousVal.pos+1;else for(a=0;a<e.length;a++)if(e[a].textContent.substring(0,_lyteDropdown.pressedCharacter.length).toLowerCase()===_lyteDropdown.pressedCharacter.toLowerCase()){o=a;break}if(void 0!=o){for(var r=n.querySelectorAll(".lyteDropdownSelection"),s=0;s<r.length;s++)r[s].classList.remove("lyteDropdownSelection");e[o].classList.add("lyteDropdownSelection");var d=n.querySelector("lyte-drop-body");d.scrollTop+=parseInt(e[o].getBoundingClientRect().top-d.getBoundingClientRect().top)}_lyteDropdown.cachePreviousVal.char=_lyteDropdown.pressedCharacter,_lyteDropdown.cachePreviousVal.pos=o}}),window.addEventListener("resize",function(t){delete this._hgt;var e,o=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)"),i=window.innerWidth,l=window.innerHeight;o&&!o.origindd.component._prevent&&o.origindd.component.setCss(!0),(e=document.getElementById("lytedropdownfreezelayer"))&&(e.style.width=i+"px",e.style.height=l+"px")}),Lyte.createCustomElement("lyte-drop-item",{static:{observedAttributes:{get:function(){return["selected"]}}},attributeChangedCallback:function(t,e,o,i){var l,a,n,r,s,d,p=this,c=this.getAttribute("data-value");if("selected"==t&&this.hasAttribute("selected")){if("HTML"==(p=_lyteDropdown.traverse(p,["LYTE-DROP-BOX","BODY"])).tagName)return;if((l=p.origindd)||(l=p=_lyteDropdown.traverse(p,["LYTE-DROPDOWN","BODY"])),(a=l.component).getData("preventSel"))return;"multiple"==(n=a.getData("ltPropType"))||"multisearch"==n?(r=a.getData("ltPropSelected"))&&2==r.length||!r?(r='["'+c+'"]',a.setData("ltPropSelected",r)):(s=r.indexOf("]"),d=r.substring(0,s)+',"'+c+'"]',a.setData("ltPropSelected",d)):a.setData("ltPropSelected",c)}}}),_lyteDropdown={isEmpty:function(t){for(var e in t)return!1;return!0},buildBounds:function(t){var e=t.getData("ltPropBoundary");return{left:e.left||0,right:e.right||window.innerWidth,top:e.top||0,bottom:e.bottom||window.innerHeight}},traverse:function(t,e){for(;t&&!~e.indexOf(t.tagName);)t=t.parentNode;return t},find:function(t,e,o){for(var i=o?1:-1,l=t.length;o?e<l:e>-1;e+=i)if(_lyteDropdown.isVisible(t[e])&&"true"!==t[e].getAttribute("disabled"))return e;return o?l:-1},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pressedCharacter:null,checkDDtimeoutId:null,cachePreviousVal:{},isInput:function(t){var e=t.target;return!(!(e=_lyteDropdown.traverse(e,["LYTE-DROPDOWN"]))||"INPUT"!==t.target.tagName||"text"!==t.target.type||t.target.value)},unmark:function(t){for(var e,o=document.querySelectorAll(".lyteDropMark"),i=0,l=o.length;i<l;i++)(e=t?_lyteDropdown.findParent(o[i]):void 0)&&e==t.$node||o[i].classList.remove("lyteDropMark")},findParent:function(t){return t=_lyteDropdown.traverse(t,["LYTE-DROPDOWN"])},getActive:function(){var t=document.querySelector(".lyteDropMark");return _lyteDropdown.findParent(t)}},Lyte.createCustomElement("lyte-drop-group",{static:{observedAttributes:{get:function(){return["label"]}}},attributeChangedCallback:function(t,e,o,i){var l,a;"label"==t&&(l=this.querySelector("lyte-drop-label"),a=this.getAttribute("label"),l?l.textContent=a:((l=document.createElement("lyte-drop-label")).textContent=a,this.insertBefore(l,this.children[0])))}}),Lyte.Component.register("lyte-fileupload",{_template:'<template tag-name="lyte-fileupload">\n\t<input class="fileuploadInput {{ltPropClass}}" id="{{ltPropId}}" type="file" name="{{ltPropName}}" onchange="{{action(\'change\', event, this)}}" multiple="{{ltPropMultiple}}" accept="{{ltPropAccept}}">\n\t<div tabindex="{{ltPropTabindex}}" class="fileUploadWrapper {{fileClass}}" ondragenter="{{action(\'drag\', event)}}" ondragleave="{{action(\'drag\', event)}}" ondragover="{{action(\'drag\', event)}}" ondrop="{{action(\'drop\', event)}}" onclick="{{action(\'click\', event)}}" style="outline: none;" onpaste="{{action(\'paste\', event)}}" onkeydown="{{action( \'keydown\', event)}}">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="file" queue-list="{{queueList}}"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<template is="if" value="{{ltPropMultiple}}"><template case="true">\n\t\t\t\t<lyte-file-select-area>\n\t\t\t \t\t<lyte-file-message class="fileMessage"> Click here </lyte-file-message>\n\t\t\t\t </lyte-file-select-area>\n\t\t\t\t <div class="uploadList">\n\t\t\t\t \t<template is="for" items="{{queueList}}" item="item" index="index">\n\t\t\t\t \t\t<div class="individual {{item.status}}">\n\t\t\t\t \t\t\t<div class="fileTypeDetail">\n\t\t\t\t\t \t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t \t\t\t\t\t<img class="thumbImage" src="{{item.src}}">\n\t\t\t\t \t\t\t\t</template><template case="false">\n\t\t\t\t \t\t\t\t\t<span class="fileTypeDefaultIcon {{item.fileType}}"></span>\n\t\t\t\t \t\t\t\t</template></template>\n\t\t\t \t\t\t\t</div>\n\t\t\t\t \t\t\t<lyte-text lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t \t\t\t<span class="fileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t \t\t\t<div class="fileStatus" data-completed="{{item.percentage}}">\n\t\t\t \t\t\t\t\t<div class="fileProgress {{item.status}}">\n\t\t\t \t\t\t\t\t\t<div style="width: {{item.percentage}}%"></div>\n\t\t\t \t\t\t\t\t</div>\n\t\t\t\t \t\t\t</div>\n\t\t\t\t \t\t\t<template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true">\n\t\t\t\t \t\t\t\t<lyte-file-retry data-value="{{item.id}}"></lyte-file-retry>\n\t\t\t\t \t\t\t</template></template>\n\t\t\t\t \t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t \t\t</div>\n\t\t\t\t \t</template>\n\t\t\t\t  </div>\n\t\t\t</template><template case="false">\n\t\t\t\t<lyte-file-select-area>\n\t\t\t \t\t<lyte-file-message class="fileMessage {{if(queueList.length, \'lyteHide\', \'\')}}"> \n\t\t\t \t\t\t<span class="lyteFileuploadMsg">\n\t\t\t \t\t\t\t{{ltPropMessage}}\n\t\t\t \t\t\t</span> \n\t\t\t \t\t</lyte-file-message>\n\t\t\t \t\t <div class="uploadList">\n\t\t\t\t\t \t<template is="for" items="{{queueList}}" item="item" index="index">\n\t\t\t\t\t \t\t<div class="individual {{item.status}}">\n\t\t\t\t\t \t\t\t<div class="fileTypeDetail">\n\t\t\t\t\t\t \t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t\t \t\t\t\t\t<img class="thumbImage" src="{{item.src}}">\n\t\t\t\t\t \t\t\t\t</template><template case="false">\n\t\t\t\t\t \t\t\t\t\t<span class="fileTypeDefaultIcon {{item.fileType}}"></span>\n\t\t\t\t\t \t\t\t\t</template></template>\n\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t \t\t\t<lyte-text lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t\t \t\t\t<span class="fileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t\t \t\t\t<div class="fileStatus" data-completed="{{item.percentage}}">\n\t\t\t\t \t\t\t\t\t<div class="fileProgress {{item.status}}">\n\t\t\t\t \t\t\t\t\t\t<div style="width: {{item.percentage}}%"></div>\n\t\t\t\t \t\t\t\t\t</div>\n\t\t\t\t\t \t\t\t</div>\n\t\t\t\t\t \t\t\t<template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true">\n\t\t\t\t\t \t\t\t\t<lyte-file-retry data-value="{{item.id}}"></lyte-file-retry>\n\t\t\t\t\t \t\t\t</template></template>\n\t\t\t\t\t \t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t\t \t\t</div>\n\t\t\t\t\t \t</template>\n\t\t\t\t\t  </div>\n\t\t\t\t </lyte-file-select-area>\n\t\t\t</template></template>\n\t\t\t \n\t\t</template></template>\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"attr",position:[1,7,1]},{type:"attr",position:[1,7,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,11]},{type:"componentDynamic",position:[1,11]}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"attr",position:[1,7,1]},{type:"attr",position:[1,7,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,11]},{type:"componentDynamic",position:[1,11]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropName","ltPropMultiple","ltPropAccept","ltPropId","ltPropClass","ltPropYield","ltPropMultipleUpload","ltPropFileLimit","ltPropParallel","ltPropAutoUpload","ltPropTriggerUpload","ltPropParamName","ltPropThumb","ltPropTabindex","ltPropRetry","ltPropFileUnit","ltPropDigits","ltPropMessage","ltPropChunk","ltPropChunkSize","ltPropChunkParallel","ltPropChunkRetry","ltPropAjax","queueList","currentUpload","fileClass"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this._file=this.$node.querySelector("input.fileuploadInput"),this.$node.upload=this.processqueue.bind(this),this.$node.removeUpload=function(t){t?this.removeFrmUpload(t,"queueList"):this.removeFrmUpload(this.data.queueList,"queueList",!0)}.bind(this),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},didDestroy:function(){this.$node.removeUpload(),delete this._file,delete this.$node.upload,delete this.$node.removeUpload},data:function(){return{ltPropName:Lyte.attr("string",{default:"file"}),ltPropMultiple:Lyte.attr("boolean",{default:!0}),ltPropAccept:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMultipleUpload:Lyte.attr("boolean",{default:!0}),ltPropFileLimit:Lyte.attr("number",{default:void 0}),ltPropParallel:Lyte.attr("number",{default:2}),ltPropAutoUpload:Lyte.attr("boolean",{default:!0}),ltPropTriggerUpload:Lyte.attr("boolean",{default:!1}),ltPropParamName:Lyte.attr("array",{default:"file"}),ltPropThumb:Lyte.attr("boolean",{default:!0}),ltPropTabindex:Lyte.attr("number",{default:1}),ltPropRetry:Lyte.attr("number",{default:2}),ltPropFileUnit:Lyte.attr("string",{default:""}),ltPropDigits:Lyte.attr("number",{default:0}),ltPropMessage:Lyte.attr("string",{default:"Click here"}),ltPropChunk:Lyte.attr("boolean",{default:!1}),ltPropChunkSize:Lyte.attr("number",{default:2e6}),ltPropChunkParallel:Lyte.attr("number",{default:2}),ltPropChunkRetry:Lyte.attr("number",{default:2}),ltPropAjax:Lyte.attr("object",{default:{url:"/file-upload"}}),queueList:Lyte.attr("array",{default:[]}),currentUpload:Lyte.attr("array",{default:[]}),fileClass:Lyte.attr("string",{default:""})}},trigUpl:function(t){t.newValue&&(this.processqueue(),this.setData("ltPropTriggerUpload",!1))}.observes("ltPropTriggerUpload"),validate:function(t){for(var e=this.data.ltPropAccept.split(","),o=[],i=0;i<t.length;i++){for(var l,a={},n=0;n<e.length&&(a.type=!new RegExp(e[n].trim()).test(t[i].type),!a.type);n++);if(l=this.data.ltPropChunk&&t[i].size>this.data.ltPropChunkSize,a.size=t[i].size>this.data.ltPropFileLimit,!a.size&&!a.type||l){var r;if(this.getMethods("onBeforeAdd")&&(r=this.executeMethod("onBeforeAdd",t[i],this.$node)),0==r)continue;if(r&&r.then){o.push(r);var s=t[i];Promise.resolve(r).then(this.add.bind(this,s,l))}else this.add(t[i],l);if(!this.data.ltPropMultiple)break}else this.getMethods("onReject")&&this.executeMethod("onReject",t[i],a,this.$node)}this.data.ltPropAutoUpload&&(o.length?Lyte.resolvePromises(o).then(this.processqueue.bind(this)):this.processqueue())},add:function(t,e){var o=t.name.match(/.([A-z]+)$/),i={id:"lyte"+(new Date).getTime(),file:t,size:t.size,name:t.name,isChunk:e,retry:0,fileType:o?o[1]:""};this.data.ltPropThumb&&/image/i.test(t.type)&&Lyte.Component.set(i,"src",URL.createObjectURL(t)),Lyte.arrayUtils(this.data.queueList,"push",i),this.getMethods("onAdd")&&this.executeMethod("onAdd",t,this.$node)},chkId:function(t,e){return e.id==t},processqueue:function(t){for(var e=this.data,o=0;(e.ltPropMultipleUpload&&e.currentUpload.length<e.ltPropParallel||!e.ltPropMultipleUpload&&!e.currentUpload.length)&&e.queueList.length;){var i=e.queueList[o];if(t&&(t=t.constructor==Object?t.id:t,i=e.queueList[this.findIndex(e.queueList,this.chkId.bind(this,t))]),!i)break;if(/uploading|success/.test(i.status)){if(t)break;o++}else if("error"!=i.status||!(i.retry>=e.ltPropRetry-1||i.isChunk)||t){if(i.isChunk||Lyte.arrayUtils(e.currentUpload,"push",i),this.uploadFile(i),t)break;o++}else o++}},findIndex:function(t,e){if(e.constructor!=Function)return t.indexOf(e);for(var o=0;o<t.length;o++){if(e.call(t[o],t[o]))return o}},removeFrmUpload:function(t,e,o){t.constructor!=Array&&(t=[t]);for(var i=0;i<t.length;i++){id=t[i].id||t[i];var l=this.data[e],a=this.findIndex(l,this.chkId.bind(this,id));if(a>=0){if(!o&&this.getMethods("onBeforeRemove")&&0==this.executeMethod("onBeforeRemove",e,l[a],this.$node))continue;cur=l[a],"uploading"==cur.status&&cur.xhr&&cur.xhr.ret.abort(),Lyte.arrayUtils(l,"removeAt",a),a<=i&&i--}}!o&&this.data.ltPropAutoUpload&&this.processqueue()},uploadFile:function(t){var e,o=Lyte.deepCopyObject(this.data.ltPropAjax);this.getMethods("onBeforeUpload")&&(e=this.executeMethod("onBeforeUpload",t,o,this.$node)),e&&e.then?Promise.resolve(e).then(function(){t.isChunk?this.proceedChunk(t,o):this.proceedUpload(t,o)}.bind(this)):0!=e?t.isChunk?this.proceedChunk(t,o):this.proceedUpload(t,o):(this.removeFrmUpload(t.id,"queueList"),this.removeFrmUpload(t.id,"currentUpload"))},succFunc:function(t){var e=arguments[2].xhr.file;Lyte.Component.set(e,"status","success"),this.getMethods("onSuccess")&&this.executeMethod("onSuccess",t,e,this.$node),Lyte.objectUtils(e,"delete","xhr"),delete arguments[2].xhr.file,this.removeFrmUpload(e.id,"currentUpload")},reject:function(t){t.xhr.file.retry>=this.data.ltPropRetry-1?(Lyte.Component.set(t.xhr.file,"status","error"),this.getMethods("onError")&&this.executeMethod("onError",t,t.xhr.file,this.$node),Lyte.objectUtils(t.xhr.file,"delete","xhr"),this.removeFrmUpload(t.xhr.file.id,"currentUpload"),delete t.xhr.file):(Lyte.Component.set(t.xhr.file,"status","retrying"),Lyte.objectUtils(t.xhr.file,"add","retry",t.xhr.file.retry+1),this.removeFrmUpload(t.xhr.file.id,"currentUpload",!0),this.$node.upload(t.xhr.file.id))},progress:function(t){if(t.lengthComputable){var e=t.total,o=t.loaded,i=t.target.xhr;Lyte.Component.set(i.file,{size:e,loaded:o,percentage:Math.round(100*o/e)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,i,i.file,this.$node)}},removeChunk:function(t,e,o){var i=this.data.currentUpload,l=this.findIndex(i,function(e){return e.chunkProp.id==t});l>-1&&(Lyte.arrayUtils(i,"removeAt",l),!o&&this.processChunkQueue(e.chunks))},chunkReject:function(t){var e=t.xhr.file,o=e.chunkProp.origin;e.retry<this.data.ltPropRetry-1?(Lyte.Component.set(e,"status","retrying"),Lyte.objectUtils(e,"add","retry",e.retry+1),this.removeChunk(e.chunkProp.id,o,!0),this.processChunkQueue(e,!0)):(Lyte.Component.set(e,"status","error"),this.removeChunk(e.chunkProp.id,o,!0),this.getMethods("onChunkError")&&this.executeMethod("onChunkError",t,e,o,this.$node),Lyte.objectUtils(e,"delete","xhr"),delete t.xhr.file,Lyte.Component.set(o,"error",o.error+1),"error"!=o.status&&(Lyte.Component.set(o,"status","error"),this.getMethods("onError")&&this.executeMethod("onError",e,o,this.$node)),o.error+o.finished==o.total?this.data.ltPropAutoUpload&&this.processqueue():this.processChunkQueue(o.chunks,!0))},chuckSuccess:function(t){var e=arguments[2].xhr.file,o=e.chunkProp.origin;Lyte.Component.set(e,"status","success"),this.removeChunk(e.chunkProp.id,o),this.getMethods("onChunkSuccess")&&this.executeMethod("onChunkSuccess",t,e,o,this.$node),Lyte.objectUtils(e,"delete","xhr"),delete arguments[2].xhr.file,Lyte.Component.set(o,"finished",o.finished+1),o.finished==o.total?(Lyte.Component.set(o,"status","success"),this.getMethods("onSuccess")&&this.executeMethod("onSuccess",o,this.$node),this.data.ltPropAutoUpload&&this.processqueue()):this.processChunkQueue(o.chunks,!0)},chunkProgress:function(t){if(t.lengthComputable){t.total;var e=t.loaded,o=t.target.xhr.file,i=o.chunkProp.origin,l=e-o.loaded;Lyte.Component.set(o,"loaded",e),Lyte.Component.set(i,{loaded:Math.min(i.loaded+l,i.size),percentage:Math.min(Math.round(100*(i.loaded+l)/i.size),100)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,xhr,i,this.$node)}},proceedChunk:function(t,e){for(var o=this.data.ltPropChunkSize,i=t.size,l=0,a=[];l<=i;){var n=l,r=Math.min(i,l+=o);a.push({file:t.file.slice(n,r),chunkProp:{chunkOffset:n,chunkSize:r,chunkId:"lyteChunk"+(new Date).getTime(),chunkIndex:a.length,origin:t,chunkCount:Math.ceil(t.size/o),totalSize:t.size},name:t.file.name,loaded:0,retry:0})}Lyte.Component.set(t,{chunks:a,error:0,finished:0,total:a.length}),this.processChunkQueue(a)},processChunkQueue:function(t,e){var o=this.data,i=0;for(t.constructor!=Array&&(t=[t]);o.ltPropMultipleUpload&&o.currentUpload.length<o.ltPropChunkParallel||!o.ltPropMultipleUpload&&!o.currentUpload.length;){var l=t[i];if(!l)break;/success|uploading/.test(l.status)||e&&(!e||/error/.test(l.status))?i++:(file=l.chunkProp.origin,Lyte.Component.set(file,{status:"uploading",percentage:file.percentage||0,loaded:file.loaded||0,size:file.size}),this.proceedUpload(l,Lyte.deepCopyObject(o.ltPropAjax),!0),Lyte.arrayUtils(o.currentUpload,"push",l),i++)}},proceedUpload:function(t,e,o){if(!/success|uploading/.test(t.status)){var i,l=new FormData;l.append(this.data.ltPropParamName,t.file,t.name),e.success=o?this.chuckSuccess.bind(this):this.succFunc.bind(this),e.error=o?this.chunkReject.bind(this):this.reject.bind(this);var a=new XMLHttpRequest;if(e.type=e.type||"POST",t.xhr=a,a.file=t,a.upload.xhr=a,a.upload.addEventListener("progress",o?this.chunkProgress.bind(this):this.progress.bind(this),!1),e.xhr=function(){return a},e.data=e.data||l,e.processData=e.processData||!1,this.getMethods("onBeforeSend")&&(i=this.executeMethod("onBeforeSend",a,t,!!o,this.$node)),i&&i.then)Promise.resolve(i).then(function(){this.finishSend(e,a,t)}.bind(this));else{if(0==i)return this.removeFrmUpload(t.id,"queueList"),void this.removeFrmUpload(t.id,"currentUpload");i&&i.constructor==FormData&&(e.data=i),this.finishSend(e,a,t,o)}}},finishSend:function(t,e,o,i){Lyte.Component.set(o,"status","uploading");var l=$L.ajax(t);l.xhr=e,e.ret=l,this.getMethods("onSend")&&this.executeMethod("onSend",e,l,o,!!i,this.$node)},actions:{change:function(t,e){this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(e.files)},drag:function(t){var e=t.type,o="onDrag",i=e.match(/drag(.+)/);if(i&&i[1]&&(o+=i[1].slice(0,1).toUpperCase()+i[1].slice(1),/enter|over/.test(t.type))){if("dragover"==t.type){var l=t.dataTransfer;if(l){var a=l.effectAllowed;l.dropEffect="move"===a||"linkMove"===a?"move":"copy"}}t.preventDefault()}"dragenter"==e?this.setData("fileClass","fileDragEnter"):"dragleave"==e&&this.setData("fileClass",""),this.getMethods(o)&&this.executeMethod(o,t,this.$node)},drop:function(t){var e=t.dataTransfer;if(e){if(this.getMethods("onBeforeDrop")&&0==this.executeMethod("onBeforeDrop",t,this.$node))return;t.preventDefault(),this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(e.files),this.getMethods("onDrop")&&this.executeMethod("onDrop",t,this.$node)}},click:function(t){var e;if(!this.data.ltPropYield&&this.data.ltPropMultiple&&(t.shiftKey?t.preventDefault():$L("#lyteFileSelected.individual").removeAttr("id"),$L(t.target).closest(".individual").attr("id","lyteFileSelected")),!(t.ctrlKey||t.shiftKey||t.metaKey))if((e=$L(t.target).closest("lyte-file-close")).length)this.$node.removeUpload(e.eq(0).attr("data-value"));else if((e=$L(t.target).closest("lyte-file-retry")).length)this.$node.upload(e.eq(0).attr("data-value"));else if($L(t.target).closest("lyte-file-select-area").length){if(this.getMethods("onBeforeOpen")&&0==this.executeMethod("onBeforeOpen",t,this.$node))return;this._file.click()}},paste:function(t){for(var e=(t.clipboardData||window.clipboardData).items,o=[],i=0;i<e.length;i++){var l=e[i].getAsFile();l&&o.push(l)}if(o.length){if(this.getMethods("onBeforePaste")&&0==this.executeMethod("onBeforePaste",t,o,this.$node))return;this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(o),this.getMethods("onPaste")&&this.executeMethod("onPaste",t,o,this.$node)}},keydown:function(t){if(8==t.which){for(var e=$L("#lyteFileSelected lyte-file-close",this.$node),o=0;o<e.length;o++)this.$node.removeUpload(e.eq(o).attr("data-value"));e.length&&t.preventDefault()}}}}),Lyte.Component.register("lyte-gridstack",{_template:'<template tag-name="lyte-gridstack">\n\t\t<lyte-yield yield-name="lyteGridStack">\n\t\t</lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropScope","ltPropHandler","ltPropMarginLeft","ltPropMarginTop","ltPropUnitX","ltPropUnitY","ltPropResizeDirection","ltPropFloat","ltPropDirection","ltPropUndo","ltPropResize","ltPropBestfit","ltPropMinUnitX","ltPropMinMarginLeft","ltPropBestfitClass","ltPropFreezeMode","ltPropDefaultLength","ltPropDefaultHeight","ltPropDefaultMinLength","ltPropDefaultMinHeight","ltPropDefaultMaxHeight","ltPropDefaultMaxLength","ltPropColumnMode","ltPropColumn","ltPropPrevent","ltPropGridLength","ltPropBestfitType","ltPropForcedReposition","ltPropSquareGrid","ltPropGridSpaceColor","ltPropHitBottom","ltPropGridSelectionClass","ltPropVisibleBoundary","ltPropVisible","gridLength","ltPropGridHeight","ltPropMarginLeftCopy","ltPropUnitXCopy","lyteGridStack","elements","oriNode","xElements","yElements","iniData","lyteQuerySelector","direction"],init:function(){var t=navigator.userAgent;this.isSaf={safari:!!window.safari,isIE11Lyte:/rv:11/gi.test(t),isEdgeLyte:/Edge/gi.test(t),chrome:!!window.chrome,firefox:/firefox/gi.test(t)},this._childGrids=[],this.freeezeModeObs.call(this,this.data.ltPropFreezeMode),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){if(document.removeEventListener("keydown",this.data.lyteQuerySelector.keydown),window.removeEventListener("resize",this._resizeFunc,!0),document.removeEventListener("click",this._click),this.$node.removeEventListener("scroll",this._scroll,!0),this._parentGrid){var t=this._parentGrid.component._childGrids;Lyte.arrayUtils(t,"removeAt",t.indexOf(this._parentGridIndex))}this._parentComp&&delete this._parentComp._childGrid,document._lyteCurrentGrid==this&&delete document._lyteCurrentGrid,delete this.scopeElement,delete this._style,this.data.lyteGridStack=[],delete this.data.lyteQuerySelector.previousNode,delete this.$node.addGrid,delete this.$node.removeGrid,delete this.$node.reRender,delete this.$node.setProperty},rtlfunc:function(t,e){return this.data.direction?"left"==t?"right":"clientX"==e?window.innerWidth-t:"bccr"==e?window.innerWidth-t.right:e.offsetParent.getBoundingClientRect().right-e.getBoundingClientRect().right:"bccr"==e?t.left:e&&"clientX"!=e?e.offsetLeft:t},windowResize:function(){clearTimeout(window._gridResize),window._gridResize=setTimeout(function(){if(this.$node.offsetParent){var t=this.data.ltPropMinUnitX,e=this.scopeElement.getBoundingClientRect().width-this.data.gridLength*this.data.ltPropMarginLeft,o=this._initialXRatio*e;this.setData("ltPropUnitXCopy",Math.max(o,t)),this.MarginLeftAndXObs.call(this,!0),this.observerFunc.call(this),delete window._gridResize,this.getMethods("onWindowResize")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onWindowResize",event,this.$node)}.bind(this))}.bind(this))}}.bind(this),250)},MarginLeft:function(){this.MarginLeftAndXObs.apply(this,arguments)}.observes("ltPropMarginLeft","ltPropUnitX"),MarginLeftAndXObs:function(t){t.constructor==Object&&(this.setData("ltPropUnitXCopy",this.data.ltPropUnitX),this.setData("ltPropMarginLeftCopy",this.data.ltPropMarginLeft));var e=this.getData("ltPropUnitXCopy"),o=this.getData("ltPropMarginLeftCopy");this.setData("gridLength",Math.round((this.scopeElement.getBoundingClientRect().width-o)/(e+o)))},squareGridObs:function(){arguments[0].newValue?(this._originalY=this.getData("ltPropUnitY"),this.setData("ltPropUnitY",this.data.ltPropUnitX)):this._originalY?(this.setData("ltPropUnitY",this._originalY),delete this._originalY):this.setData("ltPropUnitY",50)}.observes("ltPropSquareGrid"),obsfunc:function(){this.getData("ltPropSquareGrid")&&("ltPropUnitX"==arguments[0].item?this.setData("ltPropUnitY",arguments[0].newValue):"ltPropUnitY"==arguments[0].item&&this.setData("ltPropUnitX",arguments[0].newValue)),this._prevObs||this.observerFunc.apply(this,arguments)}.observes("ltPropUnitX","ltPropUnitY","ltPropMarginLeft","ltPropMarginTop"),observerFunc:function(t){var e=this._style;e&&(this.$node.removeChild(e),delete this._style,this.initialValSet.call(this,null,!t))},freezeobs:function(){this.freeezeModeObs.apply(this,arguments)}.observes("ltPropFreezeMode"),freeezeModeObs:function(t){t.constructor!=Object&&t.constructor!=Boolean||(0==t.oldValue||1==t?this.$node.classList.add("gridFreezeMode"):1!=t.oldValue&&0!=t||this.$node.classList.remove("gridFreezeMode"))},columnMode:function(t){if(0==t.newValue){for(var e=this.getData("ltPropHandler"),o=this.getData("iniData"),i=this.scopeElement.querySelectorAll(e),l=0;l<i.length;l++)for(var a in o[l])o[l][a]&&i[l].setAttribute("lyte-grid-"+a,o[l][a]);this.data.ltPropUnitX==(this._originalX||this.getData("ltPropUnitXCopy"))?this.initialValSet(!0):this.setData("ltPropUnitX",this._originalX||this.getData("ltPropUnitXCopy"))}else this._originalX=this.getData("ltPropUnitXCopy"),"ltPropForcedReposition"!=t.item&&(this.columnModeLengthFind(),this.setData("gridLength",this.gridLength(null,this.getData("ltPropUnitXCopy")))),this.initialValSet.call(this)}.observes("ltPropColumn","ltPropColumnMode","ltPropForcedReposition"),bestFitObs:function(t){var e=this._bestfit;e&&(t.newValue&&e.classList.add(t.newValue),t.oldValue&&e.classList.remove(t.oldValue))}.observes("ltPropBestfitClass"),bfObs:function(){var t=this.getData("ltPropBestfit"),e=this.getData("ltPropBestfitType");if(t&&"grid"==e){var o=this.getData("ltPropGridSpaceColor"),i=this.getData("ltPropMarginLeftCopy"),l=this.getData("ltPropMarginTop"),a=this.getData("ltPropUnitXCopy"),n=this.getData("ltPropUnitY");this.scopeElement.style.backgroundImage="linear-gradient(to right,"+o+" "+i+"px,transparent 0px),linear-gradient(to bottom,"+o+" "+l+"px,transparent 0px)",this.scopeElement.style.backgroundSize=a+i+"px "+(n+l)+"px",this._bestfit&&("grid"==arguments[0].newValue&&this._bestfit.classList.add("lyteGrid"),this._bestfit.style.transform="translate(-"+i+"px,-"+l+"px)")}else t&&"default"!=e||(this.scopeElement.style.removeProperty("background-image"),this.scopeElement.style.removeProperty("background-size"),this._bestfit&&(this._bestfit.style.removeProperty("background-image"),this._bestfit.style.removeProperty("background-size"),this._bestfit.style.removeProperty("transform"),"default"==arguments[0].newValue&&this._bestfit.classList.remove("lyteGrid")))}.observes("ltPropBestfit","ltPropBestfitType"),lengthObs:function(){this.setData("gridLength",0),this.$node.reRender()}.observes("ltPropGridLength"),gridColorObs:function(t){"grid"==this.getData("ltPropBestfitType")&&this.getData("ltPropBestfit")&&(this.scopeElement.style.backgroundImage="linear-gradient(to right,"+t.newValue+" "+this.getData("ltPropMarginLeftCopy")+"px,transparent 0px),linear-gradient(to bottom,"+t.newValue+" "+this.getData("ltPropMarginTop")+"px,transparent 0px)")}.observes("ltPropGridSpaceColor"),dataSetting:function(t,e,o,i,l){var a={x:void 0,y:void 0,length:1,height:1,nodeName:"",preX:[],preY:[],preLength:[],preHeight:[],component:void 0};if(o){var n=parseInt(l/i);a.x=void 0,a.y=void 0,a.length=n,a.height=parseInt(this.getData("ltPropDefaultHeight")),this._dopeHgt=a.height}else a=this.initialPosFind.call(this,t);return a.nodeName=t,a.nodeName.dataSet={},a.oldX=[],a.oldY=[],a.oldLength=[],a.oldHeight=[],t.elemNum=e,a.minLength=t.getAttribute("lyte-grid-min-length")?this.returnWid(t.getAttribute("lyte-grid-min-length"),!0):this.returnWid(this.getData("ltPropDefaultMinLength"),!0),a.minHeight=t.getAttribute("lyte-grid-min-height")?this.returnWid(t.getAttribute("lyte-grid-min-height")):this.returnWid(this.getData("ltPropDefaultMinHeight")),a.maxLength=t.getAttribute("lyte-grid-max-length")?this.returnWid(t.getAttribute("lyte-grid-max-length"),!0):this.returnWid(this.getData("ltPropDefaultMaxLength"),!0),a.maxHeight=t.getAttribute("lyte-grid-max-height")?this.returnWid(t.getAttribute("lyte-grid-max-height")):this.returnWid(this.getData("ltPropDefaultMaxHeight")),a.component=this,a},append:function(t,e,o,i){$L.fastdom.mutate(function(){var l=document.createElement("div");l.setAttribute("class",e[o.indexOf(i)]+" lyteGridResize"),t.appendChild(l)})},maxPosFind:function(t,e,o,i,l){for(var a=[],n=[],r=[],s=[],d=0;d<t.length;d++){if(!l){var p=this.emptySpaceFind.call(this,{length:i[d].length,height:i[d].height,x:i[d].x,y:i[d].y,nodeName:i[d].nodeName});t[d]._addGrid&&!o||(i[d].x=p[0].x,i[d].y=p[0].y),t[d]._addGrid&&delete t[d]._addGrid}n.push(i[d].length),a.push(i[d].height),r.push(i[d].y+i[d].height),s.push(i[d].x+i[d].length)}l||this.previousPos.call(this,t,!0),e.MaxLength=Math.max.apply(null,n.length?n:[0]),e.MaxHeight=Math.max.apply(null,a.length?a:[0]),e.MaxBottom=Math.max.apply(null,r.length?r:[0]),e.MaxLeft=Math.max.apply(null,s.length?s:[this.getData("gridLength")])},initialValSet:function(t,e){var o=this.getData("lyteQuerySelector"),i=this.getData("lyteGridStack"),l=this.$node.querySelector(this.data.ltPropScope),a=parseFloat(this.getData("ltPropUnitXCopy")),n=parseFloat(this.getData("ltPropUnitY")),r=parseFloat(this.data.ltPropUnitX),s=parseFloat(this.getData("ltPropMarginTop")),d=parseFloat(this.getData("ltPropMarginLeftCopy")),p=parseInt(this.getData("gridLength")),c=this.getData("ltPropColumnMode"),h=this.getData("ltPropColumn"),u=this.bcrrelem?this.bcrrelem:this.scopeElement.getBoundingClientRect(),y=this.getData("ltPropResizeDirection");o.occupied=[],o.currentPos=0,o.verticalMove=!0;var m=l.querySelectorAll(this.data.ltPropHandler);if(l.dataSet={},o.elementCount=[],!e){for(var g=0;g<m.length;g++){if(i[g]=this.dataSetting.call(this,m[g],g,c,h,p),o.elementCount.push(g),1==this.getData("ltPropResize"))if(0==i[g].nodeName.querySelectorAll(".lyteGridResize").length&&"disabled"!=i[g].nodeName.getAttribute("lyte-grid-resize"))for(var f=0;f<y.length;f++){var v=["left","right","bottom","bottomLeft","bottomRight","top","topLeft","topRight"];-1!=v.indexOf(y[f])&&this.append(m[g],["lyteGridStackLeft","lyteGridStackRight","lyteGridStackBottom","lyteGridStackBottomLeft","lyteGridStackBottomRight","lyteGridStackTop","lyteGridStackTopLeft","lyteGridStackTopRight"],v,y[f])}}this.maxPosFind(m,o,c,i)}if(this._initialWindowWidth==window.innerWidth&&(this._initialXRatio=r/(u.width-this.data.gridLength*this.data.ltPropMarginLeft)),$L.fastdom.mutate(function(){if(l.style.height=o.MaxBottom*n+(o.MaxBottom+1)*parseInt(this.getData("ltPropMarginTop"))+"px","grid"==this.getData("ltPropBestfitType")&&this.getData("ltPropBestfit")){var t=this.getData("ltPropGridSpaceColor");this.scopeElement.style.backgroundImage="linear-gradient(to right,"+t+" "+d+"px,transparent 0px),linear-gradient(to bottom,"+t+" "+s+"px,transparent 0px)",this.scopeElement.style.backgroundSize=a+d+"px "+(n+s)+"px"}}.bind(this)),!t){var D,b=this._style;b||((b=document.createElement("style")).type="text/css",b.id="lyteGridStack",this._style=b,$L.fastdom.mutate(function(){this.$node.appendChild(b)}.bind(this)));var P=this.$node.querySelectorAll(this.data.ltPropHandler);if(P&&P.length)for(var C=0;C<P.length;C++)P[C].classList.add("lyteGridstackHandler");var L=u.width;this._initialXRatio=a/(u.width-this.data.gridLength*this.data.ltPropMarginLeft);for(g=1;g<=Math.max(p,o.MaxBottom)+1;g++)g<=p&&(0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridx"+(g-1)).length&&(D=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-x = "'+(g-1)+'"]{'+this.rtlfunc("left")+":"+100*((g-1)*a+g*d)/L+"%;}",this.styleFormation.call(this,D,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridx"+(g-1))),g<=p&&0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridlength"+(g-1)).length&&(D=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-length = "'+g+'"]{width:'+100*(g*a+(g-1)*d)/L+"%;}",this.styleFormation.call(this,D,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridlength"+(g-1)))),g<=o.MaxBottom+1&&(0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+(g-1)).length&&(D=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-y = "'+(g-1)+'"]{top:'+((g-1)*n+g*s)+"px;}",this.styleFormation.call(this,D,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+(g-1))),g<=o.MaxHeight&&0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+(g-1)).length&&(D=this.getData("ltPropScope")+" "+this.data.ltPropHandler+'[lyte-grid-height = "'+g+'"]{height:'+(g*n+(g-1)*s)+"px;}",this.styleFormation.call(this,D,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+(g-1))));this.setData("ltPropGridHeight",o.MaxBottom)}this.displayGrid.call(this,null),this.bcrrelem&&delete this.bcrrelem},maxHeight:function(t){for(var e=this.$node.querySelectorAll(this.data.ltPropHandler),o=[],i=[],l=[],a=0;a<e.length;a++)i.push(t[a].length),o.push(t[a].height),l.push(t[a].y+t[a].height);return[Math.max.apply(null,i),Math.max.apply(null,o),Math.max.apply(null,l)]},styleFormation:function(t,e){$L.fastdom.mutate(function(){if(0==this.$node.querySelectorAll("."+e).length){var o=document.createElement("style");o.type="text/css",o.setAttribute("class",e),this._style.appendChild(o),o.append(t)}}.bind(this))},cssConstruct:function(t,e,o){var i,l=this.data.lyteGridStack,a=this.$node.querySelector(this.data.ltPropScope),n=this.data.lyteQuerySelector,r=this.returnWid(t.getAttribute("lyte-grid-height"),null,t),s=(this.returnWid(t.getAttribute("lyte-grid-length"),!0,t),parseInt(t.getAttribute("lyte-grid-x")),parseInt(t.getAttribute("lyte-grid-y"))),d=(this.data.ltPropUnitXCopy,this.data.ltPropUnitY),p=this.data.ltPropMarginTop;this.data.ltPropMarginLeftCopy;if("lyte-grid-height"==e)for(var c=Math.max(r,n.MaxHeight),h=0;h<=c;h++){var u=this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+(h+1);0==this.$node.querySelectorAll("."+u).length&&(i=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-height = "'+h+'"]{height:'+(h*d+(h-1)*p)+"px;}",this.styleFormation.call(this,i,u))}else if("lyte-grid-y"==e&&s+r>=n.MaxBottom){for(h=n.MaxBottom-r;h<=s+r;h++){u=this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+h;0==this.$node.querySelectorAll("."+u).length&&(i=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-y = "'+h+'"]{top:'+(h*d+(h+1)*p)+"px;}",this.styleFormation.call(this,i,u))}n.previousNode=t}if(-1!=["lyte-grid-height","lyte-grid-y"].indexOf(e)){var y=this.maxHeight(l);if(this.setData("ltPropGridHeight",y[2]),n.MaxBottom>y[2])for(var m=n.MaxBottom;m>y[2];m--)if(this.$node.querySelector("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+m)){var g=this._style;if(g){var f=this.$node.querySelector("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+m);f&&f.parentElement==g&&g.removeChild(f)}}n.MaxBottom=y[2]}a.style.height=n.MaxBottom*d+(n.MaxBottom+1)*p+"px"},setVal:function(t,e,o){t.setAttribute(e,o),"lyte-grid-y"!=e&&"lyte-grid-height"!=e&&"lyte-grid-length"!=e&&"lyte-grid-x"!=e||this.cssConstruct.call(this,t,e),t.dataSet[e]=o},displayGrid:function(t,e){for(var o=this.scopeElement.querySelectorAll(this.data.ltPropHandler),i=this.data.lyteQuerySelector,l=this.data.lyteGridStack,a=0;a<o.length;a++)(a!=t&&!e||e&&a==t)&&(this.setVal(o[a],"lyte-grid-y",l[a].y),this.setVal(o[a],"lyte-grid-x",l[a].x),l[a].length!=l[a].nodeName.getAttribute("lyte-grid-length-old")&&this.setVal(o[a],"lyte-grid-length",l[a].length,!0),l[a].height!=l[a].nodeName.getAttribute("lyte-grid-height-old")&&this.setVal(o[a],"lyte-grid-height",l[a].height));this.scopeElement.dataSet["lt-prop-grid-height"]=i.MaxBottom,this.scopeElement.dataSet["lt-prop-grid-length"]=parseInt(this.data.gridLength),$L.fastdom.mutate(function(){this.positionFind.call(this,o)}.bind(this))},positionFind:function(t){t=t||this.scopeElement.querySelectorAll(this.data.ltPropHandler);for(var e,o=[],i=[],l=[],a=[],n=[],r=[],s=this.getData("lyteGridStack"),d=0;d<t.length;d++)l.push(s[d].x),a.push(s[d].y),n.push(s[d].x+s[d].length),r.push(s[d].y+s[d].height);e=Math.max(Math.max.apply(null,l),Math.max.apply(null,a),Math.max.apply(null,n),Math.max.apply(null,r));for(var p=0;p<=e;p++){l=[],a=[],n=[],r=[];for(var c=0;c<s.length;c++)s[c].x<=p&&p<=s[c].x+s[c].length&&l.push(c),s[c].y<=p&&p<=s[c].y+s[c].height&&a.push(c);o.push(l),i.push(a)}Lyte.arrayUtils(this.data.xElements,"remove",0,this.data.xElements.length),Lyte.arrayUtils(this.data.xElements,"concat",o),Lyte.arrayUtils(this.data.yElements,"remove",0,this.data.yElements.length),Lyte.arrayUtils(this.data.yElements,"concat",i)},multipleRemoval:function(t){t=t||[];for(var e=0;e<t.length;e++)for(var o=e+1;o<t.length;o++)t[e]==t[o]&&(Lyte.arrayUtils(t,"removeAt",o),o--);return t},similarData:function(t,e){var o=[];if(void 0!=t&&void 0!=e){for(var i=0;i<t.length;i++)for(var l=0;l<e.length;l++)if(t[i]==e[l]){o.push(t[i]);break}}else o=t||e;return o},elementCheck:function(t,e,o){var i,l=[],a=this.getData("xElements"),n=1,r=this.getData("lyteGridStack");return r[e.elemNum].length>1?(o?(i=r[e.elemNum].x,n=0):i=r[e.elemNum].x+1,l=this.yElementsFind(i,r[e.elemNum].x+r[e.elemNum].length-n,a)):l=this.similarData.call(this,a[r[e.elemNum].x],a[r[e.elemNum].x+1]),l?this.multipleRemoval.call(this,l):[]},nodeName:function(t){var e=t.target.correspondingElement||t.target;if(e){var o,i=!1,l=this.$node.querySelector(this.data.ltPropScope);if("mousedown"==t.type){for(;e&&e!=l&&e.classList&&"BODY"!=e.tagName&&"HTML"!=e.tagName;){if(e.classList.contains("lyteGridStackLeft")){o="left",i=!0;break}if(e.classList.contains("lyteGridStackRight")){o="right",i=!0;break}if(e.classList.contains("lyteGridStackBottom")){o="bottom",i=!0;break}if(e.classList.contains("lyteGridStackBottomLeft")){o="BottomLeft",i=!0;break}if(e.classList.contains("lyteGridStackBottomRight")){o="BottomRight",i=!0;break}if(e.classList.contains("lyteGridStackTop")){o="top",i=!0;break}if(e.classList.contains("lyteGridStackTopLeft")){o="topLeft",i=!0;break}if(e.classList.contains("lyteGridStackTopRight")){o="topRight",i=!0;break}if("LYTE-GRID-CONTENT"==e.tagName){o="content",i=!0;break}e=e.parentNode}if(e!=l&&i)return[o,e.parentElement,e.parentElement.parentElement]}else if("click"==t.type){for(;e&&e!=l&&e.classList&&"BODY"!=e.tagName&&"HTML"!=e.tagName;){if(e.classList.contains("lyteGridstackHandler")&&e.querySelectorAll(".lyteGridResize").length){i=!0;break}e=e.parentNode}if(i)return e}}return null},valueUpdating:function(t,e,o){var i=this.getData("lyteGridStack");i[t][e]!=i[t].nodeName.dataSet[o]&&(i[t].nodeName.dataSet[o+"-old"]=i[t].nodeName.dataSet[o],i[t].nodeName.dataSet[o]=parseInt(i[t][e]))},bottomElementsCount:function(t,e){var o,i,l,a,n,r;"vertical"==e?(r="y",o="x",i="height",l="length",a="xElements",n="yElements","offsetTop","lyte-grid-height","ltPropMarginTop"):(r="x",o="y",i="length",l="height",a="yElements",n="xElements","offsetLeft","lyte-grid-length","ltPropMarginLeftCopy");var s=this.getData("lyteGridStack"),d=this.getData(a),p=this.getData(n),c=[],h=[],u=[];c=s[t.elemNum][i]>1?this.yElementsFind(s[t.elemNum][r]+1,s[t.elemNum][r]+s[t.elemNum][i]-1,p):this.similarData.call(this,p[s[t.elemNum][r]],p[s[t.elemNum][r]+s[t.elemNum][i]]),h=this.multipleRemoval.call(this,h.concat(d[s[t.elemNum][o]+s[t.elemNum][l]])),u=this.multipleRemoval.call(this,u.concat(d[s[t.elemNum][o]])),c=this.multipleRemoval.call(this,c),h.length&&Lyte.arrayUtils(h,"removeAt",h.indexOf(t.elemNum)),u.length&&Lyte.arrayUtils(u,"removeAt",u.indexOf(t.elemNum)),c.length&&Lyte.arrayUtils(c,"removeAt",c.indexOf(t.elemNum));var y=[];return y[y.length]=this.similarData.call(this,c,h).length,y[y.length]=this.similarData.call(this,c,u).length,y},returnY:function(t,e){var o,i,l;return e?(o="offTop",i=this.getData("ltPropMarginTop"),l=this.getData("ltPropUnitY")):(o="offLeft",i=this.getData("ltPropMarginLeftCopy"),l=this.getData("ltPropUnitXCopy")),parseInt(((t[o]-i)/(l+i)).toFixed(0))},scrollCheckY:function(t,e,o,i,l,a,n,r,s,d){if(!this._scrollCheck||d){var p,c="scrollTop",h="top",u="clientY",y="bottom",m="prevEvY";s&&(c="scrollLeft",h="left",u="clientX",y="right",m="prevEvX","prevEvY","clientY","width","scrollWidth");var g=Math.max(e[h],0)>Math.min(i[h],a[u])&&!(e[y]<i[y])&&(a[u]<t[m]||void 0==t[m]),f=Math.min(e[y],l)<Math.max(i[y],a[u])&&!(e[h]>i[h])&&(a[u]>t[m]||void 0==t[m]),v=(this.$node[c],(this.isSaf.isEdgeLyte||this.isSaf.isIE11Lyte)&&this.data.direction?-1:1);if(D.call(this,e,n,r,!s,-o*v,this.data.direction)&&g)this.$node[c]-=1*o*v,p=!0;else{if(!D.call(this,e,n,r,!s,o*v,this.data.direction)||!f)return window.cancelAnimationFrame(this._reqId),delete this._reqId,delete this._scrollCheck,void(t[m]=a[u]);this.$node[c]+=1*o*v,p=!0}p&&(this._scrollCheck=!0,this._reqId=window.requestAnimationFrame(function(){i=t.getBoundingClientRect(),this.scrollCheckY.call(this,t,e,o,i,l,a,n,this.$node[s?"scrollLeft":"scrollTop"],s,!0)}.bind(this)))}function D(t,e,o,i,l,a){var n=i?"height":"width";return!(l>0&&o+t[n]>=e||l<0&&-o+t[n]>=e)&&(!!(!i&&this.isSaf.firefox&&a&&l<0&&0==o)||!(l<0&&0==o&&!(l<0&&this.isSaf.safari&&a&&0==o)))}},mousemoveFun:function(t,e){if(e.preventDefault(),!this._scrollCheck){var o=this.elementSorting.call(this,this.data.lyteQuerySelector),i=this.getData("lyteGridStack");o.previousPosFind||(o.previousPosFind=!0,this.getMethods("onDragStart")&&this.executeMethod("onDragStart",this.retNode(o.SelectedNodes,i),this.$node));for(var l=0;l<o.SelectedNodes.length;l++){var a,n,r,s,d=!0,p=[],c=[],h=i[o.SelectedNodes[l]].nodeName,u=h.xPos,y=h.yPos,m=t.querySelectorAll(this.data.ltPropHandler).e,g=this.rtlfunc(e.clientX,"clientX"),f=e.clientY,v=this.data.gridLength,D=(this.data.ltPropGridHeight,this.data.xElements),b=this.data.yElements,P=this.data.ltPropUnitXCopy,C=this.data.ltPropUnitY,L=this.data.ltPropMarginTop,x=this.data.ltPropMarginLeftCopy,S=this.data.ltPropPrevent;h.offLeft=this.rtlfunc("offsetLeft",h),h.offTop=h.offsetTop,h.classList.add("lyteGridStackMove");var w=this.$node.getBoundingClientRect(),_=this.$node.scrollWidth,M=this.$node.scrollHeight,E=h.getBoundingClientRect(),T=window.innerWidth,R=this.$node.scrollLeft,k=this.$node.scrollTop,A=window.innerHeight;if(i[a=h.elemNum].length!=parseInt(h.getAttribute("lyte-grid-length"))||i[a].height!=parseInt(h.getAttribute("lyte-grid-height"))||h.offLeft<h.initialLeft&&h.offTop<h.initialTop?d=!0:i[a].x==parseInt(h.getAttribute("lyte-grid-x"))?d=!1:h.offTop>h.initialTop+C&&(d=!1),h.flag){n=g-u;var N=f-y;S.horizontal||(h.style[this.rtlfunc("left")]=n+"px",h.offLeft=n),S.vertical||(h.style.top=N+"px",h.offTop=N);var B=this.returnY(h);B!=i[a].x&&(s=!0),i[a].x=B>0?B:0,i[a].x=i[a].x>v-i[a].length?v-i[a].length:i[a].x,this.scrollCheckY.call(this,h,w,C,E,A,e,M,k),this.scrollCheckY.call(this,h,w,P,E,T,e,_,R,!0)}else{var I=i[a].minLength*P+(i[a].minLength-1)*x,F=i[a].maxLength*P+(i[a].maxLength-1)*x,q=i[a].minHeight*C+(i[a].minHeight-1)*L,$=i[a].maxHeight*C+(i[a].maxHeight-1)*L;if(!S.horizontal&&-1!=["right","BottomRight","topRight"].indexOf(h.value)&&h.xOff+g-this.rtlfunc(E,"bccr")>=P){var O=h.xOff+g-this.rtlfunc(E,"bccr");h.style.width=F>=I?Math.min(Math.max(O,I),F)+"px":Math.max(O,I)+"px",i[a].x=this.returnY(h),h.offLeft+parseInt(h.style.width)>v*P+(v+1)*x?i[a].x=v-i[a].length:i[h.elemNum].length=parseInt(((parseInt(h.style.width)+x)/(x+P)).toFixed(0))}else if(!S.horizontal&&-1!=["left","BottomLeft","topLeft"].indexOf(h.value)&&h.xOff+Math.abs(g-this.rtlfunc(E,"bccr")-E.width)>=P){(V=E.width-(-h.xOff+g-this.rtlfunc(E,"bccr")))>0&&V>=I&&(V<=F||F<0)&&(h.style.width=V+"px",h.style[this.rtlfunc("left")]=-h.xOff+g-this.rtlfunc(E,"bccr")+h.offLeft+"px",h.offLeft=parseInt(h.style[this.rtlfunc("left")]));var H=this.returnY(h);h.offLeft+(h.style.width?parseInt(h.style.width):E.width)>v*P+(v+1)*x?H=v-i[a].length:i[h.elemNum].length+=i[a].x-H,i[a].x=H}if(i[a].x=i[a].x>v-i[a].length?v-i[a].length:i[a].x,!S.vertical&&-1!=["BottomRight","BottomLeft","bottom"].indexOf(h.value)&&h.yOff+f-E.top>=C){var Y=h.yOff+f-E.top;h.style.height=$>=q?Math.min(Math.max(Y,q),$)+"px":Math.max(Y,q)+"px",i[h.elemNum].height=parseInt((((h.style.height?parseInt(h.style.height):E.height)+L)/(L+C)).toFixed(0))}else if(!S.vertical&&-1!=["top","topRight","topLeft"].indexOf(h.value)&&h.yOff+Math.abs(f-E.top-E.height)>=C){var V;(V=E.height-(-h.yOff+f-E.top))>0&&V>=q&&(V<=$||$<0)&&(h.style.height=V+"px",h.style.top=-h.yOff+f-E.top+h.offTop+"px",h.offTop=parseInt(h.style.top));H=this.returnY(h,!0);H=Math.max(H,0),i[h.elemNum].height+=i[a].y-H,i[a].y=H}this._parentGrid&&(h._percentHeight=100*(h.style.height?parseInt(h.style.height):E.height+2*L)/w.height+"%",h._percentLength=100*(h.style.width?parseInt(h.style.width):E.width+2*x)/w.width+"%")}var U=this.bottomElementsCount.call(this,h,"horizontal"),W=this.bottomElementsCount.call(this,h,"vertical");if(h.initialTop>h.offTop&&!S.vertical?this.verticalMoveBottomToTop.call(this,t,h):h.initialTop<h.offTop&&!S.vertical&&this.verticalMoveTopToBottom.call(this,t,h),S.horizontal||(0!=W[0]&&h.offLeft>h.initialLeft||!h.flag||0!=W[1]&&h.initialLeft>h.offLeft&&i[h.elemNum].height<=parseInt(h.getAttribute("lyte-grid-height"))||i[a].length>h.dataSet["lyte-grid-length-old"]&&i[h.elemNum].height<=parseInt(h.getAttribute("lyte-grid-height")))&&(this.topCheck.call(this,h,t),this.getData("ltPropFloat")||this.topMoveFunc.call(this,h,null,null,null,!0)),!S.vertical&&(d||0==U[0]&&h.initialTop<h.offTop||0==U[1]&&h.initialTop>h.offTop||!this.getData("ltPropFloat"))){var z=parseInt(((h.offTop-L)/(C+L)).toFixed(0));-1!=["top","topLeft","topRight"].indexOf(h.value)?i[a].y=z:0==U[0]&&h.initialTop<h.offTop?i[a].y<=z&&(i[a].y=z):0==U[1]&&h.initialTop>h.offTop&&i[a].y>=z&&(i[a].y=z),i[a].y=i[a].y>0?i[a].y:0}if(s||i[h.elemNum].x!=parseInt(h.getAttribute("lyte-grid-x"))||i[h.elemNum].length!=parseInt(h.getAttribute("lyte-grid-length"))||i[h.elemNum].height!=parseInt(h.getAttribute("lyte-grid-height"))){this.valueUpdating.call(this,a,"x","lyte-grid-x"),this.valueUpdating.call(this,a,"y","lyte-grid-y"),this.valueUpdating.call(this,a,"length","lyte-grid-length"),this.valueUpdating.call(this,a,"height","lyte-grid-height"),this.positionFind.call(this,m);var j,X=0;i=this.getData("lyteGridStack");for((h.initialLeft>h.offLeft||h.initialLeft<h.offLeft||h.dataSet["lyte-grid-length-old"]>i[h.elemNum].length)&&(p=D[i[h.elemNum].x].concat(D[i[h.elemNum].x+i[h.elemNum].length])),c=this.yElementsFind.call(this,i[h.elemNum].y+i[h.elemNum].height,o.MaxBottom,b),-1!=(p=this.multipleRemoval.call(this,this.similarData.call(this,p,c))).indexOf(h.elemNum)&&Lyte.arrayUtils(p,"removeAt",p.indexOf(h.elemNum)),j=0;j<p.length;j++)if(i[h.elemNum].y+i[h.elemNum].height<=i[p[j]].y+1&&(h.initialLeft>h.offLeft&&i[p[j]].x==i[h.elemNum].x+i[h.elemNum].length||h.initialLeft<h.offLeft&&i[h.elemNum].x==i[p[j]].x+i[p[j]].length||h.dataSet["lyte-grid-length-old"]-i[h.elemNum].length==1)&&(r=this.heightGet.call(this,i[p[j]].nodeName))){!1,X=i[p[j]].y,i[p[j]].y=i[p[j]].y-(this.getData("ltPropFloat")&&i[p[j]].y-r<i[h.elemNum].y?i[p[j]].y-i[h.elemNum].y:r),this.valueUpdating.call(this,p[j],"y","lyte-grid-y"),this.positionFind.call(this,m),this.topMoveFunc.call(this,i[p[j]].nodeName,X,!1,h),this.displayGrid.call(this,h.elemNum);break}(i[h.elemNum].y<parseInt(h.getAttribute("lyte-grid-y"))||h.initialTop-h.offTop>parseInt(L))&&!this.getData("ltPropFloat")&&this.topMoveFunc.call(this,h,parseInt(h.getAttribute("lyte-grid-y")),!1,h),i[h.elemNum].height>h.dataSet["lyte-grid-height-old"]&&!h.flag?(o.verticalMove=!1,h.setAttribute("lyte-grid-height",i[h.elemNum].height),this.verticalCheck.call(this,i[h.elemNum],i[h.elemNum].y+i[h.elemNum].height,i[h.elemNum].y+i[h.elemNum].height,h,!0),this.displayGrid.call(this,h.elemNum)):i[h.elemNum].height<h.dataSet["lyte-grid-height-old"]&&!h.flag&&(o.verticalMove=!1,h.setAttribute("lyte-grid-height",i[h.elemNum].height),this.topMoveFunc.call(this,h,i[h.elemNum].y,!0),this.displayGrid.call(this,h.elemNum)),e.preventDefault(),this.getData("ltPropFloat")||this.topMoveAllGrid.call(this,h,i)}r=this.getData("ltPropFloat")?0:this.heightGet.call(this,h),this.getMethods("onDrag")&&this.executeMethod("onDrag",h,e,this.$node)}var G=this._bestfit;if(G&&h&&this.getData("ltPropBestfit")&&1==o.SelectedNodes.length){var K=this.getData("ltPropBestfitType");if(G.style[this.rtlfunc("left")]=i[h.elemNum].x*P+(i[h.elemNum].x+1)*x+"px",G.style.top=(i[h.elemNum].y-r)*C+(i[h.elemNum].y+1-r)*L+"px",G.style.width=i[h.elemNum].length*P+(i[h.elemNum].length-1)*x+("grid"==K?x:0)+"px",G.style.height=i[h.elemNum].height*C+(i[h.elemNum].height-1)*L+("grid"==K?L:0)+"px",G.style.display="block","grid"==K){var Q=this.getData("ltPropGridSpaceColor");G.style.backgroundImage="linear-gradient(to right,"+Q+" "+x+"px,transparent 0px),linear-gradient(to bottom,"+Q+" "+L+"px,transparent 0px)",G.style.backgroundSize=x+P+"px "+(C+L)+"px",G.style.transform="translate(-"+(this.data.direction?0:x)+"px,-"+L+"px)"}}}},topMoveAllGrid:function(t,e){for(var o=this.getData("yElements"),i=t.constructor==Number?t:e[t.elemNum].y+e[2*t.elemNum.height],l=this.similarData(this.elementSorting(this.yElementsFind(t.constructor==Number?t:e[t.elemNum].y+e[t.elemNum].height,Math.min(this.getData("lyteQuerySelector").MaxBottom,isNaN(i)?this.getData("lyteQuerySelector").MaxBottom:i),o))),a=0;a<l.length;a++)if(l[a]!=t.elemNum){var n=this.heightGet.call(this,e[l[a]].nodeName);n&&(e[l[a]].y=e[l[a]].y-n,this.valueUpdating.call(this,l[a],"y","lyte-grid-y"),this.topMoveFunc.call(this,e[l[a]].nodeName,e[l[a]].y),this.displayGrid.call(this,l[a],!0))}},verticalMoveBottomToTop:function(t,e){$L.fastdom.measure(function(){var o,i,l=[],a=0,n=[],r=this.getData("ltPropFloat"),s=this.getData("ltPropMarginTop"),d=this.getData("lyteGridStack");n=this.elementCheck.call(this,t,e),o=d[e.elemNum].y,i=this.getData("yElements")[o];var p=e.offTop;for(i&&(n=this.similarData.call(this,n,i)),-1!=n.indexOf(e.elemNum)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e.elemNum)),h=0;h<n.length;h++){var c=d[n[h]].nodeName.offsetTop;p<c+d[n[h]].nodeName.offsetHeight-.5*s&&p>c+s&&d[e.elemNum].y==d[n[h]].y+d[n[h]].height&&e.initialTop>p&&(l[l.length]=n[h])}if(l.length){l=this.elementSorting.call(this,l||[]),this._occupied=l.slice();for(var h=0;h<l.length;h++){a=this.heightGet.call(this,e,d[l[h]].nodeName),r&&(a=d[l[h]].height>a?a:d[l[h]].height);var u=d[l[h]].y+d[l[h]].height;-1==["top","topLeft","topRight"].indexOf(e.value)&&(d[e.elemNum].y=u-a,this.valueUpdating.call(this,e.elemNum,"y","lyte-grid-y"));var y=d[e.elemNum].y+d[e.elemNum].height<d[l[h]].y-this.heightGet.call(this,d[l[h]].nodeName)?d[l[h]].y-this.heightGet.call(this,d[l[h]].nodeName):d[e.elemNum].y+d[e.elemNum].height;this.verticalCheck.call(this,d[l[h]],u,y+d[l[h]].height,e,!0),d[l[h]].y=y,this.valueUpdating.call(this,l[h],"y","lyte-grid-y"),(!r||h==l.length-1&&0!=h)&&this.topMoveFunc.call(this,e,d[e.elemNum].y+a,!1),r||this.topMoveFunc.call(this,d[l[h]].nodeName,d[l[h]].y,!0)}delete this._occupied,this.displayGrid.call(this)}}.bind(this))},verticalMoveTopToBottom:function(t,e){$L.fastdom.measure(function(){var o,i,l,a=[],n=[],r=0,s=this.getData("lyteGridStack"),d=this.getData("ltPropUnitY");for(n=this.elementCheck.call(this,t,e),i=s[e.elemNum].y,(l=this.getData("yElements")[i+s[e.elemNum].height])&&(n=this.similarData.call(this,n,l)),-1!=n.indexOf(e.elemNum)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e.elemNum)),o=0;o<n.length;o++){var p=s[n[o]].nodeName.offsetTop,c=s[n[o]].nodeName.offsetHeight,h=this.rtlfunc("offsetLeft",s[n[o]].nodeName),u=s[n[o]].nodeName.offsetWidth,y=e.offsetHeight;e.offTop>p+(this.getData("ltPropHitBottom")?c-parseInt(this.getData("ltPropMarginTop")):parseInt(this.getData("ltPropMarginTop"))-y)&&e.initialTop<=e.offTop&&h+u>e.initialLeft&&e.initialLeft+e.clientWidth>h&&(e.initialTop+y<p||e.initialTop>p+c)&&(a[a.length]=n[o])}if(a.length){var m=[];for(o=0;o<a.length;o++)m.push(s[a[o]].height+s[a[o]].y);for(var g=m.reduce(function(t,e){return Math.max(t,e)}),f=0;f<a.length;f++)this.getData("ltPropFloat")?(s[e.elemNum].y=parseInt(((e.offsetTop-d)/(d+parseInt(this.getData("ltPropMarginTop")))).toFixed(0)),this.verticalCheck.call(this,s[e.elemNum],parseInt(e.getAttribute("lyte-grid-y"))+s[e.elemNum].height,s[e.elemNum].y+s[e.elemNum].height,e,!0)):((r=this.heightGet.call(this,s[a[f]].nodeName,e))&&(s[a[f]].y-=r,this.valueUpdating.call(this,a[f],"y","lyte-grid-y"),g=0==f?s[a[f]].height+s[a[f]].y:s[a[f]].height+s[a[f]].y>s[a[f-1]].height+s[a[f-1]].y?s[a[f]].height+s[a[f]].y:s[a[f-1]].height+s[a[f-1]].y),s[e.elemNum].y=g,o!=a.length-1&&0==o||this.topMoveFunc.call(this,s[a[f]].nodeName));this.valueUpdating.call(this,e.elemNum,"y","lyte-grid-y"),this.verticalCheck.call(this,s[e.elemNum],parseInt(e.getAttribute("lyte-grid-y"))+s[e.elemNum].height,s[e.elemNum].y+s[e.elemNum].height,s[e.elemNum].nodeName,!0),this.displayGrid.call(this)}}.bind(this))},heightGet:function(t,e,o){if(t.elemNum>=0){var i,l,a=[],n=0,r=[],s=[],d=this.getData("lyteGridStack");e||(e=t);var p=this.getData("xElements"),c=this.getData("yElements");r=d[t.elemNum].length>1?this.yElementsFind(d[t.elemNum].x+1,d[t.elemNum].length+d[t.elemNum].x-1,p):this.similarData.call(this,p[d[t.elemNum].x],p[d[t.elemNum].x]);for(var h=d[t.elemNum].y+d[t.elemNum].height-1;h>=0;h--)s=this.yElementsFind(0,d[t.elemNum].y+d[t.elemNum].height-1,c);for(-1!=(r=this.multipleRemoval(this.elementSorting.call(this,this.similarData.call(this,r,s)))).indexOf(t.elemNum)&&Lyte.arrayUtils(r,"removeAt",r.indexOf(t.elemNum)),i=0;i<r.length;i++)(r[i]!=e.elemNum||o)&&d[t.elemNum].y>=d[r[i]].y&&(d[r[i]].x>d[t.elemNum].x&&d[r[i]].x<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x+d[r[i]].length>d[t.elemNum].x&&d[r[i]].x+d[r[i]].length<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x>d[t.elemNum].x&&d[r[i]].x+d[r[i]].length<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x<d[t.elemNum].x&&d[r[i]].x+d[r[i]].length>d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x==d[t.elemNum].x||d[r[i]].x+d[r[i]].length==d[t.elemNum].length+d[t.elemNum].x)&&(a[a.length]=r[i]);for(l=0;l<a.length;l++)0==l?n+=-d[a[0]].y-d[a[0]].height+d[t.elemNum].y:-d[a[l]].y-d[a[l]].height+d[t.elemNum].y<n&&(n=-(d[a[l]].y+d[a[l]].height-d[t.elemNum].y));return 0==a.length&&(n=d[t.elemNum].y),n<0&&(n=0),n}},topMoveFunc:function(t,e,o,i,l){var a,n,r=[],s=this.getData("lyteQuerySelector"),d=s.occupied,p=s.element,c=this.getData("lyteGridStack");for(d.push(t.elemNum),i=i||t,-1!=(r=this.elementSorting.call(this,this.elementCheck.call(this,p,t,l))).indexOf(t.elemNum)&&Lyte.arrayUtils(r,"removeAt",r.indexOf(t.elemNum)),d=d.concat(r),a=0;a<r.length;a++)c[r[a]].nodeName.classList.contains("gridSelected")||(c[t.elemNum].x>=c[r[a]].x&&c[t.elemNum].x+c[t.elemNum].length<=c[r[a]].x||c[t.elemNum].x+c[t.elemNum].length>=c[r[a]].x&&c[t.elemNum].x+c[t.elemNum].length<=c[r[a]].x+c[r[a]].length||c[t.elemNum].x>c[r[a]].x||c[t.elemNum].x+c[t.elemNum].length>c[r[a]].x+c[r[a]].length)&&(c[t.elemNum].y+c[t.elemNum].height<=c[r[a]].y+c[r[a]].height||o)&&(n=this.heightGet.call(this,c[r[a]].nodeName,null,!o),c[r[a]].y=c[r[a]].y-n,this.valueUpdating.call(this,r[a],"y","lyte-grid-y"),this.positionFind.call(this),n&&(this.topMoveFunc.call(this,c[r[a]].nodeName,c[r[a]].y+n,o,i),o||this.displayGrid.call(this,i.elemNum)))},elementSorting:function(t,e){var o;o=e?"x":"y";for(var i=this.getData("lyteGridStack"),l=0;l<t.length;l++)for(var a=l+1;a<t.length;a++)if(i[t[l]][o]>i[t[a]][o]){var n=t[l];t[l]=t[a],t[a]=n}return t},topCheck:function(t,e,o,i,l,a){var n,r,s,d=!1,p=[],c=[],h=[],u=0,y=this.getData("lyteGridStack"),m=this.getData("xElements"),g=this.getData("yElements");for(r=y[t.elemNum].y,c=y[t.elemNum].length>1?this.elementSorting(this.multipleRemoval(this.yElementsFind.call(this,y[t.elemNum].x+1,y[t.elemNum].x+y[t.elemNum].length-1,m))):this.similarData.call(this,m[y[t.elemNum].x],m[y[t.elemNum].x+1]),(h=y[t.elemNum].height>1?this.yElementsFind(r+1,y[t.elemNum].y+y[t.elemNum].height-1,g):this.similarData.call(this,g[y[t.elemNum].y],g[y[t.elemNum].y+1]))&&(c=this.similarData.call(this,c,this.multipleRemoval.call(this,h))),-1!=(c=this.elementSorting.call(this,this.multipleRemoval.call(this,c))).indexOf(t.elemNum)&&Lyte.arrayUtils(c,"removeAt",c.indexOf(t.elemNum)),n=c.length-1;n>-1&&(o?y[t.elemNum].x==t.getAttribute("lyte-grid-x")&&y[t.elemNum].length==t.getAttribute("lyte-grid-length")||(d=!0):((y[t.elemNum].x+y[t.elemNum].length>y[c[n]].x&&y[t.elemNum].x<y[c[n]].x||y[t.elemNum].x<y[c[n]].x+y[c[n]].length&&y[c[n]].x+y[c[n]].length<=y[t.elemNum].x+y[t.elemNum].length)&&r+y[t.elemNum].height>y[c[n]].y&&r<y[c[n]].y||r<y[c[n]].y+y[c[n]].height&&y[c[n]].y+y[c[n]].height<r+y[t.elemNum].height||r>=y[c[n]].y&&y[c[n]].y+y[c[n]].height>=r+y[t.elemNum].height||y[c[n]].y+y[c[n]].height<r+y[t.elemNum].height&&r<y[c[n]].y)&&(d=!0),!d||y[c[n]].nodeName.classList.contains("gridSelected")||!(y[t.elemNum].x<=y[c[n]].x+y[c[n]].length-1||y[c[n]].x+1>=y[t.elemNum].x+y[t.elemNum].length)||(p[p.length]=c[n],u+=y[c[n]].height,"horizontal"==this.getData("ltPropDirection")||i));n--)d=!1;if(p.length){o||this.valueUpdating.call(this,t.elemNum,"x","lyte-grid-x"),p=this.elementSorting.call(this,p,!0);for(var f=0;f<p.length;f++){var v=this.heightGet.call(this,y[p[f]].nodeName),D=y[t.elemNum].height+y[t.elemNum].y-v;if(s=D,"horizontal"==this.getData("ltPropDirection")||l){if(f>0&&(parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-x"))+parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-length"))==this.getData("gridLength")||0==parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-x"))))break;this.rtlfunc("offsetLeft",t)>this.rtlfunc("offsetLeft",y[p[f]].nodeName)&&!l?this.horiMovement.call(this,t,p[f],"left",u,1==p.length||p.length>2&&1!=f,a):(this.rtlfunc("offsetLeft",t)<this.rtlfunc("offsetLeft",y[p[f]].nodeName)||l)&&this.horiMovement.call(this,t,p[f],"right",u,1==p.length||p.length>2&&1!=f,a)}else this.verticalCheck.call(this,y[p[f]],y[p[f]].y+y[p[f]].height,D+v+y[p[f]].height,t,y[t.elemNum].height<y[p[f]].height),y[p[f]].y=(s>y[t.elemNum].height+y[t.elemNum].y?s:y[t.elemNum].height+y[t.elemNum].y)-(this.getData("ltPropFloat")?0:this.heightGet.call(this,y[t.elemNum].nodeName)),this.valueUpdating.call(this,p[f],"y","lyte-grid-y");this.data.ltPropFloat||this.topMoveFunc.call(this,y[p[f]].nodeName,0==f||0!=y[p[f]].x&&y[p[f]].x+y[p[f]].length!=parseInt(this.data.gridLength)),this.displayGrid.call(this,t.elemNum)}}},horiMovement:function(t,e,o,i,l,a){var n=this.getData("lyteGridStack"),r=this.getData("lyteQuerySelector");if(n[e].x="left"==o?n[e].x-(a||1):n[e].x+(a||1),n[e].x<0||n[e].x+n[e].length>parseInt(this.getData("gridLength"))){n[e].x<0?n[e].x=0:n[e].x=parseInt(this.getData("gridLength"))-n[e].length,this.valueUpdating.call(this,e,"x","lyte-grid-x");var s=n[e].y+n[e].height;n[e].y=n[t.elemNum].y+n[t.elemNum].height;var d=this.getData("ltPropHandler");this.positionFind.call(this,this.scopeElement.querySelectorAll(d)),this.verticalCheck.call(this,n[e],s,n[t.elemNum].y+n[t.elemNum].height+n[e].height,t),this.valueUpdating.call(this,e,"y","lyte-grid-y"),this.displayGrid.call(this)}else{this.valueUpdating.call(this,e,"x","lyte-grid-x"),n[e].nodeName.initialLeft=[],n[e].nodeName.initialTop=[];for(var p=0;p<3;p++)n[e].nodeName.initialLeft[p]=this.rtlfunc("offsetLeft",n[e].nodeName),n[e].nodeName.initialTop[p]=n[e].nodeName.offsetTop;if(this.topCheck.call(this,n[e].nodeName,r.element,!0,null,!!a,a),l){var c=this.heightGet.call(this,n[e].nodeName);this.getData("ltPropFloat")||(n[e].y-=c,c&&this.topMoveFunc.call(this,n[e].nodeName))}this.displayGrid.call(this)}},verticalCheck:function(t,e,o,i,l,a){var n,r=[],s=[],d=!1,p=!1,c=[],h=[],u=[],y=this.getData("lyteGridStack");i=i||t.nodeName;var m=this.getData("xElements"),g=this.getData("yElements"),f=this.scopeElement;s="left"==a?s.concat(m[t.x]||[]):"right"==a?s.concat(m[t.x+t.length]||[]):t!=y[i.elemNum]?t.length>1?this.yElementsFind(t.x+1,t.x+t.length-1,m):this.similarData.call(this,m[t.x]||[],m[t.x+1]||[]):this.elementCheck.call(this,f,t.nodeName),s=this.multipleRemoval.call(this,s);for(var v=o-t.height;v<=o;v++)c=c.concat(g[v]||[]);for(c&&(s=this.similarData.call(this,s,this.multipleRemoval.call(this,c))),-1!=(s=this.elementSorting.call(this,s)).indexOf(t.nodeName.elemNum)&&Lyte.arrayUtils(s,"removeAt",s.indexOf(t.nodeName.elemNum)),-1!=s.indexOf(i.elemNum)&&Lyte.arrayUtils(s,"removeAt",s.indexOf(i.elemNum)),a&&(this.similarData.call(this,s,g[t.y+t.height].concat(g[t.y])).length||(s=[])),L=0;L<s.length;L++)s[L]!=t.nodeName.elemNum&&s[L]!=i.elemNum&&(l&&t.y==y[s[L]].y&&(p=!0),t.y<y[s[L]].y+y[s[L]].height||p?(r[r.length]=s[L],d=!0):l&&y[s[L]].y+y[s[L]].height>=t.y+t.height&&(r[r.length]=s[L],d=!0)),d&&(d=!1,h.push(y[r[r.length-1]].height+y[r[r.length-1]].y),r.length>1&&u.push(y[r[r.length-1]].y-(y[r[0]].y+y[r[0]].height)));if(r.length){r=this.elementSorting.call(this,r),n=o;var D=[],b=[];o=Math.max.apply(null,h)-y[r[0]].y+n;for(var P=0;P<r.length;P++){var C=this.heightGet.call(this,y[r[P]].nodeName);if(0==P){if(n<=y[r[P]].y&&l)break;y[r[P]].y-n<1&&(y[r[P]].y=n,C=this.heightGet.call(this,y[r[P]].nodeName),y[r[P]].y-C>=n&&(y[r[P]].y-=C))}else y[r[P]].y=y[r[0]].y+y[r[0]].height+u[P-1],C=this.heightGet.call(this,y[r[P]].nodeName),y[r[P]].y-C>=n&&(y[r[P]].y-=C);this.valueUpdating.call(this,r[P],"y","lyte-grid-y")}D=this.yElementsFind.call(this,Math.min(t.x,y[i.elemNum].x),Math.max(t.x+t.length,y[i.elemNum].x+y[i.elemNum].length),m);for(var L=(D=this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,D,r)))).length-1;L>=0;L--){b=[];var x=[];for(P=y[D[L]].x+1;P<y[D[L]].x+y[D[L]].length;P++)b=b.concat(m[P]);1==y[D[L]].length&&(b=this.similarData.call(this,m[y[D[L]].x],m[y[D[L]].x+1])),x=l?this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,b,this.yElementsFind.call(this,parseInt(y[D[L]].nodeName.getAttribute("lyte-grid-y"))+1,parseInt(y[D[L]].nodeName.getAttribute("lyte-grid-y"))+y[D[L]].height,g)))):this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,b,this.yElementsFind.call(this,parseInt(y[D[L]].nodeName.getAttribute("lyte-grid-y"))+1,parseInt(y[D[L]].nodeName.getAttribute("lyte-grid-y"))+y[D[L]].height,g)).concat(this.similarData.call(this,b,this.yElementsFind.call(this,parseInt(y[D[L]].y)+1,parseInt(y[D[L]].y)+y[D[L]].height,g)))));for(var S=0;S<x.length;S++)if(-1==r.indexOf(x[S])&&t.nodeName.elemNum!=x[S]&&i.elemNum!=x[S]){if(this._occupied&&-1!=this._occupied.indexOf(x[S]))continue;this.additionalCheck.call(this,x[S],y[D[L]].y+y[D[L]].height,r)}}}},yElementsFind:function(t,e,o){for(var i=[],l=t;l<=e;l++)i=i.concat(o[l]||[]);return i},additionalCheck:function(t,e,o){var i=this.getData("xElements"),l=this.getData("yElements"),a=this.getData("lyteGridStack"),n=[],r=[],s=e,d=t;n=n.concat(this.yElementsFind.call(this,parseInt(a[t].nodeName.getAttribute("lyte-grid-y"))+a[t].height,a[t].y+a[t].height,l)),r=a[t].length>1?(r=r.concat(i[a[t].x+1])).concat(i[a[t].x+a[t].length-1]):r.concat(this.similarData.call(this,i[a[t].x],i[a[t].x+1])),-1!=(n=this.similarData.call(this,n,r)).indexOf(t)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(t));for(var p=0;p<n.length;p++)-1==o.indexOf(n[p])&&(o.push(n[p]),this.additionalCheck.call(this,n[p],e+a[t].height,o));if(a[d].y>s){var c=this.heightGet.call(this,a[d].nodeName);a[d].y-c<=s?a[d].y=s:a[d].y-=c}else a[d].y=s;o.push(d),this.valueUpdating.call(this,d,"y","lyte-grid-y")},previousPos:function(t,e){if(t&&t.length){for(var o=this.getData("lyteGridStack"),i=this.getData("lyteQuerySelector"),l=0;l<t.length;l++)i.currentPos<o[l].oldX.length&&(Lyte.arrayUtils(o[l].oldX,"remove",i.currentPos+1,o[l].oldX.length),Lyte.arrayUtils(o[l].oldY,"remove",i.currentPos+1,o[l].oldY.length),Lyte.arrayUtils(o[l].oldLength,"remove",i.currentPos+1,o[l].oldLength.length),Lyte.arrayUtils(o[l].oldHeight,"remove",i.currentPos+1,o[l].oldHeight.length)),o[l].oldX[o[l].oldX.length]=e?o[l].x:o[l].nodeName.getAttribute("lyte-grid-x"),o[l].oldY[o[l].oldY.length]=e?o[l].y:o[l].nodeName.getAttribute("lyte-grid-y"),o[l].oldLength[o[l].oldLength.length]=e?o[l].length:o[l].nodeName.getAttribute("lyte-grid-length"),o[l].oldHeight[o[l].oldHeight.length]=e?o[l].height:o[l].nodeName.getAttribute("lyte-grid-height");i.currentPos=o[0].oldX.length-1}},mousedown:function(t){if(!this.getData("ltPropFreezeMode")){var e=this.data.lyteQuerySelector,o=this,i=this.data.lyteGridStack,l=this.nodeName.call(this,t);if(l){this.mvefunc=this.mMove.bind(this),this.upfunc=this.mouseup.bind(this),t.stopPropagation();var a=l[0],n=l[1],r=this.$node.querySelector(this.data.ltPropScope);if(t.shiftKey){if(!e.allowMovement){this.getMethods("onBeforeSelect")&&(s=this.executeMethod("onBeforeSelect",l[1],t,this.$node)),0!=s&&((n=l[1]).initialLeft=[],n.initialTop=[],n.classList.contains("gridSelected")?n.classList.remove("gridSelected"):n.classList.add("gridSelected"))}}else if(e.BottomToTopFlag=!0,e.allowMovement=!0,this.mvefunc=this.mMove.bind(this),0==r.querySelectorAll(this.data.ltPropHandler+".gridSelected").length){var s;if(this.getMethods("onBeforeSelect")&&(s=this.executeMethod("onBeforeSelect",l[1],t,this.$node)),n&&0!=s){if(e.SelectedNodes=[],$L.fastdom.mutate(function(){n.classList.add("gridSelected")}),$L.fastdom.measure(function(){if(e.SelectedNodes.push(n.elemNum),e.element=r,n.initialLeft=this.rtlfunc("offsetLeft",n),n.initialTop=n.offsetTop,n.initialy=i[n.elemNum].y,n.initialx=i[n.elemNum].x,n.xPos=this.rtlfunc(t.clientX,"clientX")-this.rtlfunc("offsetLeft",n),n.yPos=t.clientY-n.offsetTop,"content"==a)n.flag=!0;else{n.value=a;var o=n.getBoundingClientRect();-1!=["BottomRight","right","topRight"].indexOf(a)?n.xOff=this.rtlfunc(o,"bccr")+o.width-this.rtlfunc(t.clientX,"clientX"):n.xOff=-this.rtlfunc(o,"bccr")+this.rtlfunc(t.clientX,"clientX"),-1!=["BottomRight","bottom","BottomLeft"].indexOf(a)?n.yOff=o.top+o.height-t.clientY:n.yOff=-o.top+t.clientY,n.flag=!1}}.bind(this)),this.getData("ltPropBestfit")&&!this._bestfit){var d=this.getData("ltPropBestfitClass"),p=document.createElement("div");p.classList.add("lyteBestFit"),"grid"==this.getData("ltPropBestfitType")&&p.classList.add("lyteGrid"),d&&p.classList.add(d),p.style.display="none",this._bestfit=p,$L.fastdom.mutate(function(){r.appendChild(p)})}document.body.addEventListener("mousemove",this.mvefunc,!0),this.getMethods("onSelect")&&this.executeMethod("onSelect",n,t,this.$node)}}else{e.SelectedNodes=[];n=this.$node.querySelectorAll(this.data.ltPropHandler+".gridSelected");$L.fastdom.measure(function(){for(var i=0;i<n.length;i++)e.SelectedNodes.push(r.querySelectorAll(o.getData("ltPropHandler")+".gridSelected")[i].elemNum),n[i].left=n[i].offsetLeft,n[i].top=n[i].offsetTop,n[i].flag=!0,n[i].initialLeft=n[i].offsetLeft,n[i].initialTop=n[i].offsetTop,n[i].xPos=this.rtlfunc(t.clientX,"clientX")-n[i].offsetLeft,n[i].yPos=t.clientY-n[i].offsetTop;e.SelectedNodes=this.elementSorting.call(this,e.SelectedNodes)}.bind(this)),document.body.addEventListener("mousemove",this.mvefunc,!0),this.getMethods("onSelect")&&this.executeMethod("onSelect",n,t,this.$node)}e.previousPosFind=!1}t.preventDefault()}},mMove:function(t){this.mousemoveFun.call(this,this.scopeElement,t),t.stopPropagation(),t.preventDefault()},mouseup:function(t){var e,o=this.getData("lyteQuerySelector"),i=this.getData("lyteGridStack"),l=(this.nodeName.call(this,t),this.$node.querySelector(this.data.ltPropScope));this.elementSorting.call(this,o.elementCount);if(!t.shiftKey||o.allowMovement){var a,n,r=this._bestfit;if(o.verticalMove=!0,o.allowMovement=!1,o.SelectedNodes.length){for(n=this.$node.querySelectorAll(this.data.ltPropHandler+".gridSelected"),this.getMethods("onBeforeDrop")&&(a=this.executeMethod("onBeforeDrop",n,event,this.$node)),e=o.SelectedNodes.length-1;e>=0;e--){var s=i[o.SelectedNodes[e]].nodeName;if(s.classList.contains("gridSelected")){if(!this.getData("ltPropFloat")&&0!=a){var d=this.heightGet.call(this,s);i[s.elemNum].y-=d,this.topCheck.call(this,s,this.scopeElement),this.topMoveFunc.call(this,s,i[s.elemNum].y+d,!1)}this.displayGrid.call(this),s.classList.remove("gridSelected"),s.classList.remove("lyteGridStackMove"),s.style.removeProperty(this.rtlfunc("left")),s.style.removeProperty("top"),s.style.removeProperty("height"),s.style.removeProperty("width"),Lyte.arrayUtils(o.occupied,"remove",0,o.occupied.length),0!=a&&this.topCheck.call(this,s,l),0==s.flag&&s._childGrid&&setTimeout(s._childGrid.reRender,150,!0),delete s.initialy,delete s.xPos,delete s.yPos,delete s.flag,delete s.offLeft,delete s.offTop,delete s.initialx,delete s.instantPreviousX,delete s.instantPreviousY,delete s.val,delete s.xOff,delete s.yOff,delete s.initialLeft,delete s.initialTop,delete s.flag,delete s.value,delete s.prevEvX,delete s.prevEvY}r&&(r.style.display="none"),this.findGrid()}window.cancelAnimationFrame(this._reqId),delete this._reqId,delete this._scrollCheck,t.stopPropagation(),t.preventDefault()}if(0!=a){if(this.displayGrid.call(this),o.SelectedNodes.length&&o.previousPosFind){var p=this.data.ltPropHandler;this.previousPos.call(this,l.querySelectorAll(p))}this.getMethods("onDrop")&&this.executeMethod("onDrop",n,t,this.$node)}else o.currentPos+=1,this.undoPrevious.call(this);document.body.removeEventListener("mousemove",this.mvefunc,!0),o.SelectedNodes=[]}document.removeEventListener("mouseup",this.upfunc,!0)},keydown:function(t){document._lyteCurrentGrid==this&&this.getData("ltPropUndo")&&!this.getData("ltPropFreezeMode")&&((t.ctrlKey||t.metaKey)&&t.shiftKey&&90==t.keyCode?this.undoNext.call(this):!t.ctrlKey&&!t.metaKey||t.shiftKey||90!=t.keyCode||this.undoPrevious.call(this))},returnWid:function(t,e,o){if(t){if(t.constructor!=String)return t;var i,l,a,n=t.match(/[\w|.]+(?=%)/gi);return n&&n.length?(e?(a="width",i=this.getData("ltPropUnitXCopy")):(a="height",i=this.getData("ltPropUnitY"),l="ltPropMarginTop"),this.gridLength((this.bcrrelem?this.bcrrelem[a]:this.scopeElement.getBoundingClientRect()[a])*parseFloat(n[0])/100,i,l)):parseInt(t)}},initialPosFind:function(t){var e={},o=this.getData("ltPropForcedReposition");return e.x=t.getAttribute("lyte-grid-x")&&!o?parseInt(t.getAttribute("lyte-grid-x")):void 0,e.y=t.getAttribute("lyte-grid-y")&&!o?parseInt(t.getAttribute("lyte-grid-y")):void 0,e.length=t.getAttribute("lyte-grid-length")?this.returnWid(t.getAttribute("lyte-grid-length"),!0,t):this.returnWid(this.getData("ltPropDefaultLength"),!0),e.height=t.getAttribute("lyte-grid-height")?this.returnWid(t.getAttribute("lyte-grid-height"),null,t):this.returnWid(this.getData("ltPropDefaultHeight")),e},checkPreviousGrid:function(){for(var t=this.$node.parentElement;t&&"BODY"!=t.tagName;){if("LYTE-GRIDSTACK"==t.tagName){this._parentGrid=t,this._parentGridIndex=t.component._childGrids.length,t.component._childGrids.push(this.$node);break}"LYTE-GRID-CONTENT"==t.tagName&&(t.parentElement._childGrid=this.$node,this._parentComp=t.parentElement),t=t.parentElement}return!(!t||"LYTE-GRIDSTACK"!=t.tagName)},retNode:function(t,e){for(var o=[],i=0;i<t.length;i++)e[t[i]]&&o.push(e[t[i]].nodeName);return o},findGrid:function(){var t,e,o=this.$node.getBoundingClientRect(),i=this.getData("lyteGridStack"),l=this.$node.scrollLeft,a=this.$node.scrollTop,n=l+o.width,r=a+o.height,s={left:this.returnY({offLeft:l}),top:this.returnY({offTop:a},!0),right:this.returnY({offLeft:n}),bottom:this.returnY({offTop:r},!0)};this.setData("ltPropVisibleBoundary",s),t=this.similarData(this.multipleRemoval(this.yElementsFind(s.top+1,s.bottom-1,this.getData("yElements"))),this.multipleRemoval(this.yElementsFind(s.left+1,s.right-1,this.getData("xElements")))),e=this.retNode(t,i),this.setData("ltPropVisible",e)},scroll:function(t){this.findGrid(),this.getMethods("onScroll")&&this.executeMethod("onScroll",this.getData("ltPropVisible"),this.getData("ltPropVisibleBoundary"),this.$node)},click:function(t){var e=this.data.ltPropGridSelectionClass;if(e){for(var o=this.nodeName(t),i=this.$node.querySelectorAll("."+e),l=0;l<i.length;l++)i[l].classList.remove(e);o&&o.classList.add(e)}},didConnect:function(){var t=this.data.ltPropScope.trim(),e=this.data.ltPropUnitX,o=this.data.ltPropMarginLeft;this.setData("ltPropUnitXCopy",e),this.setData("ltPropMarginLeftCopy",o),this._scroll=this.scroll.bind(this),this._click=this.click.bind(this),this.$node.addEventListener("scroll",this._scroll,!0),document.addEventListener("click",this._click);var i=this.$node.querySelector(t);this.data.lyteQuerySelector;this.scopeElement=i,i.classList.add("lyteGridstackScope"),-1==i.tabIndex&&(i.tabIndex=0),i.lyteData={},i.component=this,i.addEventListener("mousedown",function(t){t.target!=this&&2!=t.button&&(this.component.mousedown.call(this.component,t),t.shiftKey||document.addEventListener("mouseup",this.component.upfunc,!0),t.stopPropagation()),document._lyteCurrentGrid=this.component}),this.setData("lyteQuerySelector.keydown",this.keydown.bind(this)),document.addEventListener("keydown",this.getData("lyteQuerySelector").keydown),this.$node.getEmptyPos=function(t){return this.emptySpaceFind.call(this,t||{})}.bind(this),this.$node.addGrid=function(t,e){$L.fastdom.mutate(function(){t._addGrid=!0;var o=this.getData("ltPropColumnMode");e=void 0!=e?e:{};var i=parseInt(t.getAttribute("lyte-grid-x")),l=parseInt(t.getAttribute("lyte-grid-y")),a=parseInt(t.getAttribute("lyte-grid-length")),n=parseInt(t.getAttribute("lyte-grid-height"));for(var r in isNaN(i)||(e.x=i),isNaN(l)||(e.y=l),isNaN(a)||(e.length=a),isNaN(n)||(e.height=n),e.length&&(e.length=this.returnWid(e.length,!0,t)),e.height&&(e.height=this.returnWid(e.height,null,t)),e)e[r]&&"resize"!=r&&(e[r]=parseInt(e[r]));if(e.nodeName=t,t.classList.add("lyteGridstackHandler"),!o){var s=this.emptySpaceFind.call(this,e);s[1]?(t.setAttribute("lyte-grid-x",s[0].x),t.setAttribute("lyte-grid-y",s[0].y)):(t.setAttribute("lyte-grid-x",void 0!=e.x&&e.x.constructor==Number?e.x:s[0].x),t.setAttribute("lyte-grid-y",void 0!=e.y&&e.y.constructor==Number?e.y:s[0].y)),t.setAttribute("lyte-grid-length",e.length?e.length:this.returnWid(this.getData("ltPropDefaultLength"),!0)),t.setAttribute("lyte-grid-height",e.height?e.height:this.returnWid(this.getData("ltPropDefaultHeight"))),t.setAttribute("lyte-grid-min-length",e.minLength?e.minLength:this.returnWid(this.getData("ltPropDefaultMinLength"),!0)),t.setAttribute("lyte-grid-min-height",e.minHeight?e.minHeight:this.returnWid(this.getData("ltPropDefaultMinHeight"))),t.setAttribute("lyte-grid-max-length",e.maxLength?e.maxLength:this.returnWid(this.getData("ltPropDefaultMaxLength"),!0)),t.setAttribute("lyte-grid-max-height",e.maxHeight?e.maxHeight:this.returnWid(this.getData("ltPropDefaultMaxHeight")))}"disabled"==e.resize&&t.setAttribute("lt-prop-resize",e.resize),this.scopeElement.contains(t)||LyteComponent.appendChild(this.scopeElement,t),this.initialValSet.call(this,!0),this.cssConstruct.call(this,t,"lyte-grid-y"),this.getData("iniData").push(this.initialPosFind.call(this,t));var d=this.getData("lyteGridStack");this.previousPos.call(this,d.length),$L.fastdom.mutate(function(){if(s&&0==s[1]&&!o){if(this.topCheck.call(this,t,this.scopeElement,null,!0),!this.getData("ltPropFloat")){this.topCheck.call(this,t,this.scopeElement,null,!0);var e=this.heightGet.call(this,t);e&&(d[t.elemNum].y-=e,this.valueUpdating.call(this,t.elemNum,"lyte-grid-y",d[t.elemNum].y),this.setVal.call(this,t,"lyte-grid-y",d[t.elemNum].y),this.previousPos.call(this,d.length)),this.topMoveFunc.call(this,t,null,null,null,!0)}this.findGrid()}t._childGrid&&t._childGrid.reRender(null,!0),this.getMethods("onItemAdd")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onItemAdd",t,this.data.lyteGridStack[t.elemNum],this.$node)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this),this.$node.removeGrid=function(t){if(this.scopeElement.contains(t)){var e=this.getData("ltPropHandler"),o=this.getData("lyteGridStack"),i=o[t.elemNum].y+o[t.elemNum].height;Lyte.arrayUtils(this.getData("iniData"),"removeAt",t.elemNum),document.body.contains(t)&&t.parentElement.removeChild(t),Lyte.arrayUtils(this.getData("lyteGridStack"),"remove",0,o.length),this.initialValSet.call(this),this.positionFind.call(this,(/^#/g.test(e)&&/\s/g.test(e),this.scopeElement.querySelectorAll(e))),this.findGrid(),this.topMoveAllGrid(i,o)}}.bind(this),this.$node.reRender=function(t){this._style&&(this.$node.removeChild(this._style),delete this._style);var e=this.getData("lyteGridStack");Lyte.arrayUtils(e,"remove",0,e.length),this.didConnectWrk.call(this,!0,t)}.bind(this),this.$node.setProperty=function(t,e,o){o="height"==e||"length"==e?this.returnWid(o,"length"==e,t):parseInt(o);var i=this.getData("lyteGridStack"),l=["x","y","length","height"],a={};if(-1!=l.indexOf(e)){for(var n in i[t.elemNum])-1!=l.indexOf(n)&&(a[n]=i[t.elemNum][n]);a[e]=o,a.nodeName=t;var r=this.emptySpaceFind.call(this,a);if(r[1])for(var s in r[0])this.setVal.call(this,t,"lyte-grid-"+s,r[0][s])}this.setVal.call(this,t,"lyte-grid-"+e,o);var d=e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()});if(i[t.elemNum][d]=o,-1!=l.indexOf(e)){if(this.valueUpdating.call(this,t.elemNum,"lyte-grid-"+e,o),this.previousPos.call(this,i.length),0==r[1]&&this.topCheck.call(this,t,this.scopeElement,null,!0),!this.getData("ltPropFloat")){var p=this.heightGet.call(this,t);p&&(i[t.elemNum].y-=p,this.valueUpdating.call(this,t.elemNum,"lyte-grid-y",i[t.elemNum].y),this.setVal.call(this,t,"lyte-grid-y",i[t.elemNum].y),this.previousPos.call(this,i.length)),this.topMoveFunc.call(this,t,null,null,null,!0)}this.previousPos.call(this,this.scopeElement.querySelectorAll(this.data.ltPropHandler))}t._childGrid&&("height"!=e&&"length"!=e||t._childGrid.reRender(!0)),this.findGrid(),this.getMethods("onPropertyChange")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onPropertyChange",t,e,this.data.lyteGridStack[t.elemNum],this.$node)}.bind(this))}.bind(this))}.bind(this),this._resizeFunc=this.windowResize.bind(this),this._initialWindowWidth=window.innerWidth,window.addEventListener("resize",this._resizeFunc,!0),this.checkPreviousGrid()||this.didConnectWrk.call(this,!0)},gridLength:function(t,e,o){o=o||"ltPropMarginLeftCopy";var i=parseInt(this.getData(o)),l=e||this.data.ltPropUnitX;return parseInt((((t||(this.bcrrelem?this.bcrrelem.width:this.scopeElement.getBoundingClientRect().width))-i)/(l+i)).toFixed(0))},columnModeLengthFind:function(){this._prevObs=!0;var t=this.getData("ltPropGridLength")||this.getData("ltPropColumn"),e=this.getData("ltPropMarginLeftCopy");e=e||this.getData("ltPropMarginLeft"),this.setData("ltPropUnitX",((this.bcrrelem?this.bcrrelem.width:this.scopeElement.getBoundingClientRect().width)-(t+1)*e)/t),delete this._prevObs},didConnectWrk:function(t,e){$L.fastdom.measure(function(){if(this.$node.offsetParent){this.data.direction=_lyteUiUtils.getRTL(),this.data.direction?this.$node.classList.add("lyteRTL"):this.$node.classList.remove("lyteRTL");var o=this.scopeElement.getBoundingClientRect(),i=this.scopeElement,l=this.getData("lyteQuerySelector");this.bcrrelem=o;var a=this.getData("ltPropColumnMode"),n=this.getData("ltPropHandler"),r=this.getData("iniData");this.getData("lyteGridStack");Lyte.arrayUtils(r,"remove",0,r.length);var s=(/^#/g.test(n)&&/\s/g.test(n),i.querySelectorAll(n));if(this._parentGrid&&!this.getData("ltPropGridLength")){var d=this.gridLength();this.setData("ltPropGridLength",d),this.setData("gridLength",d)}(a||this.getData("ltPropGridLength"))&&this.columnModeLengthFind(),(!this.getData("gridLength")||e||a)&&this.setData("gridLength",this.gridLength()),!this.$node.ltProp("gridHeight")&&!e||a?this.$node.ltProp("gridHeight",this.getData("gridLength")):e&&this.$node.ltProp("gridHeight",this.getData("gridLength"));for(var p=0;p<s.length;p++)r.push(this.initialPosFind.call(this,s[p]));$L.fastdom.mutate(this.initialValSet.bind(this));s=i.querySelectorAll(this.data.ltPropHandler);var c=this.data.ltPropUnitX;i.lyteData.gridLength=this.data.gridLength,i.lyteData.gridHeight=l.maxHeight,this._initialXRatio=c/(o.width-this.data.gridLength*this.data.ltPropMarginLeft),$L.fastdom.mutate(function(){if(this._childGrids.length)for(var e=0;e<this._childGrids.length;e++)this._childGrids[e].reRender();t&&this.getMethods("afterRender")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this)),this.findGrid()}.bind(this))}}.bind(this))},data:function(){return{ltPropScope:Lyte.attr("string",{default:""}),ltPropHandler:Lyte.attr("string",{default:""}),ltPropMarginLeft:Lyte.attr("number",{default:10}),ltPropMarginTop:Lyte.attr("number",{default:10}),ltPropUnitX:Lyte.attr("number",{default:50}),ltPropUnitY:Lyte.attr("number",{default:50}),ltPropResizeDirection:Lyte.attr("array",{default:["left","right","bottom","bottomRight","bottomLeft","top","topLeft","topRight"]}),ltPropFloat:Lyte.attr("boolean",{default:!1}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropUndo:Lyte.attr("boolean",{default:!0}),ltPropResize:Lyte.attr("boolean",{default:!0}),ltPropBestfit:Lyte.attr("boolean",{default:!0}),ltPropMinUnitX:Lyte.attr("number",{default:0}),ltPropMinMarginLeft:Lyte.attr("number",{default:0}),ltPropBestfitClass:Lyte.attr("string",{default:""}),ltPropFreezeMode:Lyte.attr("boolean",{default:!1}),ltPropDefaultLength:Lyte.attr("string",{default:"2"}),ltPropDefaultHeight:Lyte.attr("string",{default:"2"}),ltPropDefaultMinLength:Lyte.attr("string",{default:"1"}),ltPropDefaultMinHeight:Lyte.attr("string",{default:"1"}),ltPropDefaultMaxHeight:Lyte.attr("string",{default:"0"}),ltPropDefaultMaxLength:Lyte.attr("string",{default:"0"}),ltPropColumnMode:Lyte.attr("boolean",{default:!1}),ltPropColumn:Lyte.attr("number",{default:3}),ltPropPrevent:Lyte.attr("object",{default:{horizontal:!1,vertical:!1}}),ltPropGridLength:Lyte.attr("number",{default:void 0}),ltPropBestfitType:Lyte.attr("string",{default:"default"}),ltPropForcedReposition:Lyte.attr("boolean",{default:!1}),ltPropSquareGrid:Lyte.attr("boolean",{default:!1}),ltPropGridSpaceColor:Lyte.attr("string",{default:"#f8f8f8"}),ltPropHitBottom:Lyte.attr("boolean",{default:!1}),ltPropGridSelectionClass:Lyte.attr("string",{default:"lyteGridFocused"}),ltPropVisibleBoundary:Lyte.attr("object",{default:{}}),ltPropVisible:Lyte.attr("array",{default:[]}),gridLength:Lyte.attr("number",{default:void 0}),ltPropGridHeight:Lyte.attr("number",{default:void 0}),ltPropMarginLeftCopy:Lyte.attr("number",{default:10}),ltPropUnitXCopy:Lyte.attr("number",{default:50}),lyteGridStack:Lyte.attr("array",{default:[]}),elements:Lyte.attr("object",{default:void 0}),oriNode:Lyte.attr("object",{default:void 0}),xElements:Lyte.attr("array",{default:[]}),yElements:Lyte.attr("array",{default:[]}),iniData:Lyte.attr("array",{default:[]}),lyteQuerySelector:Lyte.attr("object",{default:{}}),direction:Lyte.attr("boolean",{default:!1})}},undoPrevious:function(){var t=this.getData("lyteGridStack"),e=this.getData("lyteQuerySelector"),o=this.scopeElement.querySelectorAll(this.data.ltPropHandler);if(e.currentPos<=t[t.length-1].oldHeight.length&&e.currentPos>=1){for(var i=0;i<o.length;i++)t[i].x=parseInt(t[i].oldX[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-x-old"]=t[i].x,t[i].y=parseInt(t[i].oldY[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-y-old"]=t[i].y,t[i].length=parseInt(t[i].oldLength[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-length-old"]=t[i].length,t[i].height=parseInt(t[i].oldHeight[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-height-old"]=t[i].height;this.displayGrid.call(this),e.currentPos=e.currentPos-1>=0?e.currentPos-1:0}},undoNext:function(){var t=this.getData("lyteGridStack"),e=this.getData("lyteQuerySelector"),o=this.scopeElement.querySelectorAll(this.data.ltPropHandler);if(e.currentPos<=t[t.length-1].oldHeight.length-1){for(var i=e.currentPos<t[t.length-1].oldHeight.length-1?e.currentPos+1:t[t.length-1].oldHeight.length-1,l=0;l<o.length;l++)t[l].x=parseInt(t[l].oldX[i]),t[l].nodeName.dataSet["lyte-grid-x-old"]=t[l].x,t[l].y=parseInt(t[l].oldY[i]),t[l].nodeName.dataSet["lyte-grid-y-old"]=t[l].y,t[l].length=parseInt(t[l].oldLength[i]),t[l].nodeName.dataSet["lyte-grid-length-old"]=t[l].length,t[l].height=parseInt(t[l].oldHeight[i]),t[l].nodeName.dataSet["lyte-grid-height-old"]=t[l].height;this.displayGrid.call(this),e.currentPos=i}},emptySpaceFind:function(t,e,o,i){var l=this.getData("lyteGridStack"),a=[],n=this.getData("gridLength"),r=this.getData("ltPropGridHeight");if(e)a=a.concat(o.slice());else{for(g=0;g<n;g++){a.push([]);for(var s=0;s<r;s++)a[g].push(!1)}for(g=0;g<l.length;g++)if(void 0!=l[g].x&&void 0!=l[g].y)for(var d=l[g].x;d<l[g].x+l[g].length;d++)for(var p=l[g].y;p<l[g].y+l[g].height;p++)l[g].nodeName!=t.nodeName&&void 0!=a[d]&&"res"!=a[d][p]?a[d][p]=!0:a[d]&&0==a[d][p]&&(a[d][p]="res")}t.length=void 0!=t.length?t.length:this.returnWid(this.getData("ltPropDefaultLength"),!0),t.height=void 0!=t.height?t.height:this.returnWid(this.getData("ltPropDefaultHeight"));for(var c,h=t.x?t.x:0,u=t.y?t.y:0,y=void 0==t.x||isNaN(t.x)?n+1-t.length:t.x+1,m=void 0==t.y||isNaN(t.x)?r-1:t.y,g=u;g<=m;g++)for(var f=h;f<y;f++){var v=!0;for(d=f;d<f+t.length;d++){for(var D=g;D<g+t.height;D++)if(a[d]&&1==a[d][D]){v=!1,D-g;break}if(!v)break}if(v&&f<n+1-t.length)return[{x:f,y:g},!e]}if(!e){var b={length:t.length,height:t.height,nodeName:t.nodeName};t.x&&!t.y&&(this.setData("ltPropGridHeight",r+t.height),b.x=t.x),c=this.emptySpaceFind.call(this,b,!0,a)}return c||(this.setData("ltPropGridHeight",r+t.height),c=this.emptySpaceFind.call(this,{length:t.length,height:t.height,nodeName:t.nodeName},!0,a,!0)),c.constructor==Array?c:[c,!1]}}),Lyte.Component.register("lyte-input",{_template:'<template tag-name="lyte-input">\n     <template is="switch" value="{{ltPropType}}">\n       <template case="password">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                    <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n               </template></template> \n            <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="{{ltPropType}}" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" style="{{ltPropStyle}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n        <template case="number">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="number" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onkeydown="{{action(\'numberKeydown\', event, this)}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" step="{{ltPropStep}}" max="{{ltPropMax}}" min="{{ltPropMin}}" title="{{ltPropInputTitle}}" onpaste="{{action(\'numberPaste\', event, this)}}" oninput="{{action(\'input\', event, this)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n         <template case="textarea">\n                <template is="if" value="{{ltPropLabel}}"><template case="true">\n                     <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n                </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                  <textarea autocomplete="{{ltPropAutocomplete}}" pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" id="{{ltPropId}}" class="{{ltPropClass}}" value="{{lbind(ltPropValue)}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}"></textarea>\n                   <template is="if" value="{{resize}}"><template case="true">\n                    <span class="lyteTextareaResize"></span>  \n                    </template></template>\n              </div>\n             </template>\n          <template case="date">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="text" id="{{ltPropId}}" class="{{ltPropClass}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" value="{{lbind(ltPropCurrentDate)}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}">\n              </div>\n            <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                  <template is="registerYield" yield-name="lyte-content">\n                      <div id="lyteCalendar" class="lyteInputCalendar lyteCalendarHidden {{ltPropCalendarClass}}" style="position: absolute;" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                          <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}">\n                             <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                <template is="registerYield" yield-name="footer">\n                                    <lyte-yield yield-name="footer"></lyte-yield>\n                                </template>\n                             </template></template>   \n                          </lyte-calendar> \n                      </div>\n                   </template>\n          </lyte-wormhole>\n          </template>\n         <template case="datetime">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" id="date" placeholder="{{ltPropPlaceholder}}" value="{{lbind(ltPropCurrentDate)}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" oninput="{{action(\'input\', event)}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{ltPropDefaultTime}}" id="time" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}">\n              </div>\n              <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                    <template is="registerYield" yield-name="lyte-content">\n                        <div id="lyteCalendar" class="lyteCalendarHidden {{ltPropCalendarClass}}" style="position: absolute;" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                            <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}">\n                               <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                  <template is="registerYield" yield-name="footer">\n                                      <lyte-yield yield-name="footer"></lyte-yield>\n                                  </template>\n                               </template></template>   \n                            </lyte-calendar> \n                        </div>\n                     </template>\n            </lyte-wormhole>\n             <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownCallout}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}">\n               <template is="registerYield" yield-name="yield">\n                  <lyte-drop-button style="display: none;"></lyte-drop-button>\n                  <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                    <lyte-drop-body>\n                      <template is="for" items="{{dropdownData}}" item="item" index="index">\n                          <lyte-drop-item data-value="{{item.time}}">\n                            <template is="if" value="{{ltPropYield}}"><template case="true">\n                                 <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                            </template><template case="false">\n                                <span>{{item.time}}</span>\n                                <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                   <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                 </template></template></template></template>\n                          </lyte-drop-item>\n                      </template>\n                    </lyte-drop-body>\n                  </lyte-drop-box>\n               </template>\n             </lyte-dropdown>\n          </template>\n         <template case="time">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{ltPropDefaultTime}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}">\n              </div>\n              <template is="if" value="{{ltPropDropdown}}"><template case="true">\n                   <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownShow}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}">\n                     <template is="registerYield" yield-name="yield">\n                        <lyte-drop-button style="display: none;"></lyte-drop-button>\n                        <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                          <lyte-drop-body>\n                            <template is="for" items="{{dropdownData}}" item="item" index="index">\n                                <lyte-drop-item data-value="{{item.time}}">\n                                  <template is="if" value="{{ltPropYield}}"><template case="true">\n                                       <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                                  </template><template case="false">\n                                      <span>{{item.time}}</span>\n                                      <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                         <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                       </template></template></template></template>\n                                </lyte-drop-item>\n                            </template>\n                          </lyte-drop-body>\n                        </lyte-drop-box>\n                     </template>\n                   </lyte-dropdown> \n               </template></template>    \n            </template>\n         <template default="">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="{{if(ifEquals(ltPropAppearance == \'box\'), if(ifEquals(ltPropType, \'search\'), \'lyteInputBoxSearch lyteField\',\'lyteField\'), \'lyteField\')}}" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" pattern="{{ltPropPattern}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;search&quot;)}}"><template case="true">\n                    <span class="searchIcon"></span>\n                </template></template>\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n              </div>\n          <template is="break"></template></template>      \n     </template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{password:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},type:{name:"type",dynamicValue:"ltPropType"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},number:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},value:{name:"value",dynamicValue:"ltPropValue",isLbind:!0}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},textarea:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}}]},date:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[5]}]},datetime:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1]},{type:"attr",position:[3,3],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[5]},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[7]}]},time:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[3,5]},{type:"if",position:[3,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]}}],_observedAttributes:["ltPropDisabled","ltPropAutofocus","ltPropAutocomplete","ltPropMaxlength","ltPropName","ltPropPlaceholder","ltPropReadonly","ltPropValue","ltPropWidth","ltPropTabIndex","ltPropType","ltPropAppearance","ltPropDirection","ltPropLabel","ltPropId","ltPropClass","ltPropStyle","ltPropWrapperStyle","ltPropHeight","ltPropPattern","ltPropInputTitle","ltPropRows","ltPropCols","ltPropTextAreaResize","ltPropMax","ltPropMin","ltPropStep","ltPropTimeFormat","ltPropHourInterval","ltPropDefaultTime","ltPropMinuteInterval","ltPropDropdown","ltPropShowInterval","ltPropStartTime","ltPropEndTime","ltPropFillRows","ltPropNumberOfRows","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","ltPropMonthHeaderFormat","daysOfWeek","ltPropYear","ltPropFormat","viewDate","ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropCalendarClass","ltPropHeaderType","ltPropDropdownDisabled","ltPropDropdownShow","ltPropDropdownCallout","ltPropDropdownFreeze","ltPropPosition","ltPropBoundary","ltPropWheel","ltPropYield","ltPropUpdateDelay","ltPropAutoUpdate","ltPropCloseIcon","eventListeners","selectedField","endMinute","startMinute","dropdownData","originalData","dateRange","meridian","hour","min","selectedDateField","preventObs","resize","pos","isSearch"],init:function(){var t=this.data,e=t.ltPropType;"time"!=e&&"datetime"!=e||(this._prevent=!0,this.timeInValChange.call(this),this.startEndTimeObs.call(this),delete this._prevent,-1!=e.indexOf("time")&&t.ltPropDropdown&&(this.dropdownConstruct(),"time"==e&&(t.ltPropDefaultTime=t.ltPropDefaultTime||t.ltPropValue))),"date"!=e&&"datetime"!=e||("date"==e&&(t.ltPropCurrentDate=t.ltPropCurrentDate||t.ltPropValue),this.dateRegexFind()),this.$node.classList.add("lyteInput"),this.$node.classList.add("horizontal"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){var t=this.data.ltPropType;this.$node,this.$node.querySelector(".lyteLabel"),this.$node.querySelector(".lyteField");if("date"==t||"datetime"==t){var e=this.calenderClickHide.bind(this);document.addEventListener("click",e,!0),this.setData("eventListeners.calendar",e);var o=this.scrollFunc.bind(this);this.setData("eventListeners.scroll",o),window.addEventListener("scroll",o,!0),window.addEventListener("resize",o,!0)}if("time"!=t&&"datetime"!=t||this.getData("ltPropDropdown")&&(this.dropdown=this.$node.querySelector("lyte-dropdown"),this.dropbox=this.dropdown.component.childComp?this.dropdown.component.childComp:this.dropdown.querySelector("lyte-drop-box"),this.dropdown.element=this.$node.querySelector("input"+("datetime"==t?":last-of-type":""))),"time"==t||"date"==t||"datetime"==t){e=this.handleWheel.bind(this);this.setData("eventListeners.timeWheel",e),this.getData("ltPropWheel")&&this.$node.addEventListener("wheel",e),this._manualset=!0,"time"==t?this.setData("ltPropValue",this.data.ltPropDefaultTime):"date"==t&&this.setData("ltPropValue",this.data.ltPropCurrentDate),delete this._manualset}if(/date|datetime/.test(t)){var i=this._assCalendar;this.$node.revertToToday=i.revertToToday}t="textarea"==t?"textarea":"input",["focus","blur","click","select"].forEach(function(e){this.$node[e]=function(o){this.$node.querySelector(t)[e](o)}.bind(this)}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this.$node.classList.add("lyteRTL"),this.$node.calendarDiv&&this.$node.calendarDiv.classList.add("lyteRTL")}.bind(this))}.bind(this))},didDestroy:function(){this.$node.calendarComp&&(this.$node.calendarComp.remove(),delete this.$node.calendarComp,delete this.$node.calendarDiv,delete this._assCalendar);var t=this.getData("eventListeners"),e=this.getData("ltPropType");"date"!=e&&"datetime"!=e||(document.removeEventListener("click",t.calendar,!0),window.removeEventListener("scroll",t.scroll,!0),window.removeEventListener("resize",t.scroll,!0),this.$node.removeEventListener("wheel",t.timeWheel)),"time"!=e&&"datetime"!=e||(this.$node.removeEventListener("wheel",t.timeWheel),delete this.dropdown,delete this.dropbox),t.hasOwnProperty("mouseup")&&document.removeEventListener("mouseup",t.mouseup),["focus","blur","click","select"].forEach(function(t){delete this.$node[t]}.bind(this))},rtlfunc:function(t,e,o){if(this._dir){if(e)return"left"==t?o-e.right:"clientX"==t?o-e.clientX:o-e.left;if("left"==t)return"right"}return e?e[t]:"left"},calenderClickHide:function(t){var e=this.$node.calendarDiv,o=t.target.correspondingElement||t.target;if(!e.classList.contains("lyteCalendarHidden")){if(o&&"LYTE-DROP-ITEM"==o.tagName){for(;"LYTE-DROP-BOX"!=o.tagName&&"BODY"!=o.tagName;)o=o.parentNode;"LYTE-DROP-BOX"==o.tagName&&(o=o.origindd)}this.$node.contains(o)||e.contains(o)||(e.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),this.getMethods("onCalendarClose")&&this.executeMethod("onCalendarClose",this.$node.calendarDiv,this.$node))}},scrollFunc:function(t){var e=this.$node.calendarDiv;$L.fastdom.mutate(function(){this.setCss(),$L.fastdom.measure(function(){if(e&&t&&"scroll"==t.type&&!e.classList.contains("lyteCalendarHidden")){var o=this.data.ltPropBoundary,i=this.$node.getBoundingClientRect(),l=window.innerWidth;(o.hasOwnProperty("left")&&this.rtlfunc.call(this,"left",i,l)<o.left||o.hasOwnProperty("right")&&this.rtlfunc.call(this,"right",i,l)>o.right||o.hasOwnProperty("top")&&i.top<o.top||o.hasOwnProperty("bottom")&&i.bottom>o.bottom)&&e.classList.add("lyteCalendarHidden")}}.bind(this))}.bind(this))},textareaFuncObs:function(){if("textarea"==this.getData("ltPropType")){var t=this.getData("ltPropTextAreaResize");t.horizontal||t.vertical?(this.setData("resize",!0),this._resizeBinded||(this.textareaFunc(),this._resizeBinded=!0)):this.setData("resize",!1)}}.observes("ltPropTextAreaResize").on("didConnect"),textareaFunc:function(){var t=this.textareaResize.bind(this),e=this.mouseup.bind(this);(this.setData("eventListeners.resizeFunc",t),this.setData("eventListeners.mouseup",e),this.getData("ltPropTextAreaResize"))&&this.$node.querySelector(".lyteTextareaResize").addEventListener("mousedown",function(o){var i=this.$node.querySelector("textarea"),l=this.getData("ltPropTextAreaResize")||{};o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),document.addEventListener("mousemove",t,!0),document.addEventListener("mouseup",e,!0);var a,n,r,s,d,p,c,h,u,y,m,g,f,v=this.$node.querySelector("label");this.data.ltPropDirection;$L.fastdom.measure(function(){v&&(h=v.getBoundingClientRect()),g=window.getComputedStyle(i),m=i.getBoundingClientRect(),y=window.getComputedStyle(i.parentElement),u=this.$node.getBoundingClientRect(),this._resizeDirection=g.resize,s=g.minWidth,d=g.maxWidth,p=g.minHeight,c=g.maxHeight,a=y.height,n=y.width,r=y.paddingLeft,this._ww=f=window.innerWidth}.bind(this)),$L.fastdom.mutate(function(){l.horizontal&&(this.$node.style.width=u.width+"px",v&&(v.style.width=h.width+"px",v.style.minWidth=h.width+"px"),i.style.width=m.width+"px",i.parentElement.style.width="auto",i.parentElement.style.minWidth="auto",this._iniLeft=this.rtlfunc.call(this,"left",m,f),this._offLeft=this.rtlfunc.call(this,"right",m,f)-this.rtlfunc.call(this,"clientX",o,f),this._minWidth=(-1!=s.indexOf("%")?parseInt(n)*parseInt(s)/100:parseFloat(s))+parseInt(r),this._maxWidth=-1!=d.indexOf("%")?parseInt(n)*parseInt(d)/100:parseFloat(d)),l.vertical&&(this.$node.style.height=u.height+"px",v&&(v.style.height=h.height+"px"),i.style.height=m.height+"px",i.parentElement.style.height="auto",this._iniTop=m.top,this._offTop=m.bottom-o.clientY,this._minHeight=-1!=p.indexOf("%")?parseInt(a)*parseInt(p)/100:parseFloat(p),this._maxHeight=-1!=c.indexOf("%")?parseInt(a)*parseInt(c)/100:parseFloat(c)),this.$node.classList.add("resizeStart")}.bind(this))}.bind(this),!0)},mouseup:function(t){this.$node.classList.remove("resizeStart");var e=this.getData("eventListeners");document.removeEventListener("mousemove",e.resizeFunc,!0),document.removeEventListener("mouseup",e.mouseup,!0),delete this._iniLeft,delete this._iniTop,delete this._offLeft,delete this._offTop,delete this._ww,delete this._minHeight,delete this._maxHeight,delete this._minWidth,delete this._maxWidth},textareaResize:function(t){var e=this.$node.querySelector("textarea");$L.fastdom.measure(function(){var o=e.getBoundingClientRect();if(this._iniLeft){var i=this.rtlfunc.call(this,"clientX",t,this._ww),l=(i>this._iniLeft?i:this._iniLeft)-this._iniLeft+this._offLeft,a=parseFloat(this.$node.style.width)+l-o.width;l>=this._minWidth&&(isNaN(this._maxWidth)||!isNaN(this._maxWidth)&&l<=this._maxWidth)&&(e.style.width=l+"px",this.$node.style.width=a+"px")}if(this._iniTop){var n=(t.clientY>this._iniTop?t.clientY:this._iniTop)-this._iniTop+this._offTop;a=parseFloat(this.$node.style.height)+n-o.height;n>=this._minHeight&&(isNaN(this._maxHeight)||!isNaN(this._maxHeight)&&n<=this._maxHeight)&&(e.style.height=n+"px",this.$node.style.height=a+"px")}}.bind(this))},heightFuncObs:function(){this.heightFunc.call(this,arguments[0])}.observes("ltPropHeight").on("didConnect"),heightFunc:function(t){var e=this.getData("ltPropHeight");e&&$L.fastdom.mutate(function(){if("textarea"!=this.getData("ltPropType")){var t=this.$node.querySelector("input");this.$node.querySelector(".lyteField");t.style.height=e}else this.$node.querySelector("textarea").style.height=e}.bind(this))},widthfunObs:function(){this.widthfun.call(this)}.observes("ltPropWidth").on("didConnect"),widthfun:function(){var t=this.getData("ltPropWidth");t&&$L.fastdom.mutate(function(){this.$node.style.width=t}.bind(this))},appearanceFunObs:function(){this.appearanceFun.call(this)}.observes("ltPropAppearance").on("didConnect"),appearanceFun:function(){var t=this.data.ltPropType,e=this.$node.querySelector(".lyteField");if("box"==this.getData("ltPropAppearance")){"search"==t&&e.classList.add("lyteInputBoxSearch");var o=this.$node;o&&(o.classList.add("lyteInputBox"),o.classList.remove("lyteInput"))}else{"search"==t&&e.classList.remove("lyteInputBoxSearch");var i=this.$node;i&&(i.classList.add("lyteInput"),i.classList.remove("lyteInputBox"))}},directionfunObs:function(){this.directionfun.call(this)}.observes("ltPropDirection").on("didConnect"),directionfun:function(){var t=this.$node;t&&("vertical"==this.data.ltPropDirection?(t.classList.add("vertical"),t.classList.remove("horizontal")):(t.classList.add("horizontal"),t.classList.remove("vertical")))},data:function(){return{ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropMaxlength:Lyte.attr("number",{default:void 0}),ltPropName:Lyte.attr("string",{default:""}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropValue:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropType:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:""}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropMin:Lyte.attr("number",{default:void 0}),ltPropStep:Lyte.attr("number",{default:1}),ltPropTimeFormat:Lyte.attr("number",{default:12}),ltPropHourInterval:Lyte.attr("number",{default:1}),ltPropDefaultTime:Lyte.attr("string",{default:""}),ltPropMinuteInterval:Lyte.attr("number",{default:30}),ltPropDropdown:Lyte.attr("boolean",{default:!1}),ltPropShowInterval:Lyte.attr("boolean",{default:!1}),ltPropStartTime:Lyte.attr("string",{default:""}),ltPropEndTime:Lyte.attr("string",{default:""}),ltPropFillRows:Lyte.attr("boolean",{default:!0}),ltPropNumberOfRows:Lyte.attr("number",{default:6}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:1}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMMM YYYY"}),daysOfWeek:Lyte.attr("array",{default:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}),ltPropYear:Lyte.attr("boolean",{default:!0}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),viewDate:Lyte.attr("object",{default:{}}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropCalendarClass:Lyte.attr("string",{default:""}),ltPropHeaderType:Lyte.attr("string",{default:"default"}),ltPropDropdownDisabled:Lyte.attr("boolean",{default:!1}),ltPropDropdownShow:Lyte.attr("boolean",{default:!1}),ltPropDropdownCallout:Lyte.attr("boolean",{default:!1}),ltPropDropdownFreeze:Lyte.attr("boolean",{default:!1}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropWheel:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),eventListeners:Lyte.attr("object",{default:{}}),selectedField:Lyte.attr("object",{default:{}}),endMinute:Lyte.attr("number",{default:""}),startMinute:Lyte.attr("number",{default:""}),dropdownData:Lyte.attr("array",{default:[]}),originalData:Lyte.attr("array",{default:[]}),dateRange:Lyte.attr("object",{default:{day:[],month:[],year:[]}}),meridian:Lyte.attr("object",{default:{AM:_lyteUiUtils?_lyteUiUtils.i18n("AM"):"AM",PM:_lyteUiUtils?_lyteUiUtils.i18n("PM"):"PM"}}),hour:Lyte.attr("string",{default:_lyteUiUtils.i18n("hour")}),min:Lyte.attr("string",{default:_lyteUiUtils.i18n("min")}),selectedDateField:Lyte.attr("string",{default:""}),preventObs:Lyte.attr("boolean",{default:!0}),resize:Lyte.attr("boolean",{default:!0}),pos:Lyte.attr("string",{default:""}),isSearch:Lyte.attr("boolean",{default:!1})}},getDateFromFormat:function(t,e){return this._assCalendar.component.getDateFromFormat(t,e)},dateValidation:function(t){var e=this._assCalendar.component.stringToDate(t,this.data.ltPropFormat);return"Invalid Date"!=e&&e},dateRegexFind:function(t){var e,o=this.getData("dateRange");e=t?t.newValue:this.getData("ltPropFormat");var i=/D+/gi.exec(e),l=/M+/gi.exec(e),a=/Y+/gi.exec(e);o.day[0]=i.index,o.day[1]=i.index+i[0].length,o.month[0]=l.index,o.month[1]=l.index+l[0].length,o.year[0]=a.index,o.year[1]=a.index+a[0].length},dateRegexObs:function(t){this.dateRegexFind(t)}.observes("ltPropFormat"),constructingArr:function(t,e,o){t<e&&(t+=1440);var i=(t-e)/60,l={};return l.time=this.convertToRailway(t,!0,o),l.interval=i<1?t-e+" "+this.getData("min"):(i%1==0?i:i.toFixed(1))+" "+this.getData("hour"),l},dropdownConstruct:function(){if(!this._prevent){var t,e=this.getData("startMinute"),o=[],i=this.getData("endMinute"),l=(this.getData("ltPropHourInterval"),this.getData("ltPropMinuteInterval")),a=this.getData("ltPropTimeFormat");for(e>=i&&(i+=1440),t=e;t<=i;t+=l)o.push(this.constructingArr(t,e,a));this.setData("originalData",o)}},constructNewDrop:function(t,e){var o=[],i=this.getData("startMinute");if(12==e){var l=this.convertToRailway(t.value.trim());0!=this.maxValCheck(l)&&o.push(this.constructingArr(l,i,12)),l+=720,0!=this.maxValCheck(l%1440)&&o.push(this.constructingArr(l,i,12))}else{l=this.convertToRailway(t.value.trim());0!=this.maxValCheck(l)&&o.push(this.constructingArr(l,i,24))}this.setData("dropdownData",o)},getCorrectTime:function(t){var e=new Date,o=e.getHours(),i=e.getMinutes().toString(),l=this.getData("meridian"),a=o>11?l.PM:l.AM;return 1==i.length&&(i="0"+i),12==t?(12!=o&&1==(o=(o%12).toString()).length&&(o="0"+o),o+":"+i+" "+a):(o<10&&(o="0"+o),o+":"+i)},timeFormatChange:function(){this.timeInValChange()}.observes("ltPropTimeFormat"),handleWheel:function(t){var e=t.target,o=this.getData("ltPropType");"INPUT"==e.tagName&&("time"==o||"datetime"==o&&"time"==e.id?$L.fastdom.mutate(function(){selectedField=this.getData("selectedField"),(!selectedField.prop||e.selectionStart>3)&&(e.selectionStart=0,e.selectionEnd=2,this.setData("selectedField",{prop:"hour",val:0}),selectedField={prop:"hour",val:0}),t.deltaY<-10?this.timeDecrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd):t.deltaY>10&&this.timeIncrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd)}.bind(this)):("date"==o||"datetime"==o&&"date"==e.id)&&(t.deltaY<-10?(t.keyCode=40,this.calendarKeydown.call(this,t,e)):t.deltaY>10&&(t.keyCode=38,this.calendarKeydown.call(this,t,e))),t.preventDefault())},wheelObs:function(t){t.newValue?this.$node.addEventListener("wheel",this.getData("eventListeners.timeWheel")):this.$node.removeEventListener("wheel",this.getData("eventListeners.timeWheel"))}.observes("ltPropWheel"),convertToRailway:function(t,e,o){var i=this.getData("meridian");if(e){a=parseInt(t/60)%24;(n=t%60)<10&&(n="0"+n);l="";return 12==o&&(1==parseInt(a/12)?(a>12&&(a%=12),l=i.PM):(l=i.AM,a=a||12)),a<10&&(a="0"+a),a+":"+n+" "+l}var l,a=parseInt(t.slice(0,2)),n=parseInt(t.slice(3,5));return 5!=t.length?60*((l=t.slice(6,t.length))==i.PM?a%12+12:a%12)+n:60*a+n},maxValCheck:function(t){var e,o=this.getData("endMinute"),i=this.getData("startMinute");if(e="string"==typeof t?this.convertToRailway(t):t,i<o){if(e<=o&&e>=i)return!0}else if(e<1440&&e>=i||e>=0&&e<=o)return!0;return!1},timeInValChange:function(t){var e,o=this.getData("ltPropTimeFormat");if(!(e=t?t.newValue:this.getData("ltPropDefaultTime"))){var i=this.getData("ltPropStartTime");e=i||this.getCorrectTime(o)}this.setData("ltPropDefaultTime",e.slice(0,12!=o?5:e.length))},startEndTimeObs:function(t){if(!t||"ltPropStartTime"==t.item){var e=this.getData("ltPropDefaultTime"),o=this.getData("ltPropStartTime");o||(this.setData("ltPropStartTime",e),o=e),this.setData("startMinute",this.convertToRailway(o))}if(!t||"ltPropEndTime"==t.item){var i=this.getData("ltPropEndTime"),l=0;if(!i){var a=Math.max(0,parseInt(o.slice(3,5))-1).toString();1==a.length&&(a="0"+a),i=o.slice(0,3)+a+" "+o.slice(6,o.length),this.setData("ltPropEndTime",i),l=this.data.ltPropMinuteInterval}this.setData("endMinute",this.convertToRailway(i)-l)}this.dropdownConstruct()},timeBoundObs:function(t){t&&""==t.newValue&&void 0==t.oldValue||(!t||t&&"ltPropDefaultTime"!=t.item?this.startEndTimeObs(t):(this.setData("preventObs")&&this.setData("ltPropValue",t.newValue),this.getMethods("onTimeChange")&&this.executeMethod("onTimeChange",t,this.$node),this._manualset=!0,"time"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset))}.observes("ltPropStartTime","ltPropEndTime","ltPropDefaultTime"),dateChangeCallback:function(t){setTimeout(this.dateCallback.bind(this),0,t),this._manualset=!0,"date"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset}.observes("ltPropCurrentDate"),dateCallback:function(t){""==t.newValue&&void 0==t.oldValue||(this.getMethods("onDateChange")&&this.executeMethod("onDateChange",t,this.$node,this._selected),delete this._selected)},timeCallback:function(t){""==t.newValue&&void 0==t.oldValue||this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},valChangeObs:function(t){if(setTimeout(this.timeCallback.bind(this),0,t),!this._manualset){var e=this.data.ltPropType;"date"==e?this.setData("ltPropCurrentDate",t.newValue):"time"==e&&this.setData("ltPropDefaultTime",t.newValue)}}.observes("ltPropValue"),firePosCallBack:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",this.getData("pos"),this.$node.calendarDiv)}.observes("pos"),setLeftExceedForDown:function(t,e,o,i,l,a){var n=o;return l+this.rtlfunc.call(this,"left",n,a)+n.width-i.width},setLeftNotExceedForDown:function(t,e,o,i){var l=e;return o+this.rtlfunc.call(this,"left",l,i)},setTopAboveForDown:function(t,e,o,i,l){return l+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o,i){var l=e;return o+this.rtlfunc.call(this,"left",l,i)+l.width},setRightForRight:function(t,e,o,i,l,a){var n=o,r=i;return l+this.rtlfunc.call(this,"left",n,a)-r.width},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,l){var a=o;return l+a.top+a.height-i.height},setCss:function(){var t=this.$node.calendarDiv;if(t&&!t.classList.contains("lyteCalendarHidden")){var e,o,i,l,a,n,r=t,s=this.$node.querySelector("input").parentElement,d=window.innerWidth,p=window.innerHeight,c=r.getBoundingClientRect(),h=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),u=window.pageYOffset||document.documentElement.scrollTop,y=r.offsetHeight,m=r.offsetWidth,g=this.getData("ltPropPosition"),f=s.getBoundingClientRect(),v=this.rtlfunc.call(this,"left",f,d),D=this.rtlfunc.call(this,"left");"down"===g?(e=!0,e=!((a=f.top+f.height)+y>p&&f.top>y),o=!0,(n=v)+m>d&&n>n+f.width-r.offsetWidth?o=!1:v+m<=d&&(o=!0),e?(this.setData("pos","down"),r.style.top=this.setTopBelowForDown(s,f,u)+"px"):(this.setData("pos","up"),r.style.top=this.setTopAboveForDown(s,r,f,c,u,d)+"px"),o?(r.style.top=r.style.top,r.style[D]=this.setLeftNotExceedForDown(s,f,h,d)+"px"):(r.style.top=r.style.top,r.style[D]=this.setLeftExceedForDown(s,r,f,c,h,d)+"px")):"right"===g?(o=!0,o=!(v+f.width+m>d&&v-c.width>0),e=!0,e=!(f.top+c.height>p),o?(this.setData("pos","right"),r.style[D]=this.setLeftForRight(s,f,h,d)+"px"):(this.setData("pos","left"),r.style[D]=this.setRightForRight(s,r,f,c,h,d)+"px"),e?(r.style[D]=r.style[D],r.style.top=this.setTopForRight(s,f,u)+"px"):(r.style[D]=r.style[D],r.style.top=this.setTopForRightAbove(s,r,f,c,u)+"px")):"up"===g?(i=!0,i=!(f.top-c.height<0&&f.top+f.height+y<p),o=!0,v+m>d&&v>v+f.width-r.offsetWidth?o=!1:v+m<=d&&(o=!0),i?(this.setData("pos","up"),r.style.top=this.setTopAboveForDown(s,r,f,c,u)+"px"):(this.setData("pos","down"),r.style.top=this.setTopBelowForDown(s,f,u)+"px"),o?(r.style.top=r.style.top,r.style[D]=this.setLeftNotExceedForDown(s,f,h,d)+"px"):(r.style.top=r.style.top,r.style[D]=this.setLeftExceedForDown(s,r,f,c,h,d)+"px")):"left"===g?(l=!0,l=!(v-c.width<0&&v+c.width<d),e=!0,e=!(f.top+c.height>p),l?(this.setData("pos","left"),r.style[D]=this.setRightForRight(s,r,f,c,h,d)+"px"):(this.setData("pos","right"),r.style[D]=this.setLeftForRight(s,f,h,d)+"px"),e?(r.style[D]=r.style[D],r.style.top=this.setTopForRight(s,f,u)+"px"):(r.style[D]=r.style[D],r.style.top=this.setTopForRightAbove(s,r,f,c,u)+"px")):"downLeft"===g?(e=!0,(a=f.top+f.height)+y>p&&f.top>y?(a=f.top-y,e=!1):e=!0,o=!1,(n=v+f.width/2-m)<0?(n=0,o=!0):o=!1,r.style.top=a+u+"px",r.style[D]=n+h+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"downRight"===g?(e=!0,(a=f.top+f.height)+y>p&&f.top>y?(a=f.top-y,e=!1):e=!0,o=!0,(n=v+f.width/2)+m>d?(n=d-m,o=!1):o=!0,r.style.top=a+u+"px",r.style[D]=n+h+"px",pos=e?"downRight":"upRight",this.setData("pos",pos)):"upLeft"===g?(e=!1,(a=f.top-y)<0?(a=f.top+f.height,e=!0):e=!1,o=!1,(n=f[D]+f.width/2-m)<0?(n=0,o=!0):o=!1,r.style.top=a+u+"px",r.style[D]=n+h+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"upRight"===g&&(e=!1,(a=f.top-y)<0?(a=f.top+f.height,e=!0):e=!1,o=!0,(n=v+f.width/2)+m>d?(n=d-m,o=!1):o=!0,r.style.top=a+u+"px",r.style[D]=n+h+"px",pos=e?"downRight":"upRight",this.setData("pos",pos))}},methods:{wormholeAppend:function(t,e){this.$node.calendarComp=t,t.nodeN=this.$node,this.$node.calendarDiv=t.querySelector("div#lyteCalendar"),this._assCalendar=this.$node.calendarDiv.querySelector("lyte-calendar");var o=this.calendarMousedown.bind(this);this.$node.calendarDiv.addEventListener("mousedown",o,!0),this.setData("eventListeners.mousedown",o)},"on-dateselected":function(){this._selected=!0,this.$node.calendarDiv.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),this.getMethods("onCalendarClose")&&this.executeMethod("onCalendarClose",this.$node.calendarDiv,this.$node)},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1],this.$node)},beforeHide:function(){if(this.getMethods("onBeforeHide"))return this.executeMethod("onBeforeHide",arguments[0],arguments[1],this.$node)},show:function(){this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1],this.$node)},beforeShow:function(){if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",arguments[0],arguments[1],this.$node)},optionSelected:function(){this._calmsfg=!0,this.setData("ltPropDefaultTime",arguments[1].trim())},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},positionChange:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",arguments[0],arguments[1])},calendarNavigate:function(t,e,o,i){this.getMethods("onNavigate")&&this.executeMethod("onNavigate",t,e,o,i)}},valUpdate:function(t){if(this.$node&&this){delete this._timeout;var e=this.data.ltPropType;if("date"==e||"datetime"==e){var o=this.$node.querySelector("input").value;this.setData("ltPropCurrentDate",o||"")}else if("textarea"==e){o=this.$node.querySelector("textarea").value;this.setData("ltPropValue",o||"")}else{o=this.$node.querySelector("input").value;if(!("number"!=this.data.ltPropType||t||o&&o!=this.$node.ltProp("value")))return;this.setData("ltPropValue",o||"")}}},fixSelection:function(t,e,o){o.selectionStart=e.val+t,o.selectionEnd=o.selectionStart+2,this.timeClick.call(this,{},o)},replaceVal:function(t,e,o,i){var l;l="string"==typeof t?t:t.value;var a=new RegExp("("+l.slice(o,o+i)+")","i");return l.trim().replace(a,e)},retVal:function(t,e,o){return parseInt(t+e)>o?"0"+e:t+e},convertToPm:function(t,e,o){if(12==t){var i=e.slice(6,e.length),l=(e.slice(0,5),e.slice(0,2)),a=e.slice(3,5);return"00"==l&&"AM"==i||"12"==l&&"PM"==i?e:l+":"+a+" "+(o.AM==i?o.PM:o.AM)}return e},hourTimeSet:function(t,e,o,i,l){var a,n=t.value.trim(),r=this.getData("meridian"),s=e.keyCode-48,d=n.slice(i+1,l)+s,p=this.data.ltPropTimeFormat;a="hour"==o?12==p?12:24:60,parseInt(d)>a?(d="0"+s,12==a&&"00"==d&&n.slice(6,8)==r.PM?n=this.replaceVal.call(this,t,r.AM,6,r.AM.length):60==a&&"60"==d&&(d="00")):12==a&&"12"==d&&n.slice(6,8)==r.AM?n=this.replaceVal.call(this,t,r.PM,6,r.AM.length):12==a&&"00"==d&&n.slice(6,8)==r.PM&&(n=this.replaceVal.call(this,t,r.AM,6,r.PM.length));var c=n.slice(0,i)+d+n.slice(l,n.length),h=this.maxValCheck(c);if(0==h&&(c=n.slice(0,i)+this.retVal(n.slice(i,i+1),s,a)+n.slice(l,n.length),0==(h=this.maxValCheck(c))&&(c=n.slice(0,i)+"0"+s+n.slice(l,n.length),0==(h=this.maxValCheck(c))&&(c=this.convertToPm(a,c,r),0==(h=this.maxValCheck(c))))))return!1;this.setData("ltPropDefaultTime",c),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=l})},timeIncrease:function(t,e,o,i,l,a){var n,r,s,d=t.value.trim(),p=parseInt(d.slice(i,l)),c=this.getData("ltPropTimeFormat"),h=this.getData("meridian");"hour"==o?(n=12==c?12:24,r=a?1:this.data.ltPropHourInterval):(n=60,r=this.data.ltPropMinuteInterval);var u=(p+r)%n;if(12==n&&u<p&&d.slice(6,d.length)==h.AM)0==u&&(u="12"),d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(12==n&&u<p&&d.slice(6,d.length)==h.PM)12==p&&0!=u||(d=this.replaceVal.call(this,t,h.AM,6,d.length));else if(12==n&&u==p&&d.slice(6,d.length)==h.AM)u="12",d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(60==n&&u<=p){if(0==this.timeIncrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),s=d.slice(0,i)+u+d.slice(l,d.length),0==this.maxValCheck(s))return!1;this.setData("ltPropDefaultTime",s),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=l})},timeDecrease:function(t,e,o,i,l,a){var n,r,s,d=t.value.trim(),p=parseInt(d.slice(i,l)),c=this.getData("ltPropTimeFormat"),h=this.getData("meridian");"hour"==o?(n=12==c?12:24,r=a?1:this.getData("ltPropHourInterval")):(n=60,r=this.getData("ltPropMinuteInterval"));var u=(p-r+n)%n;if(12==n&&u>p&&d.slice(6,d.length)==h.AM)d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(12==n&&(u>p||12==p)&&d.slice(6,d.length)==h.PM)d=this.replaceVal.call(this,t,h.AM,6,d.length);else if(12==n&&0==u)d.slice(6,d.length)==h.PM&&(u="12");else if(60==n&&u>=p){if(0==this.timeDecrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),s=d.slice(0,i)+u+d.slice(l,d.length),0==this.maxValCheck(s))return!1;this.setData("ltPropDefaultTime",s),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=l})},findCalendarRange:function(t,e){var o=!1;if(e.value&&0!=this.dateValidation(e.value)){var i,l=e.selectionStart,a=(e.selectionEnd,this.getData("dateRange"));for(i in a)if(a[i][0]<=l&&a[i][1]>=l){e.selectionStart=a[i][0],e.selectionEnd=a[i][1],this.setData("selectedDateField",i),o=!0;break}}return o},hideCalendar:function(){for(var t=document.querySelector("lyte-input"),e=0;e<t.length;e++)t[e]!=this.$node&&t[e].calendarDiv&&!t[e].calendarDiv.classList.contains("lyteCalendarHidden")&&(t[e].calendarDiv.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),t[e].component.getMethods("onCalendarClose")&&t[e].component.executeMethod("onCalendarClose",t[e].calendarDiv,t[e]))},showCalendar:function(t,e){this.hideCalendar(),this.data.ltPropReadonly||(this.$node.calendarDiv.classList.remove("lyteCalendarHidden"),this.scrollFunc.call(this),$L.fastdom.mutate(function(){e.selectionStart=0,e.selectionEnd=0,this.findCalendarRange(t,e),this.$node.classList.add("calendarOpen"),this.getMethods("onCalendarOpen")&&this.executeMethod("onCalendarOpen",this.$node.calendarDiv,this.$node)}.bind(this)))},calendarMousedown:function(t){this.$node.calendarDiv.contains(t.target.correspondingElement||t.target)&&(this.preventFocus=!0)},timeClick:function(t,e){switch(parseInt(e.selectionStart/3)){case 2:e.selectionStart=6,e.selectionEnd=e.value.length,this.setData("selectedField",{prop:"meridian",val:6});break;case 1:e.selectionStart=3,e.selectionEnd=5,this.setData("selectedField",{prop:"minute",val:3});break;default:e.selectionStart=0,e.selectionEnd=2,this.setData("selectedField",{prop:"hour",val:0})}this.dropbox&&this.dropbox.classList.contains("lyteDropdownHidden")&&"click"==t.type&&(this.setData("dropdownData",this.getData("originalData")),this.dropdown.toggle())},calendarKeydown:function(t,e){var o=t.keyCode,i=this.dateValidation(e.value);if(0!=i){var l=this.getData("selectedDateField");if(-1!=[37,38,39,40,9].indexOf(o)){e.selectionEnd==e.selectionStart&&this.findCalendarRange(t,e);var a=e.selectionStart,n=e.selectionEnd;if(-1!=[38,40].indexOf(o)){switch(t.preventDefault(),l){case"year":40==o?i.setFullYear(i.getFullYear()-1):i.setFullYear(i.getFullYear()+1);break;case"month":40==o?i.setMonth(i.getMonth()-1):i.setMonth(i.getMonth()+1);break;default:40==o?i.setDate(i.getDate()-1):i.setDate(i.getDate()+1)}this._assCalendar.component.checkDate(i)&&this.setData("ltPropCurrentDate",this.getDateFromFormat(i,this.getData("ltPropFormat")))}else{if(e.selectionEnd==e.value.length&&(39==o||!t.shiftKey&&9==o)||0==e.selectionStart&&(37==o||t.shiftKey&&9==o))return;daterange=this.getData("dateRange"),39==o||!t.shiftKey&&9==o?e.selectionStart=e.selectionEnd=daterange[l][1]+1:(37==o||t.shiftKey&&9==o)&&(e.selectionStart=e.selectionEnd=daterange[l][0]-1),this.findCalendarRange(t,e),a=e.selectionStart,n=e.selectionEnd,t.preventDefault()}e.selectionStart=a,e.selectionEnd=n}}},focusCallback:function(t){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},focusout:function(){if(this.preventFocus)delete this.preventFocus;else{var t=this.$node.calendarDiv;if(t.classList.contains("lyteCalendarHidden"))return;t.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),setTimeout(function(){this.getMethods("onCalendarClose")&&this.executeMethod("onCalendarClose",t,this.$node)}.bind(this),0)}},maxLen:function(t){var e=this.data.ltPropMaxlength;return void 0!=e?t.toString().match(new RegExp(".{0,"+e+"}"))[0]:t},actions:{clsIcon:function(t){this.$node.ltProp("value",""),this.$node.focus(),this.data.isSearch&&this.throwEvent("on-ip-clear",t),this.getMethods("onClear")&&this.executeMethod("onClear",t,this.$node)},calmsdown:function(t,e){this._calmsfg=!0},numberKeydown:function(t,e){if(!_lyteUiUtils.isAndroid()||/firefox/gi.test(navigator.userAgent)){var o=t.which||t.keyCode,i=e.value,l=/rv:11/gi.test(navigator.userAgent);if(/^(8|9|27|37|39|13)$/.test(o)||o>=48&&o<=57||o>=96&&o<=105||t.metaKey||t.ctrlKey||/^(38|40)$/.test(o)&&!l)return;if(/^(69|190)$/.test(o)&&(!/\./i.test(i)&&190==o||69==o&&!/e/i.test(i)&&""!=i))return;if(/^(187|189)$/.test(o)&&0==i.length)return;if(t.preventDefault(),38==o?i=Number(i||0)+Number(e.step):40==o&&(i=Number(i||0)-Number(e.step)),l&&/^(38|40)$/.test(o)){var a=parseInt(this.maxLen(i));isNaN(a)||(a=Math.min(Math.max(a,e.min?e.min:-1/0),e.max?e.max:1/0),isNaN(a)||(e.value=a))}}},numberPaste:function(t,e){var o=t.clipboardData||window.clipboardData;newVal=e.value+o.getData("text").replace(/\'|\"/g,""),/^([0-9]+|\.(?!e){1,}|\+|\-)([0-9\.\e]{0,}$)/i.test(newVal)||(newVal.length!=this.maxLen(newVal)||/rv:11/gi.test(navigator.userAgent))&&t.preventDefault()},focusClass:function(t){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t)},blurThrow:function(t,e){var o="date"==this.data.ltPropType,i=this.getMethods("onBlur");if(this.$node.classList.remove("lyteInputFocus"),!e){this.getData("ltPropType");this._calmsfg?(this.valUpdate(),setTimeout(function(){o&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node)}.bind(this),0),delete this._calmsfg):(this.valUpdate.call(this,!0),o&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node))}},input:function(t,e){if("number"==this.data.ltPropType){var o,i=e.value,l=this.maxLen(i);o=Math.min(l,e.max?e.max:1/0),i===l&&l==o||(l==o?e.value=l:isNaN(o)?e.value=parseFloat(l):e.value=o)}if(this.getData("ltPropAutoUpdate")){clearTimeout(this._iptime);var a=this.data.ltPropUpdateDelay;void 0!=a?this._iptime=setTimeout(this.valUpdate.bind(this),a):this.valUpdate.call(this)}},showcalendar:function(t,e){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t),this.showCalendar(t,e)},calendarClick:function(t,e){this.findCalendarRange(t,e)},calendarKeydown:function(){this.calendarKeydown.apply(this,arguments)},timeBlur:function(t,e){this.$node.classList.remove("lyteInputFocus"),this.setData("selectedField",{}),this.getMethods("onBlur")&&(this._calmsfg?this.executeMethod("onBlur",event,this.$node):setTimeout(function(){this.executeMethod("onBlur",event,this.$node)}.bind(this),0))},timeFocus:function(t,e){this.$node.classList.add("lyteInputFocus");e.value.trim();this.setData("selectedField",{prop:"hour",val:0}),e.selectionStart=0,this.fixSelection.call(this,0,{prop:"hour",val:0},e),this.focusCallback.call(this,t)},timeKeydown:function(t,e){var o=this.getData("selectedField"),i=this.getData("meridian"),l=this.getData("ltPropTimeFormat"),a=!0,n=this.getData("originalData"),r=this.getData("dropdownData");if((!this.dropbox||this.dropbox.classList.contains("lyteDropdownHidden")||!/38|40|13/.test(t.keyCode))&&o.prop&&!t.ctrlKey&&!t.metaKey){var s=e.selectionStart,d=e.selectionEnd;s==d&&(this.timeClick.call(this,{},e),s=e.selectionStart,d=e.selectionEnd,o=this.getData("selectedField"));var p=t.keyCode;if(9!=p&&t.preventDefault(),-1!=[9,37,39].indexOf(p))!t.shiftKey&&37!=p||"hour"==o.prop||39==p?(t.shiftKey&&39!=p||"minute"==o.prop||24!=l)&&(t.shiftKey||"meridian"==o.prop||12!=l)||37==p||(this.fixSelection.call(this,3,o,e),t.preventDefault()):(this.fixSelection.call(this,-3,o,e),t.preventDefault()),a=!1;else if(p>=48&&p<=57&&"meridian"!=o.prop)"hour"==o.prop?this.hourTimeSet.call(this,e,t,"hour",s,d):"minute"==o.prop&&this.hourTimeSet.call(this,e,t,"minute",s,d),this.constructNewDrop(e,l);else if(38!=p&&40!=p||"meridian"==o.prop){if("meridian"==o.prop){var c,h=e.value.trim().slice(6,e.value.length),u=String.fromCharCode(p).toUpperCase();if(0==i.PM.toUpperCase().indexOf(u)?h=i.PM:0==i.AM.toUpperCase().indexOf(u)?h=i.AM:-1!=[38,40].indexOf(p)&&(h=h==i.PM?i.AM:i.PM),h!=i.AM&&"00"==e.value.trim().slice(0,2)&&(c=this.replaceVal.call(this,e,"12",0,2)),h&&(c=this.replaceVal.call(this,c||e,h,s,d)),0==this.maxValCheck(c))return!1;this.setData("ltPropDefaultTime",c)}}else 38==p?this.timeIncrease.call(this,e,t,o.prop,s,d):this.timeDecrease.call(this,e,t,o.prop,s,d);this.fixSelection.call(this,0,this.getData("selectedField"),e),a&&$L.fastdom.mutate(function(){e.selectionStart=s,e.selectionEnd=d}),n.length!=r.length&&(p<48||p>57)&&this.setData("dropdownData",n)}},timeClick:function(){this.timeClick.apply(this,arguments)}}}),Lyte.Component.register("lyte-menu",{_template:'<template tag-name="lyte-menu">\n\t<lyte-menu-box class="{{ltPropWrapperClass}}" onmousemove="{{action( \'mousemove\', event, this )}}">\n\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<lyte-menu-body id="{{ltPropId}}" class="{{ltPropClass}}" tabindex="1">\n\t\t\t\t<template is="for" items="{{ltPropContent}}" item="menu" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(menu)}}"><template case="true">\n\t\t\t\t\t\t\t        <lyte-menu-group elemorder="{{indexVal}}">\n\n\t\t\t\t\t\t\t        \t<template is="if" value="{{lyteUiReturnOnlyKey(menu)}}"><template case="true">\n\t\t\t\t\t\t\t\t           <lyte-menu-header>\n\t\t\t\t\t\t\t\t           \t\t\t{{lyteUiReturnOnlyKey(menu)}}\n\t\t\t\t\t\t\t\t           </lyte-menu-header>\n\t\t\t\t\t\t\t           \t</template></template>\n\t\t\t\t\t\t\t              <template is="for" items="{{lyteUiReturnOnlyValue(menu)}}" item="menu1" index="indexVal1"><template is="if" value="{{expHandlers(lyteUiIsObject(menu1),\'==\',false)}}"><template case="true">\n\t\t\t\t\t\t                                   <lyte-menu-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{menu1}}">\n\t\t\t\t\t\t                                          <lyte-menu-label>{{menu1}}</lyte-menu-label>\n\t\t\t\t\t\t                                    </lyte-menu-item>\n\t\t\t\t\t\t\t                          </template><template case="false">\n\t\t\t\t\t                                      <lyte-menu-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" id="{{menu1.id}}" class="{{menu1.class}}" data-value="{{menu1[ltPropSystemValue]}}">\n\t\t\t\t\t                                          <lyte-menu-label>{{menu1[ltPropUserValue]}}</lyte-menu-label>\n\t\t\t\t\t                                              <template is="if" value="{{menu1[ltPropDescription]}}"><template case="true">\n\t\t\t\t\t                                                  <lyte-menu-description> {{menu1[ltPropDescription]}}</lyte-menu-description>\n\t\t\t\t\t                                              </template></template>\n\t\t\t\t\t                                      </lyte-menu-item>\n\t\t\t\t\t                                </template></template></template>\n\t\t\t\t\t\t\t      </lyte-menu-group>\n\t\t\t\t\t      </template><template case="false"><template is="if" value="{{expHandlers(lyteUiIsObject(menu),\'==\',false)}}"><template case="true">\n\t\t\t                         <lyte-menu-item elemorder="{{indexVal}}" data-value="{{menu}}">\n\t\t\t                                <lyte-menu-label>{{menu}}</lyte-menu-label>\n\t\t\t                          </lyte-menu-item>\n\t\t\t\t                  </template><template case="false">\n\t\t\t\t                        <lyte-menu-item elemorder="{{indexVal}}" id="{{menu.id}}" class="{{menu.class}}" data-value="{{menu[ltPropSystemValue]}}">\n\t\t\t\t                            <lyte-menu-label>{{menu[ltPropUserValue]}}</lyte-menu-label>\n\t\t\t\t                                <template is="if" value="{{menu[ltPropDescription]}}"><template case="true">\n\t\t\t\t                                    <lyte-menu-description> {{menu[ltPropDescription]}}</lyte-menu-description>\n\t\t\t\t                                </template></template>\n\t\t\t\t                        </lyte-menu-item>\n\t\t\t\t                  </template></template></template></template></template>\n\t\t    </lyte-menu-body>\n\t      </template><template case="false">\n\t   \t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t   \t   </template></template>\n\t   </lyte-menu-box>\t   \t    \n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropContent","ltPropId","ltPropClass","ltPropQuery","ltPropEvent","ltPropYield","ltPropUserValue","ltPropSystemValue","ltPropCallout","ltPropPosition","ltPropDescription","ltPropTabIndex","ltPropFreeze","ltPropShow","ltPropWidth","ltPropHeight","ltPropQueryClass","ltPropBoundary","ltPropScope","ltPropPreventInsideClick","ltPropAnimate","ltPropSetCss","ltPropWrapperClass","eventListeners","pos","parIndex"],init:function(){var t=this.getData("ltPropEvent"),e=this.checkElementForMenu.bind(this);this.setData("eventListeners.event",e),this._close=this.closing.bind(this),this._trsend=this.tranEnd.bind(this),this._hoverclose=this.hoverClose.bind(this),document.addEventListener("mouseenter"==t?"mousemove":t,e,!0),this.menuNodes=[],!document.querySelector(".lytemenufreezelayer")&&this.$node.ltProp("freeze")&&(this.appendFreeze.call(this,"lytemenufreezelayer left lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer top lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer bottom lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer right lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer nogroup lyteMenuHidden"),document.body.querySelector("div.nogroup.lytemenufreezelayer").addEventListener("wheel",this.preventEvent)),document.hasOwnProperty("_lyteMenu")||(document.documentElement.addEventListener("click",lyteCloseMenu,!0),document.documentElement.addEventListener("keydown",this.keydownCheck,!0),document.documentElement.addEventListener("keypress",menukeypress,!0),window.addEventListener("resize",this.resizeFunc,!0),document._lyteMenu={},document._lyteMenu.eventFlag=!0),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir){if(e)return"right"==t?o-e.left:o-e.right;if("left"==t)return"right"}return e?e[t]:"left"},actions:{mousemove:function(t,e){for(var o=t.target;o&&"BODY"!=o.tagName&&"LYTE-MENU-ITEM"!=o.tagName;)o=o.parentNode;if(o&&"LYTE-MENU-ITEM"==o.tagName){var i=e.querySelector(".lyteMenuSelection");if(i==o)return;i?(i.classList.remove("lyteMenuSelection"),o.classList.add("lyteMenuSelection")):i||o.classList.add("lyteMenuSelection")}}},arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},heightObs:function(){this.menuBody.style.height=this.getData("ltPropHeight")}.observes("ltPropHeight").on("didConnect"),appendFreeze:function(t){var e;(e=document.createElement("div")).setAttribute("class",t),document.body.appendChild(e)},resizeFunc:function(t){clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){for(var t=document.querySelectorAll("lyte-menu:not(.lyteMenuClosed)"),e=0;e<t.length;e++)if(!t[e].component.hasOwnProperty("parentMenu")){"contextmenu"==t[e].component.data.ltPropEvent?t[e].component.setContextCss.call(t[e].component):t[e].component.setCss.call(t[e].component);var o=t[e].component.childMenu;o&&o.setCss.call(o);var i=t[e].component;i.getData("ltPropFreeze")&&!i.parentMenu&&setTimeout(i.setZIndex.bind(i),100),setTimeout(i.heightCheck.bind(i,i.childComp),100)}}.bind(this),16)},keydownCheck:function(t){var e=t.which||t.keyCode;if(27==e)lyteCloseMenu(t,void 0,!0);else if(/^(38|40|13)$/.test(e)){var o=document.querySelectorAll("lyte-menu:not(.lyteMenuClosed)[lyte-rendered]");if(o.length){for(var i=0;i<o.length;i++){var l=o[i].component;if(!l.childMenu){l.traverseList.call(l,t);break}}/^(38|40)$/.test(e)&&t.preventDefault()}}},searchFilter:function(t){if(this._typed="",t){for(var e=this.childComp.querySelectorAll("lyte-menu-item"),o={},i=0;i<e.length;i++){var l=e[i].textContent.trim().toLowerCase().indexOf(t);-1!=l&&(l<o.index||void 0==o.index)&&(o.item=e[i],o.index=l)}if(o.item){var a=this.childComp.querySelector("lyte-menu-item.lyteMenuSelection");if(o.item==a)return;a&&a.classList.remove("lyteMenuSelection"),o.item.classList.add("lyteMenuSelection"),this.scrIntoView.call(this,o.item)}}},scrIntoView:function(t){$L.fastdom.measure(function(){var e=t.getBoundingClientRect(),o=this.findscrElem.call(this,t),i=o.getBoundingClientRect();$L.fastdom.mutate(function(){e.bottom>i.bottom?o.scrollTop+=parseInt(e.bottom-i.bottom):e.top<i.top&&(o.scrollTop+=parseInt(e.top-i.top))}.bind(this))}.bind(this))},findscrElem:function(t){for(var e=t.parentNode;e&&"LYTE-MENU-BODY"!=e.nodeName;){var o=window.getComputedStyle(e).getPropertyValue("overflow-y");if(e.scrollHeight>e.offsetHeight&&("auto"==o||"scroll"==o))break;e=e.parentNode}return e},didDestroy:function(){for(var t=this.childComp.querySelectorAll("lyte-menu-item"),e=0;e<t.length;e++){t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))}var o=this.getData("eventListeners"),i=this.getData("ltPropEvent");if(this.childComp&&this.childComp.parentElement.removeChild(this.childComp),0==document.body.querySelectorAll("lyte-menu").length){var l=document.body.querySelectorAll("div.lytemenufreezelayer");for(e=0;e<l.length;e++)document.body.removeChild(l[e]);document._lyteMenu&&(delete document._lyteMenu,document.documentElement.removeEventListener("keydown",this.keydownCheck,!0),document.documentElement.removeEventListener("keypress",menukeypress,!0),document.documentElement.removeEventListener("click",lyteCloseMenu,!0),window.removeEventListener("resize",this.resizeFunc,!0))}else this.data.ltPropShow&&this.data.ltPropFreeze&&this.removeFreeze();var a,n=this.getData("ltPropQuery"),r=this.getData("parIndex");if((n||void 0!=r)&&(n&&(a=document.querySelectorAll(n)),document.removeEventListener("mouseenter"==i?"mousemove":i,o.event,!0),n))for(e=0;e<a.length;e++)delete a[e].menu;void 0!=this._bodyoverflow&&(document.body.style.overflow=this._bodyoverflow),clearTimeout(this._typetime),delete this.menuNodes,delete this.menuBody,delete this.childComp,delete this.$node.toggle},closestFind:function(t,e){for(var o=this.getData("parIndex"),i=this.arrayFrom.call(this,void 0!=o?this.$node.parentNode.parentNode.querySelectorAll("lyte-menu-item:nth-of-type("+ ++o+")"):document.querySelectorAll(e.trim())),l=0;l<t.length;l++)if(-1!=Array.prototype.indexOf.call(i,t[l]))return t[l];return null},checkElementForMenu:function(t){if(!t.menuFlag){var e=this.getData("ltPropQuery"),o=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),e);if(null!=o){if(this._evtadded)return void(this.data.ltPropAnimate&&0==parseInt(this.menuBody.style.height)&&this.setData("ltPropShow",!1));if(!this.childComp.classList.contains("lyteMenuHidden")&&this.$node.element!=o){this.childComp.classList.remove("lyteAnimate"),this._hideStarts=!0,this._closest=o,this._event=t;var i=new Promise(function(e,o){this._promResolve=e,this._promReject=o,this.hideMenu.call(this,!0,t)}.bind(this));return void Promise.resolve(i).then(function(){this.openingMenu(this._closest,this._event),delete this._closest,delete this._event,delete this._promReject,delete this._promResolve}.bind(this),function(){delete this._closest,delete this._event,delete this._promReject,delete this._promResolve}.bind(this))}this.openingMenu(o,t)}}},openingMenu:function(t,e){"LYTE-MENU-ITEM"==t.tagName&&"click"==e.type&&e.stopPropagation(),"contextmenu"==e.type&&e.preventDefault(),e.menuFlag=!0,$L.fastdom.mutate(function(){this.$node.element=t,t.menu=this.$node,this.parentMenu||this.$node.toggle(e||{})}.bind(this))},didConnect:function(){var t=this.$node.querySelector("lyte-menu-box"),e=this.$node.querySelector("lyte-menu-body");this.$node.toggle=function(t,e){this.childComp.classList.contains("lyteMenuHidden")||e?(["mousedown","mouseup"].indexOf(t.type)>-1&&(document._lyteMenu.preventClick=!1),this.openMenu.call(this,t)):this.childMenu||-1!=t.type.indexOf("mouse")||this._hideStarts||this.hideMenu.call(this,!0,t)}.bind(this),e.addEventListener("click",this.optionSelect.bind(this)),e.parent=this.$node,t.parent=this.$node,this.childComp=t,this.menuBody=e,t.classList.add("lyteMenuHidden"),this.$node.classList.add("lyteMenuClosed");var o=document.createElement("span");o.setAttribute("class","lyteArrow"+(this.data.ltPropCallout?"":" lyteMenuHidden")),e.insertBefore(o,e.children[0]),t.style.width=this.getData("ltPropWidth"),LyteComponent.appendChild(document.body,t),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this.menuBody.classList.add("lyteRTL")}.bind(this))}.bind(this))},calloutObs:function(t){var e=this.childComp.querySelector("span.lyteArrow");t.newValue?e.classList.remove("lyteMenuHidden"):e.classList.add("lyteMenuHidden")}.observes("ltPropCallout"),data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropQuery:Lyte.attr("string",{default:""}),ltPropEvent:Lyte.attr("string",{default:"click"}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropUserValue:Lyte.attr("string",{default:""}),ltPropSystemValue:Lyte.attr("string",{default:""}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropDescription:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("number",{default:0}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWidth:Lyte.attr("string",{default:"auto"}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropQueryClass:Lyte.attr("string",{default:"lyteMenuSelected"}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropScope:Lyte.attr("string",{default:""}),ltPropPreventInsideClick:Lyte.attr("boolean",{default:!1}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSetCss:Lyte.attr("boolean",{default:!0}),ltPropWrapperClass:Lyte.attr("string",{default:""}),eventListeners:Lyte.attr("object",{default:{}}),pos:Lyte.attr("string",{default:""}),parIndex:Lyte.attr("number")}},firePosCallBack:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",this.getData("pos"),this.$node)}.observes("pos"),contentChangeObs:function(){this.contentChange.call(this)}.observes("ltPropContent"),contentChange:function(){this.childComp.classList.contains("lyteMenuHidden")||(this.setCss.call(this),this.menuBody.style.removeProperty("height"))},setContextCss:function(t,e){var o=this.$node.element,i=this.childComp;$L.fastdom.measure(function(){if(!t){var l=o.getBoundingClientRect();t={clientX:l.left+l.width/2,clientY:l.top+l.height/2}}var a=i.getBoundingClientRect(),n=window.innerHeight,r=window.innerWidth,s=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),d=window.pageYOffset||document.documentElement.scrollTop,p=this.rtlfunc.call(this,"left"),c=this._dir?r-t.clientX:t.clientX;$L.fastdom.mutate(function(){switch(e||(e=this.data.ltPropPosition),e){case"up":i.style[p]=c+s+"px",i.style.top=t.clientY-a.height+d+"px",a.top<0&&(i.style.top=t.clientY+d+"px"),parseInt(i.style.top)+a.height>n+d&&(i.style.top=t.clientY-a.height+d+"px"),this.setData("pos","up");break;default:i.style[p]=c+s+"px",i.style.top=t.clientY+d+"px",parseInt(i.style.top)+a.height>n+d&&(i.style.top=t.clientY-a.height+d+"px"),parseInt(i.style.top)<0&&(i.style.top=t.clientY+d+"px"),this.setData("pos","down")}a.left<0?i.style[p]=t.clientX+"px":this.rtlfunc.call(this,"right",a,r)>r&&(i.style[p]=t.clientX-a.width+"px"),this._hgt=this.heightCheck.call(this,this.menuBody,event,a)}.bind(this))}.bind(this))},openMenu:function(t,e){var o,i,l=this.getData("ltPropEvent");if(t=t||{},e||(i=this.targetElem.call(this,t.target))[0]&&(i[0].originMenu=i[1].component),e&&"contextmenu"!=l){if(!this.$node.element){var a=this.getData("ltPropQuery");this.$node.element=document.body.querySelector(a.trim())}"LYTE-MENU-ITEM"==this.$node.element.tagName?i=this.targetElem.call(this,this.$node.element):i||(i=[])}this.getMethods("onBeforeOpen")&&(o=this.executeMethod("onBeforeOpen",this.$node,t,this.$node.element)),0!=o?($L.fastdom.measure(function(){this.childComp.scrollTop=0}.bind(this)),$L.fastdom.mutate(function(){this.childComp.classList.remove("lyteMenuHidden"),this.$node.classList.remove("lyteMenuClosed"),this.childComp.style.display="block",this.parentMenu||this.$node.element.classList.add(this.getData("ltPropQueryClass")),this.getData("ltPropHeight")?this.menuBody.style.height=this.getData("ltPropHeight"):this.menuBody.style.removeProperty("height"),"contextmenu"==this.getData("ltPropEvent")?this.setContextCss.call(this,t):this.setCss.call(this),i[0]&&"LYTE-MENU"==i[1].tagName&&(i[1].component.childMenu=this,this.parentMenu=i[1].component,i[1].component.childComp.addEventListener("mousemove",this.mouseleave)),this.parentMenu||"LYTE-MENU-ITEM"==this.$node.element.tagName||lyteCloseMenu(t,this.$node),this.getData("ltPropFreeze")&&!this.parentMenu?this.setZIndex.call(this):document.menu||(window.addEventListener("scroll",this.addScrollPos,!0),document.menu=this),"mouseenter"!=l&&"mouseover"!=l&&"mousemove"!=l||this.childMenu||this.parentMenu||i[0]||(document.addEventListener("mousemove",this._hoverclose),this.$node.element.addEventListener("mousemove",this.preventEvent),this.menuBody.addEventListener("mousemove",this.preventEvent)),"contextmenu"!=t.type&&(this._hgt=this.heightCheck.call(this,this.menuBody,t),this.getData("ltPropAnimate")&&0!=this._hgt&&(this.menuBody.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)+this._hgt+"px"),setTimeout(this.animeClassAdd.bind(this),20))),this.getMethods("onOpen")&&this.executeMethod("onOpen",this.$node,t,this.$node.element)}.bind(this)),"contextmenu"==t.type&&t.preventDefault()):(this._dontCall=!0,delete this.$node.element,this.setData("ltPropShow",!1),delete this._dontCall,this._promReject&&this._promReject())},animeClassAdd:function(){this.childComp.classList.add("lyteAnimate"),setTimeout(this.heightSet.bind(this),20)},heightSet:function(){this._evtadded=!0,this.childComp.addEventListener("transitionend",this._trsend),-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)-this._hgt+"px"),this.menuBody.style.height=this._hgt+"px"},tranEnd:function(t){this.childComp.removeEventListener("transitionend",this._trsend),this.childComp.classList.remove("lyteAnimate")},heightCheck:function(t,e){if(this.data.ltPropSetCss){var o,i=t.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,a=window.innerHeight;return o=i.bottom-i.top,i.bottom>a&&(this.menuBody.style.height=a-i.top+"px",o=a-i.top),i.top<0&&(this.menuBody.style.height=i.bottom+"px",this.childComp.style.top=l+"px",o=i.bottom),this._dontCall=!0,this.$node.ltProp("show",!0),delete this._dontCall,o}},composePath:function(t){for(var e=[],o=t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&"LYTE-MENU-BODY"!=i.tagName&&(i._pe=i.style.pointerEvents,i.style.pointerEvents="none",o.push(i),i!=(i=document.elementFromPoint(t,e))););for(var l=0;l<o.length;l++)o[l].style.pointerEvents=o[l]._pe,delete o[l]._pe;return o},hoverClose:function(t){this.$node&&-1==(document.elementsFromPoint?document.elementsFromPoint(t.clientX,t.clientY):this.elementsFromPointCal.call(this,t.clientX,t.clientY)).indexOf(this.$node.element)&&this.hideMenu.call(this,!0,t)},mouseleave:function(t){var e=this.parent.component,o=e.targetElem.call(e,t.target);e.childMenu&&o[1]==e.$node&&o[0]!=e.childMenu.$node.element&&o[0]&&(this.removeEventListener("mousemove",e.childMenu.mouseleave),e.childMenu.hideMenu.call(e.childMenu,!0,t))},hideToggle:function(t){this._dontCall||(0==t.newValue?this.hideMenu.call(this,!0,{}):this.openMenu.call(this,{},!0))}.observes("ltPropShow"),hideMenu:function(t,e,o){var i;if(this.childMenu){if(this.childMenu.childComp.contains(e.target)&&!o)return;if(!this.childMenu.hideMenu.call(this.childMenu,t,e,o))return}if(this.getMethods("onBeforeClose")&&(i=this.executeMethod("onBeforeClose",this.$node,e)),0!=i)return this.parentMenu?(delete this.parentMenu.childMenu,delete this.parentMenu):(this.$node.element.classList.remove(this.getData("ltPropQueryClass")),delete document.menu,window.removeEventListener("scroll",this.addScrollPos,!0)),this._arguments=arguments,-1!=["mouseenter","mousemove","mouseover"].indexOf(this.getData("ltPropEvent"))&&(this.$node.element.removeEventListener("mousemove",this.preventEvent),this.menuBody.removeEventListener("mousemove",this.preventEvent),document.removeEventListener("mousemove",this._hoverclose)),$L.fastdom.mutate(function(){this.data.ltPropAnimate&&"contextmenu"!=this.data.ltPropEvent?(this.menuBody.style.height=this._hgt+"px",this.childComp.classList.add("lyteAnimate"),setTimeout(function(){this.menuBody.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)+this._hgt+"px"),this.menuBody.removeEventListener("transitionend",this._close),this.menuBody.addEventListener("transitionend",this._close)}.bind(this),20)):(delete this._arguments,this.closing(t,e))}.bind(this)),!0;this._dontCall=!0,this.setData("ltPropShow",!0),delete this._dontCall,delete this._hideStarts,this._promReject&&this._promReject()},closing:function(){var t,e;this._arguments?(t=this._arguments[0],e=this._arguments[1],this.menuBody.style.height=this._hgt+"px",delete this._hgt,delete this._arguments):(t=arguments[0],e=arguments[1]),this.menuBody.removeEventListener("transitionend",this._close),this.childComp.classList.add("lyteMenuHidden"),delete this._hideStarts,this.$node.classList.add("lyteMenuClosed"),this.getData("ltPropFreeze")&&!this.parentMenu&&this.setZIndex.call(this,t),this._dontCall=!0,this.$node.ltProp("show",!1),delete this._dontCall,delete this.$node.element,delete this._evtadded,this.childComp.classList.remove("lyteAnimate");var o=this.childComp.querySelector(".lyteMenuSelection");o&&o.classList.remove("lyteMenuSelection"),$L.fastdom.measure(function(){this.getMethods("onClose")&&this.executeMethod("onClose",this.$node,e),this._promResolve&&$L.fastdom.mutate(this._promResolve.bind(this))}.bind(this))},targetElem:function(t){var e;for(t=t.correspondingElement||t;t&&"LYTE-MENU-BODY"!=t.tagName&&"BODY"!=t.tagName;)"LYTE-MENU-ITEM"==t.tagName&&(e=t),t=t.parentNode;return[e,t?t.parent:null]},optionSelect:function(t){var e,o=this.targetElem.call(this,t.target)[0];if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onMenuClick")&&o){var i;if(this.getData("ltPropYield"))i=o.getAttribute("data-value");else{var l=this.getData("ltPropContent");if(o.hasAttribute("grporder")){var a=l[parseInt(o.getAttribute("grporder"))];i=a[Object.keys(a)[0]][parseInt(o.getAttribute("elemorder"))]}else i=l[parseInt(o.getAttribute("elemorder"))]}e=this.executeMethod("onMenuClick",i,t,this.$node,this.$node.element,{element:o,submenu:!!o.originMenu})}this.childMenu&&!e&&t.stopPropagation(),(o||!o&&this.getData("ltPropPreventInsideClick"))&&lyteCloseMenu(t,void 0,!0)},setLeftExceedForDown:function(t,e,o,i,l,a){var n=o;return l+this.rtlfunc.call(this,"left",n,a)+n.width-i.width},setLeftNotExceedForDown:function(t,e,o,i){var l=e;return o+this.rtlfunc.call(this,"left",l,i)},setTopAboveForDown:function(t,e,o,i,l){return l+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o,i){var l=e;return o+this.rtlfunc.call(this,"left",l,i)+l.width},setRightForRight:function(t,e,o,i,l,a){var n=o,r=i;return l+this.rtlfunc.call(this,"left",n,a)-r.width},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,l){var a=o;return l+a.top+a.height-i.height},setCorrectClass:function(t){for(var e=this.childComp.querySelector(".lyteArrow"),o=e.classList,i=0;i<o.length;i++)"lyteArrow"!=o[i]&&o[i]!=t&&(e.classList.remove(o[i]),i--);e.classList.add(t)},setCss:function(t){var e=this.childComp;if(e&&!e.classList.contains("lyteMenuHidden")&&this.getData("ltPropSetCss")){var o,i,l,a=this.getData("ltPropCallout"),n=e,r=this.$node.element,s=window.innerWidth,d=this.getData("ltPropScope");if(d){var p={target:r},c=this.closestFind.call(this,this.composePath.call(this,p),d);if(c){var h=c.getBoundingClientRect();i=this.rtlfunc.call(this,"left",h,s)<0?0:this.rtlfunc.call(this,"left",h,s),o=s>this.rtlfunc.call(this,"right",h,s)?this.rtlfunc.call(this,"right",h,s):s,l=!0}}l||(o=s,i=0);var u,y,m,g,f,v,D,b,P,C,L=window.innerHeight,x=n.getBoundingClientRect(),S=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),w=window.pageYOffset||document.documentElement.scrollTop,_=n.offsetHeight,M=n.offsetWidth,E=e.querySelector(".lyteArrow"),T=this.getData("ltPropPosition"),R=r.getBoundingClientRect(),k=E?E.getBoundingClientRect():{width:0,height:0},A=k.height/2,N=k.width/2,B=this.rtlfunc.call(this,"left",R,s),I=this.rtlfunc.call(this,"left");if(E&&(E.style.removeProperty("left"),E.style.removeProperty("top"),E.style.removeProperty("bottom"),E.style.removeProperty("right")),"down"===T)u=!0,(v=R.top+R.height)+_>L&&(u=L-R.top>R.bottom-0),y=!0,(D=B)+M>o&&D>D+R.width-n.offsetWidth?y=!1:B+M<=o&&(y=!0),R.width>M&&(E.style[I]=(M/2-0)/M*100+"%"),u?(P="down",a?(this.setCorrectClass("lyteArrowTop"),f=this.setTopBelowForDown(r,R,w)+A+"px"):n.style.top=this.setTopBelowForDown(r,R,w)+"px"):(P="up",a?(this.setCorrectClass("lyteArrowBottom"),f=this.setTopAboveForDown(r,n,R,x,w)-A+"px"):n.style.top=this.setTopAboveForDown(r,n,R,x,w)+"px"),y?(a&&(C=Math.max(R.width/2-N,N/2)/(b=M/100),E.style[I]=C+"%"),n.style.top=f||n.style.top,n.style[I]=this.setLeftNotExceedForDown(r,R,S,s)+"px"):(a&&(b=M/100,C=(M-R.width/2-N)/b,E.style[I]=C+"%"),n.style.top=f||n.style.top,n.style[I]=this.setLeftExceedForDown(r,n,R,x,S,s)+"px");else if("right"===T)y=!0,y=!(B+R.width+M>o&&B-x.width>i),u=!0,R.top+x.height>L&&(u=L-R.top>R.bottom-0),y?(P="right",a?(this.setCorrectClass("lyteArrowLeft"),f=this.setLeftForRight(r,R,S,s)+N+"px"):n.style[I]=this.setLeftForRight(r,R,S,s)+"px"):(P="left",a?(this.setCorrectClass("lyteArrowRight"),f=this.setRightForRight(r,n,R,x,S,s)-N+"px"):n.style[I]=this.setRightForRight(r,n,R,x,S,s)+"px"),u?(a&&(E.style.top=Math.max(R.height/2-A,A/2)+"px"),n.style[I]=f||n.style[I],n.style.top=this.setTopForRight(r,R,w,s)+"px"):(a&&(E.style.bottom=Math.max(R.height/2-A,A/2)+"px"),n.style[I]=f||n.style[I],n.style.top=this.setTopForRightAbove(r,n,R,x,w,s)+"px");else if("up"===T)m=!0,R.top-x.height<0&&(m=L-R.top<R.bottom-0),y=!0,B+M>o&&B>B+R.width-n.offsetWidth?y=!1:B+M<=o&&(y=!0),R.width>M&&E&&(E.style[I]=(M/2-0)/M*100+"%"),m?(P="up",a?(this.setCorrectClass("lyteArrowBottom"),f=this.setTopAboveForDown(r,n,R,x,w)-A+"px"):n.style.top=this.setTopAboveForDown(r,n,R,x,w)+"px"):(P="down",a?(this.setCorrectClass("lyteArrowTop"),f=this.setTopBelowForDown(r,R,w)+A+"px"):n.style.top=this.setTopBelowForDown(r,R,w,s)+"px"),y?(a&&(C=Math.max(R.width/2-N,N/2)/(b=M/100),E.style[I]=C+"%"),n.style.top=f||n.style.top,n.style[I]=this.setLeftNotExceedForDown(r,R,S,s)+"px"):(a&&(b=M/100,C=(M-R.width/2-N)/b,E.style[I]=C+"%"),n.style.top=f||n.style.top,n.style[I]=this.setLeftExceedForDown(r,n,R,x,S,s)+"px");else if("left"===T)g=!0,g=!(B-x.width<i&&B+x.width<o),u=!0,R.top+x.height>L&&(u=L-R.top>R.bottom-0),g?(P="left",a?(this.setCorrectClass("lyteArrowRight"),f=this.setRightForRight(r,n,R,x,S,s)-N+"px"):n.style[I]=this.setRightForRight(r,n,R,x,S,s)+"px"):(P="right",a?(this.setCorrectClass("lyteArrowLeft"),f=this.setLeftForRight(r,R,S,s)+N+"px"):n.style[I]=this.setLeftForRight(r,R,S)+"px"),u?(a&&(E.style.top=Math.max(R.height/2-A,A/2)+"px"),n.style[I]=f||n.style[I],n.style.top=this.setTopForRight(r,R,w)+"px"):(a&&(E.style.bottom=Math.max(R.height/2-A,A/2)+"px"),n.style[I]=f||n.style[I],n.style.top=this.setTopForRightAbove(r,n,R,x,w)+"px");else if("downLeft"===T){if(u=!0,(v=R.top+R.height)+_>L&&(u=L-R.top>R.bottom-0),u||(v=R.top-_),y=!1,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.max(B+R.width/2-M,B-M+2*A))<i?(D=i,y=!0):y=!1,n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?B+.25*R.width-D+"px":Math.min(M-.25*R.width,M-1.5*A-3)+"px",E.style[I]=F;P=u?"downLeft":"upLeft"}else if("downRight"===T){if(u=!0,(v=R.top+R.height)+_>L&&(u=L-R.top>R.bottom-0),u||(v=R.top-_),y=!0,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.min(B+R.width/2,B+R.width-2*A))+M>o?(D=o-M,y=!1):y=!0,n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?Math.max(.25*R.width,N/2)+"px":B+.25*R.width-D+"px",E.style[I]=F;P=u?"downRight":"upRight"}else if("upLeft"===T){if(u=!1,(v=R.top-_)<0&&(u=L-R.top>R.bottom-0),u&&(v=R.top+R.height),y=!1,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.max(B+R.width/2-M,B-M+2*A))<i?(D=i,y=!0):y=!1,n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?B+.25*R.width-D+"px":Math.min(M-.25*R.width,M-1.5*A-3)+"px",E.style[I]=F;P=u?"downLeft":"upLeft"}else if("upRight"===T){if(u=!1,(v=R.top-_)<0&&(u=L-R.top>R.bottom-0),u&&(v=R.top+R.height),y=!0,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.min(B+R.width/2,B+R.width-2*A))+M>o?(D=o-M,y=!1):y=!0,n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?Math.max(.25*R.width,N/2)+"px":B+.25*R.width-D+"px",E.style[I]=F;P=u?"downRight":"upRight"}else if("downAlignLeft"===T){if(u=!0,(v=R.top+R.height)+_>L&&(u=L-R.top>R.bottom-0),u||(v=R.top-_),y=!1,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.max(B+R.width-M,B-M+2*A))<i?(D=Math.max(Math.min(B,B+R.width-2*A),i),y=!0):(D=Math.min(o-M,D),y=!1),n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?(R.right-D)/2+"px":Math.min((B-D+M)/2,M-1.5*A-3)+"px",E.style[I]=F;P=u?"downAlignLeft":"upAlignLeft"}else if("downAlignRight"===T){if(u=!0,(v=R.top+R.height)+_>L&&(u=L-R.top>R.bottom-0),u||(v=R.top-_),y=!0,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.min(B,B+R.width-2*A))+M>o?(D=Math.min(Math.max(B+R.width-M,B-M+2*A),o-M),y=!1):(D=Math.max(D,0),y=!0),n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?Math.max(.5*(this.rtlfunc.call(this,"right",R,s)-D-N),N/2)+"px":.5*(-D+M+B)+"px",E.style[I]=F;P=u?"downAlignRight":"upAlignRight"}else if("upAlignLeft"===T){if(u=!1,(v=R.top-_)<0&&(u=L-R.top>R.bottom-0),u&&(v=R.top+R.height),y=!1,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.max(B+R.width-M,B-M+2*A))<i?(D=Math.max(Math.min(B,B+R.width-2*A),i),y=!0):(D=Math.min(o-M,D),y=!1),n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?(R.right-D)/2+"px":Math.min((B-D+M)/2,M-1.5*A-3)+"px",E.style[I]=F;P=u?"downAlignLeft":"upAlignLeft"}else if("upAlignRight"===T){var F;if(u=!1,(v=R.top-_)<0&&(u=L-R.top>R.bottom-0),u&&(v=R.top+R.height),y=!0,a&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(D=Math.min(B,B+R.width-2*A))+M>o?(D=Math.min(Math.max(B+R.width-M,B-M+2*A),o-M),y=!1):(D=Math.max(D,0),y=!0),n.style.top=v+A*(u?1:-1)+w+"px",n.style[I]=D+S+"px",a)F=y?Math.max(.5*(this.rtlfunc.call(this,"right",R,s)-D-N),N/2)+"px":.5*(-D+M+B)+"px",E.style[I]=F;P=u?"downAlignRight":"upAlignRight"}this.setData("pos",P)}},checkForBoundary:function(t){var e=this.$node.element.getBoundingClientRect(),o=window.innerWidth,i=this.getData("ltPropBoundary");(i.hasOwnProperty("left")&&this.rtlfunc.call(this,"left",e,o)<this.rtlfunc.call(this,"left",i,o)||i.hasOwnProperty("right")&&this.rtlfunc.call(this,"right",e,o)>this.rtlfunc.call(this,"right",i,o)||i.hasOwnProperty("top")&&e.top<i.top||i.hasOwnProperty("bottom")&&e.bottom>i.bottom)&&this.hideMenu.call(this)},traverseList:function(t){var e=t.keyCode;if(!(this.childComp&&this.childComp.classList.contains("lyteMenuHidden")||13!=e&&40!=e&&38!=e)){var o=this.childComp.querySelector(".lyteMenuSelection");if(!o||!o.offsetParent){var i=this.childComp.querySelector("lyte-menu-item:not(.lyteSearchHidden)");if(i&&i.offsetParent)return void i.classList.add("lyteMenuSelection")}for(var l=this.childComp.querySelectorAll("lyte-menu-item:not(.lyteSearchHidden)"),a=0;a<l.length&&(!l[a].offsetParent||!l[a].classList.contains("lyteMenuSelection"));a++);if(13==e)l[a].dispatchEvent(new Event("click",{bubbles:!0})),t.preventDefault();else if(38==e&&0!=a){var n=a;for(a-=1;a>-1&&(l[a].classList.contains("lyteMenuActive")||l[a].classList.contains("lyteMenuFiltered")||!l[a].offsetParent);a--);-1!=a&&(l[n].classList.remove("lyteMenuSelection"),l[a].classList.add("lyteMenuSelection"),this.scrIntoView.call(this,l[a]))}else if(40==e&&a!=l.length-1){n=a;for(a+=1;a<l.length&&(l[a].classList.contains("lyteMenuActive")||l[a].classList.contains("lyteMenuFiltered")||!l[a].offsetParent);a++);a!=l.length&&(l[n].classList.remove("lyteMenuSelection"),l[a].classList.add("lyteMenuSelection"),this.scrIntoView.call(this,l[a]))}}},setFreeze:function(t){var e=document.body.querySelectorAll(".lytemenufreezelayer:not(.nogroup)");$L.fastdom.measure(function(){var o=document.body.querySelector(".lytemenufreezelayer.left"),i=t.getBoundingClientRect(),l=window.innerWidth;$L.fastdom.mutate(function(){o.style.height=i.height+"px",o.style.width=Math.max(i.left,0)+"px",o.style.top=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.right")).style.height=i.height+"px",o.style.width=Math.max(l-i.right,0)+"px",o.style.top=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.top")).style.height=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.bottom")).style.height=window.innerHeight-i.bottom+"px";for(var t=0;t<e.length;t++)e[t].classList.remove("lyteMenuHidden"),e[t].addEventListener("wheel",this.preventEvent)}.bind(this))}.bind(this))},preventEvent:function(t){t.metaKey||t.shiftKey||t.ctrlKey||("wheel"==t.type&&t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation())},addScrollPos:function(t){if(document.menu&&(t.target==window||!document.menu.childComp.contains(t.target))){var e=document.menu;for(e.setCss.call(e);e.childMenu;)(e=e.childMenu).setCss.call(e);e.checkForBoundary.call(e,e.childComp)}},removeFreeze:function(){if(!document.menu||this.data.ltPropAnimate&&this.data.ltPropFreeze){for(var t=document.body.querySelectorAll(".lytemenufreezelayer"),e=0;e<t.length;e++)t[e].classList.add("lyteMenuHidden"),t[e].removeEventListener("wheel",this.preventEvent);document.body.style.overflow=this._bodyoverflow,delete this._bodyoverflow}},setZIndex:function(t){var e=this.$node.element;if(e){for(;e&&"HTML"!=e.tagName;){if(e.classList.contains("lyteMenuGroup")){t?this.removeFreeze.call(this):(this.setFreeze.call(this,e),this._bodyoverflow=document.body.style.overflow,document.body.style.overflow="hidden");break}e=e.parentNode}if(e&&"HTML"==e.tagName)if(t&&!document.menu)this.removeFreeze.call(this);else document.body.querySelector(".lytemenufreezelayer.nogroup").classList.remove("lyteMenuHidden"),this._bodyoverflow=document.body.style.overflow,document.body.style.overflow="hidden"}}});var LytePopup,lyteCloseMenu=function(t,e,o){if((0!=document._lyteMenu.preventClick||e)&&(t&&2!=t.button||e||o))for(var i=document.body.querySelectorAll("lyte-menu:not(.lyteMenuClosed)[lyte-rendered]"),l=0;l<i.length;l++){if(i[l]!=e&&!i[l].component.childComp.classList.contains("lyteMenuHidden"))if(o||!i[l].component.childComp.contains(t.target))if(!i[l].component._hideStarts)i[l].component.hideMenu.call(i[l].component,!e,t,o)&&(i[l].component._hideStarts=!0)}t&&"click"==t.type&&(document._lyteMenu.preventClick=!0)};function menukeypress(t){for(var e=document.querySelectorAll("lyte-menu:not(.lyteMenuClosed)[lyte-rendered]"),o=0;o<e.length;o++){var i=e[o].component;if(!i.childMenu){i._typed=i._typed||"",i._typed+=String.fromCharCode(t.which||t.keyCode),clearTimeout(i._typetime),i._typetime=setTimeout(i.searchFilter.bind(i,i._typed.trim().toLowerCase()),400);break}}}(Lyte.createCustomElement("lyte-menu-item",{static:{observedAttributes:{get:function(){return["lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o){if("function"==typeof shortcut){var i=(o=JSON.parse(o)).key,l=o.type,a=o.wait;e=e?JSON.parse(e):{},shortcut.push({newKey:i,type:l,wait:a,oldKey:e.key,value:this})}}}),Lyte.Component.register("lyte-messagebox",{_template:'<template tag-name="lyte-messagebox">\n\t<template is="if" value="{{ltPropShow}}">\n\t\t<template case="true"><lyte-wormhole style="visibility: hidden" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" on-append="{{method(&quot;afterWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="{{lyteUiMsgBoxConcatClass(ltPropClass,ltPropType,\'MessageIcon\',\'lyteMessageBox\')}}">\n\t\t\t\t\t<template is="if" value="{{ltPropType}}"><template case="true">\n\t\t\t\t\t<span class="lyteMessageBoxSymbol"></span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<span class="lyteMessageBoxContent">\n\t\t\t\t\t\t\t<lyte-yield yield-name="messageboxYield"></lyte-yield>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropMessage,\'\')}}">\n\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t<span class="lyteMessageBoxContent">{{ltPropMessage}}</span>\n\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<span class="lyteMessageBoxClose" onclick="{{action(\'closeMessageBox\')}}"></span>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,5]}]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropMessage","ltPropDuration","ltPropOffset","ltPropTransition","ltPropYield","ltPropClass"],init:function(){},data:function(){return{ltPropType:Lyte.attr("string",{default:"success"}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropMessage:Lyte.attr("string",{default:""}),ltPropDuration:Lyte.attr("string",{default:"2000"}),ltPropOffset:Lyte.attr("object",{default:null}),ltPropTransition:Lyte.attr("object",{default:{animation:"fadeIn",duration:"0.2s"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropClass:Lyte.attr("string",{default:""})}},setDuration:function(){var t=this.$node.ltProp("duration");""!=t&&this.setData("ltPropDuration",t)}.observes("ltPropDuration"),computeOffsetImpl:function(){var t=this.actualMessageDiv,e=t.getBoundingClientRect(),o=Object.assign({},this.$node.ltProp("offset")),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.$node.ltProp("offset")){if("center"===o.left||"center"===o.right||void 0==o.left||""==o.left){var a=(i-e.width)/2;a<0&&(a=20),o.left=a+"px"}if("center"===o.top||"center"===o.bottom){var n=(l-e.height)/2;n<0&&(n=20),o.top=n+"px"}o.right&&"center"!==o.right&&(o.right.indexOf("%")>-1?o.left=i-(e.width+i/parseFloat(o.right))+"px":o.left=i-(e.width+parseFloat(o.right))+"px"),o.bottom&&"center"!==o.bottom&&(o.bottom.indexOf("%")>-1?o.top=l-(e.height+l/parseFloat(o.bottom))+"px":o.top=l-(e.height+parseFloat(o.bottom))+"px"),o.top||(o.top=20),t.style.left=parseFloat(o.left)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top=parseFloat(o.top)+"px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(parseFloat(o.top)+e.height)+"px)")}else{var r;r=(document.body.clientWidth-e.width)/2,t.style.left=parseFloat(r)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top="20px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(e.height+20)+"px)")}},closeMessageBoxFn:function(){this.timeOutId&&(clearTimeout(this.timeOutId),this.timeOutId=!1),delete this.actualMessageDiv,delete this.childComp,this.getMethods("onClose")&&this.executeMethod("onClose",this)},showToggled:function(){if(this.$node.ltProp("show")){var t=parseInt(this.getData("ltPropDuration")),e=this;this.timeOutId=setTimeout(function(){"slideFromTop"!=e.getData("ltPropTransition").animation?(e.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),e.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)):(e.actualMessageDiv.style.transform="",setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)),e.timeOutId=!1},t)}else this.closeMessageBoxFn()}.observes("ltPropShow").on("didConnect"),didDestroy:function(){this.timeOutId&&(clearTimeout(this.timeOutId),"slideFromTop"!=this.getData("ltPropTransition").animation&&this.actualMessageDiv?(this.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),this.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),this.setData("ltPropShow",!1)):(this.actualMessageDiv.style.transform="",this.setData("ltPropShow",!1)),this.timeOutId=!1)},actions:{closeMessageBox:function(){clearTimeout(this.timeOutId);var t=this;"slideFromTop"!=t.getData("ltPropTransition").animation?(t.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),t.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},500)):(t.actualMessageDiv.style.transform="",setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},200))}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualMessageDiv=this.childComp.querySelector(".lyteMessageBox"),this.actualMessageDiv.style.position="fixed"},afterWormholeAppend:function(t){"slideFromTop"==this.getData("ltPropTransition").animation?(this.actualMessageDiv.classList.add("lyteMessageBoxSlideFromTop"),this.computeOffsetImpl()):(this.computeOffsetImpl(),this.actualMessageDiv.classList.add("lyteMessageBoxFadeIn"),this.childComp.style.visibility="visible")}}}),Lyte.Component.register("lyte-multislider",{_template:'<template tag-name="lyte-multislider">\n\t<div class="lyteSlide{{if(ltPropDisabled, \' lyteSliderDisabled\', \'\')}}" onkeydown="{{action(\'keydown\', event)}}" tabindex="0" style="width: {{ltPropWidth}}; height: {{ltPropHeight}}">\n\t\t<div class="lyteRangeSlider {{ltPropDirection}}" onclick="{{action(\'click\',event)}}" style="background-color: {{ltPropNonFillColor}}">\n\t\t\t<template is="for" items="{{ltPropValue}}" item="item" index="index">\n\t\t\t\t<div class="lyteSliderFill {{ltPropValue[index].class}}" id="{{{{ltPropValue[index].id}}}}" data-order="{{index}}" style="background-color: {{if(ltPropColor[index], ltPropColor[index], ltPropFillColor)}};left: 0; top: 0;right: 0"></div>\n\t\t\t\t<div data-order="{{index}}" class="lyteSliderHandler {{ltPropHandler}} lyteHandler{{index}} {{item.class}}" lt-prop-title="{{if(ltPropTooltip, item.value, \'\')}}" onmousedown="{{action(\'mousedown\', event, this, index)}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t</template>\n\t\t\t<div class="lyteSliderFill endFill" id="endFill" style="right: 0;bottom: 0;left: 0;background-color: {{ltPropFillColor}}"></div>\n\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t<lyte-yield yield-name="lyteMultiSlider"></lyte-yield>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteScaleOption {{ltPropHandler}}">\n\t\t\t\t\t<template is="for" items="{{divLength}}" index="indexVal">\n\t\t\t\t\t\t<span class="lyteScaleLine" style="{{item}}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<span class="lyteScalLable">{{scaleVal[indexVal]}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</div>\n\t</div>\t\n</template>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","ltPropWidth","'; height: '","ltPropHeight"]}}}},{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color: '","ltPropNonFillColor"]}}}},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color: '",{type:"helper",value:{name:"if",args:["ltPropColor[index]","ltPropColor[index]","ltPropFillColor"]}},"';left: 0; top: 0;right: 0'"]}}}},{type:"attr",position:[3]}]},{type:"attr",position:[1,1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'right: 0;bottom: 0;left: 0;background-color: '","ltPropFillColor"]}}}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"item"}}},{type:"text",position:[1,3,0]}]}]}},default:{}}],_observedAttributes:["ltPropMin","ltPropMax","ltPropValue","ltPropDirection","ltPropHandler","ltPropWidth","ltPropFillColor","ltPropNonFillColor","ltPropHeight","ltPropContent","ltPropScaleInterval","ltPropDiscrete","ltPropScaleAppend","ltPropScalePrepend","ltPropColor","ltPropTooltipStyle","ltPropTooltipConfig","ltPropTooltip","ltPropDigits","ltPropMinDiff","ltPropYield","divLength","scaleVal","secArr"],init:function(){this._dir=_lyteUiUtils.getRTL(),this._mv=this.mousemove.bind(this),this._mp=this.mouseup.bind(this),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this.$node.reRender=function(){this.initWrk.call(this),this.dctWrk.call(this)}.bind(this)},dcnt:function(){this._prevent||(clearTimeout(this._time),this._time=setTimeout(this.dctWrk.bind(this),30))}.observes("ltPropValue.[]","ltPropDirection","ltPropWidth","ltPropHeight","ltPropMin","ltPropMax","ltPropContent.[]").on("didConnect"),didDestroy:function(){clearTimeout(this._time),clearTimeout(this._time2),delete this.$node.reRender},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right"}return e?e[t]:t},hgtObs:function(){var t=this.data,e="lyteHorizontal"==t.ltPropDirection;this._prevent=!0,this.$node.ltProp("width",t.ltPropWidth||(e?"200px":"30px")),this.$node.ltProp("height",t.ltPropHeight||(e?"30px":"200px")),delete this._prevent}.on("init"),initWrk:function(t){this._prevent||(clearTimeout(this._time2),this._time2=setTimeout(this.initObs.bind(this),0,t))}.observes("ltPropContent.[]","ltPropDiscrete","ltPropScaleInterval","ltPropValue.[]").on("init"),initObs:function(t){var e=this.data,o="lyteHorizontal"==e.ltPropDirection,i=e.ltPropContent,l=i.length,a=l,n=e.ltPropDiscrete,r=e.ltPropScaleInterval,s=[],d=[],p=this.rtlfunc("left"),c=e.ltPropScalePrepend,h=e.ltPropScaleAppend,u=[],y=e.ltPropValue,m=e.ltPropYield;if(o||(p="top"),this._prevent=!0,l?(e.ltPropMax=100,e.ltPropMin=0,e.ltPropScaleInterval=e.ltPropDiscrete=100/(l-1),l--):(n?r=e.ltPropScaleInterval=n:r||(r=e.ltPropScaleInterval=.1*Math.abs(parseFloat(e.ltPropMax)-parseFloat(e.ltPropMin))),l=Math.abs(parseFloat(e.ltPropMax)-parseFloat(e.ltPropMin))/e.ltPropScaleInterval),!m){d.push(p+": 0"),s.push(c+(a?i[0]:e.ltPropMin)+h);for(var g=1;g<l;g++)d.push(p+":"+100*g/l+"%"),s.push(c+(a?i[g]:e.ltPropMin+r*g*(e.ltPropMin>e.ltPropMax?-1:1))+h);if(a){var f=e.ltPropDiscrete;for(g=0;g<y.length;g++){var v=i.indexOf(y[g].max);u.push({id:g-1,value:i.indexOf(y[g].value)*f,min:Math.max(0,i.indexOf(y[g].min)*f),max:Math.min(100,(-1!=v?v:100)*f)})}}d.push(p+": 100%"),s.push(c+(a?i[a-1]:e.ltPropMax)+h),this.setData("divLength",d),this.setData("scaleVal",s)}this.setData("secArr",a?u:y.slice()),delete this._prevent},dctWrk:function(t,e,o,i){var l=this.data,a=l.secArr.slice().sort(function(t,e){return t.value<e.value?-1:1}),n=(t=t||[],"lyteHorizontal"==l.ltPropDirection),r=l.ltPropContent,s=(r.length,[]),d="width",p=this.rtlfunc("left"),c=(e=e||this.$node.querySelector(".lyteSlide").getBoundingClientRect(),parseFloat(l.ltPropMax)),h=parseFloat(l.ltPropMin),u=this.$node.querySelectorAll(".lyteSliderHandler[ data-order ]"),y=(s=[],this.$node.querySelectorAll(".lyteSliderFill"));n||(d="height",p="top");for(var m=c<h?e[d]:0,g=0;g<a.length;g++){var f=l.secArr.indexOf(a[g]);t.length&&-1==t.indexOf(f)?s.push(void 0):(s.push({node:u[f],id:a.indexOf(a[g])}),s[g].bcr=o||u[f].getBoundingClientRect(),s[g].style=this.getLeft(e[d],s[g].bcr[d],a[g].value,c,h),v=this.findPrevmin.call(this,f,a[g].value))}for(g=0;g<s.length;g++)if(s[g]){var v=y[s[g].id-1];m?(s[g].style=m-s[g].style-s[g].bcr[d],s[g].node.style[p]=s[g].style+"px",y[s[g].id].style[p]=s[g].style+s[g].bcr[d]/2+"px",y[s[g].id].style[d]=Math.max(0,(v?parseFloat(v.style[p]):m)-s[g].bcr[d]/2-s[g].style)+"px",s[g].id+2==y.length&&(y[s[g].id+1].style[p]="0",y[s[g].id+1].style[d]=Math.max(0,s[g].style+s[g].bcr[d]/2)+"px",y[s[g].id+1].setAttribute("range-max",this.convert(r,h))),0==s[g].id&&y[s[g].id].setAttribute("range-min",this.convert(r,c))):(s[g].node.style[p]=s[g].style+"px",y[s[g].id+1].style[p]=s[g].style+s[g].bcr[d]/2+"px",y[s[g].id].style[d]=Math.max(0,s[g].style+s[g].bcr[d]/2-(v?parseFloat(v.style[p])+parseFloat(v.style[d]):0))+"px",s[g].id+2==y.length&&(y[s[g].id+1].style[d]=Math.abs(m-Math.max(e[d]-s[g].style-s[g].bcr[d]/2,0))+"px",y[s[g].id+1].setAttribute("range-max",this.convert(r,c))),0==s[g].id&&y[s[g].id].setAttribute("range-min",this.convert(r,h))),y[s[g].id].setAttribute("range-max",this.convert(r,a[s[g].id].value)),y[s[g].id+1].setAttribute("range-min",this.convert(r,a[s[g].id].value))}!i&&this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},setValues:function(t,e,o){var i={};return void 0==o?(i.left=0,i.width=e+t):(i.left=parseFloat(o.style)+t,i.width=e-i.left+t),i},findPrevmin:function(t,e,o,i,l){var a,n,r=this.data.secArr.slice();if(void 0!=e){for(var s=0;s<r.length;s++)-1==[t,l,i].indexOf(s)&&(r[s].value<=e&&!o?a&&r[s].value>a?(a=r[s].value,n=s):a||(a=r[s].value,n=s):r[s].value>=e&&o&&(a&&r[s].value<a?(a=r[s].value,n=s):a||(a=r[s].value,n=s)));return[n,a]}return r.sort(function(t,e){return t.value<e.value?-1:1}),[n=this.data.secArr.indexOf(r[r.length-1]),this.data.secArr[n].value]},findPrevmin1:function(t,e,o){for(var i,l,a=this.data.secArr.slice(),n=0;n<a.length;n++)n!=t&&(o?e<a[n].value&&(l&&a[n].value<l?(l=a[n].value,i=n):l||(l=a[n].value,i=n)):e>a[n].value&&(l&&a[n].value>l?(l=a[n].value,i=n):l||(l=a[n].value,i=n)));return[i,l]},getLeft:function(t,e,o,i,l){var a=(o-Math.min(l,i))*t/(Math.max(l,i)-Math.min(l,i));return Math.round(100*Math.min(Math.max(a-.5*e,-.5*e),t-.5*e))/100},getValue:function(t,e,o,i,l,a){var n=Math.pow(10,this.data.ltPropDigits);return o>i?Math.min(Math.max(l||i,Math.round((i+(o-i)*e/t)*n)/n),a||o):Math.min(Math.max(l||o,Math.round((o+(i-o)*(t-e)/t)*n)/n),a||i)},convert:function(t,e){if(t.length)return t[Math.round(e/this.data.ltPropDiscrete)];var o=Math.pow(10,this.data.ltPropDigits);return parseInt(e*o)/o},data:function(){return{ltPropMin:Lyte.attr("number",{default:0}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropValue:Lyte.attr("array",{default:[]}),ltPropDirection:Lyte.attr("string",{default:"lyteHorizontal"}),ltPropHandler:Lyte.attr("string",{default:"lyteArrow"}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropFillColor:Lyte.attr("string",{default:""}),ltPropNonFillColor:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropScaleInterval:Lyte.attr("number"),ltPropDiscrete:Lyte.attr("number"),ltPropScaleAppend:Lyte.attr("string",{default:""}),ltPropScalePrepend:Lyte.attr("string",{default:""}),ltPropColor:Lyte.attr("array",{default:[]}),ltPropTooltipStyle:Lyte.attr("string",{default:""}),ltPropTooltipConfig:Lyte.attr("object",{default:{margin:5,position:"top"}}),ltPropTooltip:Lyte.attr("boolean",{default:!1}),ltPropDigits:Lyte.attr("number",{default:2}),ltPropMinDiff:Lyte.attr("number",{default:0}),ltPropYield:Lyte.attr("boolean",{default:!1}),divLength:Lyte.attr("array",{default:[]}),scaleVal:Lyte.attr("array",{default:[]}),secArr:Lyte.attr("array",{default:[]})}},mousemove:function(t,e){var o,i,l=this._sel,a=this.$node.querySelector(".lyteSlide").getBoundingClientRect(),n=this.data,r="lyteHorizontal"==n.ltPropDirection,s="clientX",d=this.rtlfunc("left"),p="width",c=this._idx,h=n.secArr,u=(this.$node.querySelectorAll(".lyteSliderFill"),n.ltPropDiscrete),y=n.ltPropContent,m=window.innerWidth,g=parseFloat(n.ltPropMax),f=parseFloat(n.ltPropMin),v=[],D=[],b=this.data.ltPropMinDiff;if(r||(s="clientY",d="top",p="height"),i=parseFloat(l.style[d]),"mousemove"==t.type&&(e=parseInt(100*(this.rtlfunc(s,t,m)-this.rtlfunc("right"==d?"left":d,a,m)-this._xoff-parseFloat(l.style[d])))/100),this._prevent=!0,u){var P=this.getValue(a[p],i+e,g,f),C=Math.min(Math.max(Math.round(P/u)*u,0));if(C==n.secArr[c].value&&P!=g&&P!=f||P==n.secArr[c].value)return;P!=g&&P!=f||(C=P),e=!y.length&&g<f?this.getLeft(a[p],this._bcr[p],n.secArr[c].value,g,f)-this.getLeft(a[p],this._bcr[p],C,g,f):this.getLeft(a[p],this._bcr[p],C,g,f)-i}y.length&&(b*=u),!isNaN(b)&&(void 0!=(v=this.findPrevmin1(c,h[c].value))[0]?v[1]+=1*b:v[1]=Math.min(g,f),void 0!=(D=this.findPrevmin1(c,h[c].value,!0))[0]?D[1]-=1*b:D[1]=Math.max(g,f),e<0&&h[c].frmMax||e>0&&h[c].frmMin)||(o=h[c].value,Lyte.objectUtils(h[c],"add","value",this.getValue(a[p],i+e+this._bcr[p]/2,g,f,Math.max(h[c].min||v[1],v[1]||h[c].min),Math.min(h[c].max||D[1],D[1]||h[c].max))),Lyte.Component.set(n.ltPropValue[c],"value",this.convert(y,h[c].value)),v=this.findPrevmin(c,h[c].value),void 0!=b&&(v[1]==h[c].value?e>0&&!h[c].frmMax?h[c].frmMin=!0:h[c].frmMin||(h[c].frmMax=!0):(delete h[c].frmMax,delete h[c].frmMin)),this.dctWrk.call(this,[],a,this._bcr,!0),delete this._prevent,t.preventDefault(),"mousemove"==t.type&&this.getMethods("onChange")&&o!=h[c].value&&this.executeMethod("onChange",c,n.ltPropValue[c],t,this.$node))},mouseup:function(t){var e;document.removeEventListener("mousemove",this._mv,!0),document.removeEventListener("mouseup",this._mp,!0),this.getMethods("onSelect")&&(e=this.executeMethod("onSelect",this._idx,this.data.ltPropValue[this._idx],t,this.$node)),delete this._sel,delete this._xoff,delete this._idx,delete this._bcr,0!=e&&t.preventDefault()},callBack:function(t,e){this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.data.ltPropValue[t],e,this.$node),this.getMethods("onChange")&&this.executeMethod("onChange",t,this.data.ltPropValue[t],e,this.$node)},actions:{mousedown:function(t,e,o){if(!this.getMethods("onBeforeSelect")||0!=this.executeMethod("onBeforeSelect",e,t,o,this.$node)){$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteMultiSliderSelected");t&&t!=e&&t.classList.remove("lyteMultiSliderSelected"),e.classList.add("lyteMultiSliderSelected")}.bind(this));var i=e.getBoundingClientRect(),l="lyteHorizontal"==this.data.ltPropDirection,a="clientX",n=this.rtlfunc("left"),r=window.innerWidth;l||(a="clientY",n="top","height"),this._xoff=this.rtlfunc(a,t,r)-this.rtlfunc("right"==n?"left":n,i,r),this._sel=e,this._idx=o,this._bcr=i,document.addEventListener("mousemove",this._mv,!0),document.addEventListener("mouseup",this._mp,!0),t.preventDefault()}},click:function(t){var e=t.target,o="width",i="clientX",l=this.rtlfunc("left"),a=this.data,n=!!a.ltPropContent.length;if(!e.classList.contains("lyteSliderHandler")&&e.classList.contains("lyteSliderFill")){"lyteHorizontal"!=this.data.ltPropDirection&&(o="height",i="clientY",l="top");var r,s,d,p=this.$node.querySelector(".lyteSlide").getBoundingClientRect(),c=this.$node.querySelectorAll(".lyteSliderHandler"),h=1,u=window.innerWidth;c.length&&(r=this.getValue(p[o],this.rtlfunc(i,t,u)-this.rtlfunc("right"==l?"left":l,p,u),a.ltPropMax,a.ltPropMin),d=this.findPrevmin1(null,r),((s=this.findPrevmin1(null,r,!0))[1]||Math.max(a.ltPropMax,a.ltPropMin))-r>r-(d[1]||Math.min(a.ltPropMax,a.ltPropMin))?(d[0]=void 0!=d[0]?d[0]:d[0]||s[0],this._sel=c[d[0]],this._idx=d[0]):(s[0]=void 0!=s[0]?s[0]:d[0],this._sel=c[s[0]],this._idx=s[0]),r-a.secArr[this._idx].value<0&&(h=-1),!n&&a.ltPropMin>a.ltPropMax&&(h*=-1),this._bcr=this._sel.getBoundingClientRect(),this.mousemove.call(this,t,h*this.getLeft(p[o],this._bcr[o]/2,Math.abs(r-a.secArr[this._idx].value)+(n?0:Math.min(a.ltPropMin,a.ltPropMax)),a.ltPropMax,a.ltPropMin)),this.callBack.call(this,this._idx,t),$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteMultiSliderSelected");t&&t!=this._sel&&t.classList.remove("lyteMultiSliderSelected"),this._sel.classList.add("lyteMultiSliderSelected"),delete this._bcr,delete this._idx,delete this._sel}.bind(this)))}},keydown:function(t){if(-1!=[37,38,39,40].indexOf(t.keyCode)){var e=this.$node.querySelector(".lyteSliderHandler.lyteMultiSliderSelected");if(e){var o=this.data,i="lyteHorizontal"==o.ltPropDirection,l=i?"width":"height",a=1,n=!!o.ltPropContent.length;i?37==t.keyCode&&(a=-1):38==t.keyCode&&(a=-1),this._bcr=e.getBoundingClientRect(),this._idx=parseInt(e.getAttribute("data-order")),this._sel=e,this.mousemove.call(this,t,a*(this.getLeft(this.$node.querySelector(".lyteSlide").getBoundingClientRect()[l],this._bcr[l],o.ltPropScaleInterval+(n?0:Math.min(o.ltPropMin,o.ltPropMax)),o.ltPropMax,o.ltPropMin)+this._bcr[l]/2)),this.callBack.call(this,this._idx,t),delete this._bcr,delete this._idx,delete this._sel,t.preventDefault()}}}}}),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t){var e,o="";if("open"==t&&LytePopup.components.length>1)for(var i=LytePopup.components.length-2;i>=0;i--){if(o="LYTE-MODAL"==LytePopup.components[i].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[i].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[i].childComp.querySelector(o)){l.style.opacity="0";break}}else if("close"==t&&LytePopup.components.length>1)for(i=LytePopup.components.length-2;i>=0;i--){var l;if("LYTE-MODAL"==LytePopup.components[i].$node.tagName?(o="lyte-modal-freeze",e=LytePopup.components[i].getData("ltPropDimmer").opacity):"LYTE-POPOVER"==LytePopup.components[i].$node.tagName?(o="lyte-popover-freeze",e=LytePopup.components[i].getData("ltPropDimmer").opacity):(o=".alertFreezeLayer",e="0.4"),l=LytePopup.components[i].childComp.querySelector(o)){l.style.opacity=e;break}}},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",l="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",l="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var a=t.childComp.querySelector(l);o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")),a.style.zIndex=o+2}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open")},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t)LytePopup.components.splice(LytePopup.components.indexOf(t),1);else for(var i=LytePopup.components.length-1;i>=0;i--)LytePopup.components[i].$node&&!LytePopup.components[i].$node.ltProp("allowMultiple")&&LytePopup.components[i].$node.ltProp("show",!1)}}).bindDocumentKeydown();function addModalEvent(t){window.addEventListener("resize",function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout(function(){for(var t=LytePopup.components.length-1;t>=0;t--)LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal")&&(LytePopup.components[t].$node.component.setData("resizeCalled",!0),LytePopup.components[t].$node.component.updateScrollHandling(),LytePopup.components[t].$node.component.computeOffsetImplOnResize(),LytePopup.components[t].$node.component.callOnResize());LytePopup._lyteModalRTId=!1},100)},!0),document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("modalWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-MODAL"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var i=LytePopup.components[o].$node;i&&i.component.getData("ltPropOverlayClose")&&i.ltProp("show",!1)}},!0)}(Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal">\n\t<template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true">\n\t\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="modalWrapper {{ltPropWrapperClass}}">\n\t\t\t\t\t<div class="lyteModal">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<lyte-yield yield-name="modal"></lyte-yield>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t\t<template case="true"><lyte-modal-freeze></lyte-modal-freeze></template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type&&(mouseOffset={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(mouseOffset={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=mouseOffset.x-this.getBoundingClientRect().left,LytePopup.yPos=mouseOffset.y-this.getBoundingClientRect().top):(LytePopup.xPos=mouseOffset.x,LytePopup.yPos=mouseOffset.y);e.getBoundingClientRect();e.style.transitionDuration="0s",(t.type="mousedown")&&(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),(t.type="touchstart")&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;if(LytePopup.node){var o;if("mousemove"==t.type&&(o={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(o={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)e.style.left=o.x-LytePopup.xPos+"px",e.style.top=o.y-LytePopup.yPos+"px";else{var i=LytePopup.node.closest("lyte-wormhole")._callee.component.transform,l=i.x+(o.x-LytePopup.xPos),a=i.y+(o.y-LytePopup.yPos);e.style.transform="translate("+l+"px, "+a+"px)"}window.getSelection().removeAllRanges()}},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){var o=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=o.getData("ltPropTransition").duration,"fadeIn"!=o.getData("ltPropTransition").animation){var i=new WebKitCSSMatrix(window.getComputedStyle(o.actualModalDiv).transform);o.transform={x:i.m41,y:i.m42}}LytePopup.node=null}},showToggled:function(){if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&this.$node.ltProp({showCopy:!1,show:!1}),this.$node.ltProp("reRenderModal",!1)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var t=this.getData("ltPropOffset"),e={};for(key in t)"left"==key&&"center"!=t[key]?e.right=t[key]:"right"==key?e.left=t[key]:e[key]=t[key];this.setData("ltPropOffset",e)}this.$node.ltProp("bindToBody",!0);var o=this;setTimeout(function(){o.onBeforeShowHandling()},0)}else if(this.$node.ltProp("showCopy")){o=this;setTimeout(function(){o.onBeforeCloseHandling()},0)}}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),changeBindToBody:function(){this.getData("ltPropBindToBody")||(LytePopup.closePopup(this),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")))}.observes("ltPropBindToBody"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,o,i,l=this.actualModalDiv,a=l.querySelector("lyte-modal-content");a=a||l,l.style.maxWidth="",l.style.maxHeight="",l.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",l.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",$L.fastdom.measure(function(){var n=l.getBoundingClientRect(),r=l.parentElement.getBoundingClientRect(),s=window.getComputedStyle(l),d=(s.borderTop?parseFloat(s.borderTop):0)+(s.borderBottom?parseFloat(s.borderBottom):0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(window.getComputedStyle(l.parentElement).top):0);$L.fastdom.mutate(function(){if(this.$node.ltProp("maxWidth")?(this.setData("calculateHW",!0),e=n.width,i=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*r.width:parseFloat(this.$node.ltProp("maxWidth")),l.style.width=i+"px",e<i&&(l.style.width=e+"px"),l.style.overflowX="auto"):i=n.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=n.height-d;var s=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*r.height:parseFloat(this.$node.ltProp("maxHeight"));l.style.height=s+"px",o=s-d}else t=l.offsetHeight-d,o=t,this.$node.ltProp("scrollable")&&(o=p-40,this.setData("calculateHW",!0)),this.actualModalDiv.querySelector("lyte-modal-content")&&this.actualModalDiv.querySelector("lyte-modal-content").offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")){var c=this.actualModalDiv.querySelector("lyte-modal-header"),h=this.actualModalDiv.querySelector("lyte-modal-footer"),u=null,y=null;$L.fastdom.measure(function(){c&&(u=c.getBoundingClientRect()),h&&(y=h.getBoundingClientRect());a.getBoundingClientRect();var t=l.getBoundingClientRect().height;this.setData("prevHeight",t),$L.fastdom.mutate(function(){var t=o-((u?u.height:0)+(y?y.height:0));a.style.maxHeight=(t>0?t:50)+0+"px",a.style.overflowY="auto",l.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.actualModalDiv.style.maxWidth=i>0?i+"px":"70%",l=null,a=null,c=null,h=null,this.getData("initializedPosition")||(this.computeOffsetImpl(),this.setData("initializedPosition",!0))},this)},this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),l=null,a=null,this.getData("initializedPosition")||(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.actualModalDiv.style.position="fixed")},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.getData("ltPropFreeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.transitionDuration=this.getData("ltPropTransition").duration+"s"),this.getMethods("onShow")&&this.executeMethod("onShow",this)},callOnResize:function(){this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,o){this.$node.ltProp("showCopy",!0);var i=this;setTimeout(function(){"x"==e&&(i.actualModalDiv.style.transform="translate("+t+"px,0px)",i.transform={x:t,y:0}),"y"==e&&(i.actualModalDiv.style.transform="translate(0px,"+t+"px)",i.transform={x:0,y:t})},"undefined"!=o?o:200)},computeOffsetImplOnResize:function(){$L.fastdom.measure(function(){var t=this.actualModalDiv,e=t.getBoundingClientRect(),o=parseInt(window.getComputedStyle(t.parentElement).top),i=t.offsetTop,l=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?o:0),n=this.getData("prevWinH"),r=this.getData("prevWinW"),s=this.transform,d=null,p=null,c=this.getData("ltPropOffset"),h=this.getData("prevModalHeight")-e.height,u=this.getData("prevModalWidth")-e.width;"fadeIn"===this.getData("ltPropTransition").animation?(l<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=e.left-(r-l)/2:c.right?p=e.left-(r-l):c.left&&(p=e.left)),l>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=e.left+(l-r)/2:c.right?p=e.left+(l-r):c.left&&(p=e.left)),a<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=i-(n-a)/2:c.bottom?d=i-(n-a):c.top&&(d=i)),a>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=i+(a-n)/2:c.bottom&&"center"!=c.bottom?d=i+(a-n):c.top&&"center"!=c.top&&(d=i)),$L.fastdom.mutate(function(){d&&(t.style.top=d+"px"),p&&(t.style.left=p+"px")},this)):(l<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=s.x-(r-l)/2+u/2:c.right?p=s.x-(r-l)+u:c.left&&(p=s.x),this.transform.x=p),l>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=s.x+(l-r)/2+u/2:c.right?p=s.x+(l-r)+u:c.left&&(p=s.x),this.transform.x=p),a<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=s.y-(n-a)/2+h/2:c.bottom?d=s.y-(n-a):c.top&&(d=s.y),this.transform.y=d),a>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=s.y+(a-n)/2+h/2:c.bottom&&"center"!=c.bottom?d=s.y+(a-n):c.top&&"center"!=c.top&&(d=s.y),this.transform.y=d),$L.fastdom.mutate(function(){t.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation?(l<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?t.style.left=e.left-(r-l)/2+u/2+"px":c.right?t.style.left=e.left-(r-l)+u+"px":c.left&&(t.style.left=e.left+"px")),l>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?t.style.left=e.left+(l-r)/2+u/2+"px":c.right?t.style.left=e.left+(l-r)+u+"px":c.left&&(t.style.left=e.left+"px")),t.style.transform="translate(0px,"+this.transform.y+"px)"):"slideFromLeft"!==this.getData("ltPropTransition").animation&&"slideFromRight"!==this.getData("ltPropTransition").animation||(a<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?t.style.top=i-(n-a)/2+h/2+"px":c.bottom?t.style.top=i-(n-a)+"px":c.top&&(t.style.top=i+"px")),a>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?t.style.top=i+(a-n)/2+h/2+"px":c.bottom&&"center"!=c.bottom?t.style.top=i+(a-n)+"px":c.top&&"center"!=c.top&&(t.style.top=i+"px")),t.style.transform="translate("+this.transform.x+"px,0px)")},this)),this.setData("prevModalHeight",e.height),this.setData("prevModalWidth",e.width),this.setData("prevWinH",a),this.setData("prevWinW",l)},this),modalEle=null},computeOffsetImpl:function(t){var e=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;$L.fastdom.measure(function(){var o=e.actualModalDiv,i=Lyte.deepCopyObject(e.$node.ltProp("offset")),l=o.getBoundingClientRect(),a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(e.getData("ltPropFreeze")?parseInt(window.getComputedStyle(o.parentElement).top):0);if(o.style.transitionDuration=("undefined"!=t?t:e.$node.ltProp("transition").duration)+"s",e.setData("prevWinH",n),e.setData("prevWinW",a),e.setData("prevModalHeight",l.height),e.setData("prevModalWidth",l.width),i){if("center"===i.left||"center"===i.right){var r=(a-l.width)/2;r<0&&(r=20),i.left=r+"px"}if("center"===i.top||"center"===i.bottom){var s=(n-l.height)/2;s<0&&(s=20),i.top=s+"px"}i.right&&"center"!==i.right&&(i.right.indexOf("%")>-1?i.left=a-(l.width+a/parseFloat(i.right))+"px":i.left=a-(l.width+parseFloat(i.right))+"px"),i.bottom&&"center"!==i.bottom&&(i.bottom.indexOf("%")>-1?i.top=n-(l.height+n/parseFloat(i.bottom))+"px":i.top=n-(l.height+parseFloat(i.bottom))+"px"),""!==i.left&&i.left||(e.data.ltPropOffset.left="center",i.left=(a-l.width)/2+"px"),""!==i.top&&i.top||(e.data.ltPropOffset.top="center",i.top=(n-l.height)/2+"px"),$L.fastdom.mutate(function(){"slideFromTop"==e.getData("ltPropTransition").animation?(o.style.left=i.left,o.style.top=-1*l.height+"px",e.enableTransform(parseInt(i.top)+l.height,"y",t)):"slideFromBottom"==e.getData("ltPropTransition").animation?(o.style.left=i.left,o.style.top=n+1+"px",e.enableTransform(-1*(n-parseInt(i.top)+1),"y",t)):"slideFromLeft"==e.getData("ltPropTransition").animation?(o.style.top=i.top,o.style.left=-1*l.width+"px",e.enableTransform(parseInt(i.left)+l.width,"x",t)):"slideFromRight"==e.getData("ltPropTransition").animation?(o.style.top=i.top,o.style.left=a+1+"px",e.enableTransform(-1*(a-parseInt(i.left)+1),"x",t)):"fadeIn"==e.getData("ltPropTransition").animation&&(e.$node.ltProp("showCopy",!0),o.style.left=i.left,o.style.top=i.top,setTimeout(function(){o.style.opacity=1},200)),e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}else{var d="",p="";e.data.ltPropOffset.left="center",e.data.ltPropOffset.top="center",d=(a-l.width)/2,p=(n-l.height)/2,e.$node.ltProp("scrollable")||(d<0&&(d=20),p<0&&(p=20)),$L.fastdom.mutate(function(){"slideFromTop"==e.getData("ltPropTransition").animation?(o.style.left=d+"px",o.style.top=-1*l.height+"px",e.enableTransform(parseInt(p)+l.height,"y",t)):"slideFromBottom"==e.getData("ltPropTransition").animation?(o.style.left=d+"px",o.style.top=n+1+"px",e.enableTransform(-1*(parseInt(p)+l.height+1),"y",t)):"slideFromLeft"==e.getData("ltPropTransition").animation?(o.style.top=p+"px",o.style.left=-1*l.width+"px",e.enableTransform(parseInt(d)+l.width,"x",t)):"slideFromRight"==e.getData("ltPropTransition").animation?(o.style.top=p+"px",_modalEle.style.left=a+1+"px",this.enableTransform(-1*(parseInt(d)+l.width+1),"x",t)):"fadeIn"==e.getData("ltPropTransition").animation&&(e.$node.ltProp("showCopy",!0),o.style.left=d+"px",o.style.top=p+"px",setTimeout(function(){o.style.opacity=1},200)),e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}e.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)},e),modalEle=null},onBeforeCloseHandling:function(){var t=!0;Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.getMethods("onBeforeClose")&&(t=this.executeMethod("onBeforeClose",this)),void 0===t||t){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&LytePopup.hideOrShowFreeze("close");var e=1e3*parseFloat(this.$node.ltProp("transition").duration),o=this;setTimeout(function(){if(_lyteUiUtils.getRTL()){"slideFromLeft"==o.getData("ltPropTransition").animation?o.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==o.getData("ltPropTransition").animation&&(o.getData("ltPropTransition").animation="slideFromLeft");var t=o.getData("ltPropOffset"),e={};for(key in t)"left"==key&&"center"!=t[key]?e.right=t[key]:"right"==key?e.left=t[key]:e[key]=t[key];o.setData("ltPropOffset",e)}o.$node.ltProp("freeze")||o.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),o.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(o),o.getMethods("onClose")&&o.executeMethod("onClose",this),o.$node.ltProp("freeze")?(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")):o.actualModalDiv.style.position="fixed"},e);var i=this.actualModalDiv;i.style.transitionDuration=this.$node.ltProp("transition").duration+"s",$L.fastdom.measure(function(){i.getBoundingClientRect()}),$L.fastdom.mutate(function(){"slideFromTop"==this.getData("ltPropTransition").animation?i.style.transform="translateY(-100%)":"slideFromBottom"==this.getData("ltPropTransition").animation?i.style.transform="translateY(100%)":"slideFromLeft"==this.getData("ltPropTransition").animation?i.style.transform="translateX(-100%)":"slideFromRight"==this.getData("ltPropTransition").animation?i.style.transform="translateX(100%)":i.style.opacity=0,delete this.transform},this),$L.fastdom.mutate(function(){i=null}),i.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn"),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.opacity=0),this.setData("first",!0),this.setData("initializedPosition",!1)}this.$node.alignModal=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var o="lyteModalFrom";this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect();switch(this.$node.ltProp("transition").animation){case"slideFromTop":o+="Top";break;case"slideFromBottom":o+="Bottom";break;case"slideFromLeft":o+="Left";break;case"slideFromRight":o+="Right";break;case"fadeIn":o="lyteModalFadeIn"}if($L.fastdom.mutate(function(){this.actualModalDiv.classList.add(o),e=null},this),this.$node.ltProp("freeze")){var i=this.childComp.querySelector("lyte-modal-freeze").style;i.opacity=this.getData("ltPropDimmer").opacity,i.background=this.getData("ltPropDimmer").color}LytePopup.addPopup(this),this.$node.alignModal=this.computeOffsetImpl,this.$node.calculateOffset=this.updateScrollHandling.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.childComp&&(LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",function(t){addModalEvent(t)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var l=arguments[i];if(null!=l)for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(o[a]=l[a])}return o},writable:!0,configurable:!0}),Lyte.Component.register("lyte-nav",{_template:'<template tag-name="lyte-nav">\n\t<template is="if" value="{{expHandlers(ltPropAlignment,\'!==\',\'vertical\')}}"><template case="true">\n\t\t<template is="if" value="{{ltPropNavYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="nav" items="{{auxArray}}"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<template is="for" items="{{auxArray}}" item="item" index="index">\n\t\t\t\t<lyte-nav-item data-value="{{item[ltPropSystemValue]}}">{{item[ltPropUserValue]}}</lyte-nav-item>\n\t\t\t</template>\n\t\t</template></template>\n\t\t\n\t\t<template is="if" value="{{expHandlers(ltPropType,\'===\',\'collapse\')}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(expHandlers(menuContent.length,\'>\',0),\'||\',showMenu)}}"><template case="true">\n\t\t\t\t<span class="{{ltPropContainerClass}}">\n\t\t\t\t\t<span class="{{ltPropMenuIcon}}"></span>\n\t\t\t\t</span>\n\t\t\t</template></template>\n\t\t\t<lyte-menu lt-prop="{{stringify(ltPropMenu)}}" on-menu-click="{{method(\'itemSelected\')}}" on-before-open="{{method(\'beforeOpen\')}}" on-open="{{method(\'open\')}}" on-before-close="{{method(\'beforeClose\')}}" on-close="{{method(\'close\')}}" before-render="{{method(\'befRender\')}}" after-render="{{method(\'aftRender\')}}">\n\n\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t<template is="if" value="{{ltPropMenuYield}}"><template case="true">\n\t\t\t\t\t\t<lyte-yield yield-name="menu" items="{{menuContent}}"></lyte-yield>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<lyte-menu-body class="{{ltPropNavMenuClass}}">\n\t\t\t\t\t\t\t<template is="for" items="{{menuContent}}" item="item" index="index">\n\t\t\t\t\t\t\t\t<lyte-menu-item data-value="{{item[ltPropSystemValue]}}">\n\t\t\t\t\t\t\t\t\t<lyte-menu-label>\n\t\t\t\t\t\t\t\t\t\t{{item[ltPropUserValue]}}\n\t\t\t\t\t\t\t\t\t</lyte-menu-label>\n\t\t\t\t\t\t\t\t</lyte-menu-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</lyte-menu-body>\n\t\t\t\t\t</template></template>\n\t\t\t\t</template>\n\n\t\t\t</lyte-menu>\n\t\t</template></template>\n\t\t\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropMenu","ltPropNavYield","ltPropMenuYield","ltPropItems","ltPropUserValue","ltPropSystemValue","ltPropMaxWidth","ltPropType","ltPropNavMenuClass","ltPropMenuIcon","ltPropContainerClass","ltPropClick","ltPropAlignment","menuContent","auxArray","arrowTop","arrowBot","showMenu"],init:function(){var t=this.getData("ltPropMenu"),e=this.getData("ltPropContainerClass");$L.fastdom.measure(function(){_lyteUiUtils.nav_innerWidth||(_lyteUiUtils.nav_innerWidth=document.documentElement.clientWidth)}),Lyte.objectUtils(t,"add","yield",!0),Lyte.objectUtils(t,"add","query","."+e)},didDestroy:function(){for(var t=this.$node.querySelectorAll("lyte-nav-item"),e=0;e<t.length;e++)t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))},createOuterDiv:function(){var t=document.createElement("div");return t.setAttribute("class","lyteNavDiv"),t.style.overflow="hidden",t},show:function(t,e){this.setData("topH",t[0].getBoundingClientRect().height),this.setData("botH",t[1].getBoundingClientRect().height),this.dispArrow.call(this,t,e),this.getMethods("afterRender")&&this.executeMethod("afterRender",this)},construct:function(){for(var t,e=this.getData("ltPropItems")||[],o=0,i=this.getData("ltPropUserValue"),l=this.getData("ltPropSystemValue"),a=[];o<e.length;o++)(t={})[i]=e[o][i],t[l]=e[o][l],Lyte.arrayUtils(a,"push",t);this.setData("auxArray",a)},recalculate:function(){var t,e=this.getCurrentSelected(),o=this.getDataValue(e);this.getData("ltPropClick");this.construct(),(t=this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(o)+'"]'))&&t.setAttribute("selected",!0),this.collapse()},itemsOb:function(){this.recalculate()}.observes("ltPropItems"),getCurrentSelected:function(){var t=this.getData("ltPropClick");return this.$node.querySelector("lyte-nav-item."+t)},getDataValue:function(t){return t?t.getAttribute("data-value"):""},getWidth:function(t){return t?t.getBoundingClientRect().width:0},getMenuWidth:function(){var t,e;return this.setData("showMenu",!0),t=this.$node.querySelector("."+this.getData("ltPropContainerClass")),e=this.getWidth(t),this.setData("showMenu",!1),e},collapse:function(){$L.fastdom.measure(function(){var t,e,o=this.getData("auxArray"),i=[],l=[],a=this.$node.getBoundingClientRect(),n=parseFloat(this.getData("ltPropMaxWidth"))/100,r=a.width*n,s=0,d=(o.length,this.getData("ltPropSystemValue")),p=0,c=this.getCurrentSelected(),h=this.getDataValue(c);for(p=p+this.getWidth(c)+this.getMenuWidth();s<o.length;s++)(e=o[s])[d]!==h&&(p+=this.getWidth(this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(e[d])+'"]')))>r&&(Lyte.arrayUtils(i,"push",e),l.push(s));for(this.setData("menuContent",i);!isNaN(t=l.pop());)Lyte.arrayUtils(o,"removeAt",t,1)},this)},didConnect:function(){var t,e,o,i,l,a=this.getData("ltPropAlignment"),n=this.$node,r=n.children,s=r.length;if("horizontal"===a)t=this.getData("ltPropType"),(this.getData("ltPropItems")||[]).length>0&&(this.construct(),"collapse"===t&&this.collapse());else if("vertical"===a){for(e=this.createOuterDiv(),o=n.querySelectorAll("lyte-arrow"),i=0;i<s;i++)LyteComponent.appendChild(e,r[0]);LyteComponent.appendChild(n,e),0==o.length?(this.addArrow("arrow-up"),this.addArrow("arrow-down")):(n.insertBefore(o[0],n.children[0]),n.appendChild(o[1])),o=n.querySelectorAll("lyte-arrow"),$L.fastdom.measure(this.show.bind(this,o,e)),l=n.querySelector(".lyteNavDiv"),o[0].addEventListener("mouseenter",this.moveup.bind(this)),o[1].addEventListener("mouseenter",this.movedown.bind(this));var d=this;l.addEventListener("wheel",function(t){var e,i,a,n=t.deltaY,r=l.scrollHeight,s=l.getBoundingClientRect().height,p=l.scrollTop;t.preventDefault(),Math.floor(r)!=Math.floor(s)&&(e=o[0].getBoundingClientRect().height,i=o[1].getBoundingClientRect().height,n<0&&(p=l.scrollTop=l.scrollTop-6,"none"===o[1].style.display&&(o[1].style.display="inline-block",a=e+(i=d.getData("botH")),l.style.height="calc(100% - "+a+"px)"),p<=0&&(o[0].style.display="none",l.style.height="calc(100% - "+i+"px)")),n>0&&(p=l.scrollTop=l.scrollTop+6,"none"===o[0].style.display&&(o[0].style.display="inline-block",a=(e=d.getData("topH"))+i,l.style.height="calc(100% - "+a+"px)"),Math.floor(s)+Math.floor(p)>=Math.floor(r)&&(o[1].style.display="none",l.style.height="calc(100% - "+e+"px)")))}),o[0].addEventListener("mouseleave",this.removeup.bind(this)),o[1].addEventListener("mouseleave",this.removedown.bind(this))}},removedown:function(){window.cancelAnimationFrame(this.getData("arrowdid"))},removeup:function(){window.cancelAnimationFrame(this.getData("arrowuid"))},down:function(t,e,o){var i,l=t.scrollTop,a=t.scrollHeight,n=t.getBoundingClientRect().height;l+n<a&&(l=t.scrollTop=t.scrollTop+3),Math.floor(n)+Math.floor(l)>=a&&(e[1].style.display="none",t.style.height="calc(100% - "+o+"px)"),i=window.requestAnimationFrame(this.down.bind(this,t,e,o)),this.setData("arrowdid",i)},up:function(t,e,o){var i,l=t.scrollTop;0!==l&&(l=t.scrollTop=t.scrollTop-3),l<=0&&(e[0].style.display="none",t.style.height="calc(100% - "+o+"px)"),i=window.requestAnimationFrame(this.up.bind(this,t,e,o)),this.setData("arrowuid",i)},movedown:function(){var t,e,o=this.$node,i=o.querySelector(".lyteNavDiv"),l=o.querySelectorAll("lyte-arrow");i.getBoundingClientRect().height,i.scrollHeight;l[0].style.display="inline-block",e=this.getData("topH")+(t=this.getData("botH")),i.style.height="calc(100% - "+e+"px)",window.requestAnimationFrame(this.down.bind(this,i,l,t))},moveup:function(){var t,e,o=this.$node,i=o.querySelector(".lyteNavDiv"),l=o.querySelectorAll("lyte-arrow");i.getBoundingClientRect().height,i.scrollHeight;l[1].style.display="inline-block",e=(t=this.getData("topH"))+this.getData("botH"),i.style.height="calc(100% - "+e+"px)",window.requestAnimationFrame(this.up.bind(this,i,l,t))},addArrow:function(t){var e=document.createElement("i"),o=document.createElement("lyte-arrow"),i=this.$node;e.setAttribute("class",t),o.appendChild(e),-1!==t.indexOf("up")?i.insertBefore(o,i.children[0]):i.appendChild(o)},dispArrow:function(t,e){var o=0,i=0,l=0,a=0;switch(this.getData("arrowTop")&&(i=this.getData("topH"),o=1),this.getData("arrowBot")&&(l=this.getData("botH"),o=1==o?3:2),o){case 1:e.style.height="calc(100% - "+i+"px)",t[1].style.display="none";break;case 2:e.style.height="calc(100% - "+l+"px)",t[0].style.display="none";break;case 3:a=i+l,e.style.height="calc(100% - "+a+"px)"}},recreateFromDv:function(t){for(var e=this.getData("ltPropSystemValue"),o=0,i={},l=this.getData("ltPropUserValue"),a=this.getData("ltPropItems")||[];o<a.length;o++)if(a[o][e]===t)return i[l]=a[o][l],i[e]=t,i},findInd:function(t){for(var e=this.getData("menuContent"),o=0,i=(this.getData("ltPropUserValue"),this.getData("ltPropSystemValue"));o<e.length;o++)if(t==e[o][i])return o},setSelected:function(t){var e=this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(t)+'"]');this.getData("ltPropClick");e&&e.click()},methods:{itemSelected:function(){var t,e,o,i=arguments[4],l=this.getData("ltPropClick"),a=i.element,n=this.getData("auxArray"),r=this.getDataValue(a),s=this.findInd(r),d=this.getData("menuContent");(o=this.$node.querySelector("lyte-nav-item."+l))&&o.classList.remove(l),t=Lyte.arrayUtils(n,"pop"),e=this.recreateFromDv(r),Lyte.arrayUtils(n,"push",e),Lyte.arrayUtils(d,"replaceAt",s,t),this.setSelected(r),this.getMethods("onMenuClick")&&this.executeMethod("onMenuClick")},beforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen")},open:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen")},beforeClose:function(){this.getMethods("onBeforeClose")&&this.executeMethod("onBeforeClose")},close:function(){this.getMethods("onClose")&&this.executeMethod("onClose")},befRender:function(){this.getData("beforeMenuRender")&&this.executeMethod("beforeMenuRender")},aftRender:function(){this.getData("afterMenuRender")&&this.executeMethod("afterMenuRender")}},data:function(){return{ltPropMenu:Lyte.attr("object",{default:{}}),ltPropNavYield:Lyte.attr("boolean",{default:!1}),ltPropMenuYield:Lyte.attr("boolean",{default:!1}),ltPropItems:Lyte.attr("array",{default:[]}),ltPropUserValue:Lyte.attr("string",{default:""}),ltPropSystemValue:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:"90%"}),ltPropType:Lyte.attr("string",{default:""}),ltPropNavMenuClass:Lyte.attr("string",{default:"lyteNavMenuClass"}),ltPropMenuIcon:Lyte.attr("string",{default:"lyteNavKebabMenu"}),ltPropContainerClass:Lyte.attr("string",{default:"lyteNavIconContainer"}),ltPropClick:Lyte.attr("string",{default:"lyteNavActive"}),ltPropAlignment:Lyte.attr("string",{default:"horizontal"}),menuContent:Lyte.attr("array",{default:[]}),auxArray:Lyte.attr("array",{default:[]}),arrowTop:Lyte.attr("boolean",{default:!1}),arrowBot:Lyte.attr("boolean",{default:!1}),showMenu:Lyte.attr("boolean",{default:!1})}}}),Lyte.createCustomElement("lyte-nav-item",{constructor:function(){for(var t,e,o=this,i=this;"LYTE-NAV"!=o.tagName&&"HTML"!=o.tagName;)o=o.parentElement;if("HTML"!=o.tagName){if(t=o.component,"vertical"===(e=t.getData("ltPropAlignment")))for(;!i.classList.contains("lyteNavDiv");)i=i.parentElement;$L.fastdom.measure(function(){var o;this.hasAttribute("selected")&&this.getAttribute("selected")?("vertical"===e&&(o=this.offsetTop,i.scrollTop=o,0!=o&&t.setData("arrowTop",!0),t.setData("arrowBot",!1)),this.classList.add(t.getData("ltPropClick"))):"vertical"===e&&this.offsetTop+this.getBoundingClientRect().height>i.getBoundingClientRect().height+i.scrollTop&&t.setData("arrowBot",!0)},this),this.addEventListener("click",function(){this.setAttribute("selected",!0),t.getMethods("onItemSelected")&&t.executeMethod("onItemSelected",this,t)}.bind(this))}},static:{observedAttributes:{get:function(){return["selected","lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o,i){var l,a,n,r=this;if("lyte-shortcut"===t){if("function"==typeof shortcut){if(!o)return;o=JSON.parse(o),e=e?JSON.parse(e):{},shortcut.push({newKey:o.key,type:o.type,wait:o.wait,oldKey:e.key,value:this})}}else if("selected"==t&&o&&"false"!==o){for(n=this.getAttribute("selected");"LYTE-NAV"!=r.tagName&&"HTML"!=r.tagName;)r=r.parentElement;if("HTML"==r.tagName)return;l=r.component.getData("ltPropClick"),(a=r.querySelector("."+l))&&a!=this&&a.setAttribute("selected",""),n&&this.classList.add(l)}else if("selected"==t){for(r=this;"LYTE-NAV"!=r.tagName&&"HTML"!=r.tagName;)r=r.parentElement;if("HTML"==r.tagName)return;l=r.component.getData("ltPropClick"),this.classList.remove(l)}}}),window.addEventListener("resize",function(t){var e=_lyteUiUtils.lyteNavId;window.clearTimeout(e),_lyteUiUtils.lyteNavId=window.setTimeout(function(){for(var t,e=document.querySelectorAll("lyte-nav"),o=(e.length,0);o<e.length;o++)(t=e[o].component)&&"collapse"===t.getData("ltPropType")&&t.recalculate()},16)}),Lyte.Component.register("lyte-navigator",{_template:'<template tag-name="lyte-navigator">\n<template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;default&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lyteNavigator lyteDoubleBack lyteIconDoubleBack"></div>\n\t\t\t<div class="lyteNavigator lyteSingleBack lyteIconSingleBack"></div>\n\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t<div class="lyteNavigatorMidPoint">{{startRecord}} <span class="lyteNavigatorText">{{ltPropMiddleText}}</span> {{endRecord}}</div> \n\t\t\t</template></template>\n\t\t\t<div class="lyteNavigator lyteSingleFront lyteIconSingleFront"></div>\n\t\t\t<div class="lyteNavigator lyteDoubleFront lyteIconDoubleFront"></div>\n\t\t</template><template case="false">\n\t   \t\t\t<lyte-yield yield-name="navigatorYield" start-record="{{startRecord}}" end-record="{{endRecord}}"></lyte-yield>\n\t   \t</template></template>\n\t</div>\n</template></template>\n<template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;simple&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lytepagination">\n\t\t\t\t<div class="lyteNavArrow lyteDoubleBack hover"></div>\n\t\t\t\t<div class="lyteNavArrow lyteSingleBack hover">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t\t<div class="lytepage">\n\t\t\t\t\t\t\t<template is="for" items="{{paginationRange}}" item="page" indexval="pageno">\n\t\t\t\t\t\t\t\t<div data-value="{{page}}" class="lytesimple">{{unescape(page)}}</div>\n\t\t\t                </template>\n\t\t\t        </div>\n             \t</template></template>\n\t            <div class="lyteNavArrow lyteSingleFront hover">\n\t\t\t\t</div>\n\t\t\t\t<div class="lyteNavArrow lyteDoubleFront hover"></div>\n\t\t\t</div>\n\t</template><template case="false">\n\t   \t\t<lyte-yield yield-name="navigatorYield" pagination-range="{{paginationRange}}"></lyte-yield>\n\t</template></template>\n\t</div>\n    </template></template>\n    <template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;border&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lytepagination">\n\t\t\t\t<div class="lyteNavArrowBorder lyteDoubleBack hover lyteborder"></div>\n\t\t\t\t\t<div class="lyteNavArrowBorder lyteSingleBack hover lyteborder">\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t\t\t<div class="lytepage">\n\t\t\t\t\t<template is="for" items="{{paginationRange}}" item="page" indexval="pageno">\n\t\t\t\t\t\t<div data-value="{{page}}" class="lyteborder">{{unescape(page)}}</div>\n\t                </template>\n\t             </div>\n\t        </template></template>\n            <div class="lyteNavArrowBorder lyteSingleFront hover lyteborder">\n\t\t\t</div>\n\t\t\t<div class="lyteNavArrowBorder lyteDoubleFront hover lyteborder"></div>\n\t\t\t</div>\n\t</template><template case="false">\n\t   \t\t<lyte-yield yield-name="navigatorYield" pagination-range="{{paginationRange}}"></lyte-yield>\n\t</template></template>\t\t\n\t</div>\n    </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2,0]},{type:"text",position:[1,4]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropPerpage","ltPropValue","ltPropRecords","ltPropMoreRecords","ltPropMiddleText","ltPropType","paginationRange","ltPropSelected","ltPropShowOnlyIcon","ltPropShowText","ltPropYield"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){if(this.buttonDisable.call(this),this.checkButton.call(this),"default"!=this.getData("ltPropType")){var t=this.$node.querySelectorAll("lyte-nav-arrow");this.getData("ltPropShowText")&&this.$node.querySelector(".lytepagination").classList.add("textNavLink"),4==t.length&&(this.$node.querySelector(".lyteDoubleBack").appendChild(t[0]),this.$node.querySelector(".lyteSingleBack").appendChild(t[1]),this.$node.querySelector(".lyteSingleFront").appendChild(t[2]),this.$node.querySelector(".lyteDoubleFront").appendChild(t[3])),2==t.length&&(this.$node.querySelector(".lyteDoubleBack").style.display="none",this.$node.querySelector(".lyteSingleBack").appendChild(t[0]),this.$node.querySelector(".lyteSingleFront").appendChild(t[1]),this.$node.querySelector(".lyteDoubleFront").style.display="none")}this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){var t="rtl"==window.getComputedStyle(this.$node).getPropertyValue("direction");$L.fastdom.mutate(function(){t&&this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this))},data:function(){return{ltPropPerpage:Lyte.attr("number",{default:10}),ltPropValue:Lyte.attr("number",{default:0}),ltPropRecords:Lyte.attr("number",{default:void 0}),ltPropMoreRecords:Lyte.attr("boolean",{default:!1}),ltPropMiddleText:Lyte.attr("string",{default:"to"}),ltPropType:Lyte.attr("string",{default:"default"}),paginationRange:Lyte.attr("array",{default:void 0}),ltPropSelected:Lyte.attr("number",{default:0}),ltPropShowOnlyIcon:Lyte.attr("boolean",{default:!1}),ltPropShowText:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1})}},buttonDisable:function(){if(!this.data.ltPropYield){var t=this.$node.querySelector(".lyteSingleFront").style,e=this.$node.querySelector(".lyteSingleBack").style,o=this.$node.querySelector(".lyteDoubleBack").style,i=this.$node.querySelector(".lyteDoubleFront").style;t&&(t.display=this.getMethods("onNext")?"":"none"),e&&(e.display=this.getMethods("onPrevious")?"":"none"),o&&(o.display=this.getMethods("onHome")?"":"none"),i&&(i.display=this.getMethods("onEnd")?"":"none")}},activeAdd:function(){if("default"!=this.getData("ltPropType")&&!this.getData("ltPropShowOnlyIcon")){var t=this.$node.querySelector('[data-value="'+this.getData("ltPropSelected")+'"]');null!=t&&t.classList.add("lyteActiveAdd")}},onForward:function(t){var e=this.getData("ltPropValue"),o=this.getData("ltPropPerpage"),i=this.getData("ltPropRecords"),l=(e+=o)>i?i:e;this.getMethods("onNext")&&this.executeMethod("onNext",l,this.$node,t)},onBackward:function(t){var e=parseInt(this.getData("ltPropValue")),o=(e-=parseInt(this.getData("ltPropPerpage")))<0?0:e;this.getMethods("onPrevious")&&this.executeMethod("onPrevious",o,this.$node,t)},goFirst:function(t){if(this.setData("ltPropValue",0,this.$node,t),this.getMethods("onHome")){this.executeMethod("onHome",this.getData("ltPropValue"),this.$node,t);var e=this.$node.querySelector(".lyteSingleFront");e&&e.classList.remove("lyteDisabled")}"default"!=this.getData("ltPropType")&&(this.getData("ltPropSelected")>=1&&this.setData("ltPropSelected",1),this.activeAdd())},goLast:function(t){this.getData("ltPropValue");var e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords"),i=Math.floor(o/e)*e>=o?o-e:Math.floor(o/e)*e;this.getMethods("onEnd")&&this.executeMethod("onEnd",i,this.$node,t)},onSelect:function(t){this.getData("ltPropValue");var e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords");var i=parseInt(t.target.getAttribute("data-value"))*e-e>=o?o-e:parseInt(t.target.getAttribute("data-value"))*e-e;this.getMethods("onSelect")&&this.executeMethod("onSelect",i,this.$node,t)},pagination:function(){var t,e,o=this.getData("ltPropSelected"),i=this.getData("ltPropRecords"),l=o-1,a=o+1+1,n=[],r=[];if((e=Math.ceil(i/this.getData("ltPropPerpage")))>5){1==o&&o!=e&&(a+=1),o==e&&1!=o&&(l-=1);for(var s=1;s<e;s++)1==s||s==e||s>=l&&s<a?n.push(s):s>1&&s<l?s=l-1:s>=a&&s<e&&(s=e-1);n.push(e);for(s=0;s<n.length;s++){var d=n[s];t&&d-t!=1&&r.push("..."),r.push(d),t=d}}else for(s=1;s<=e;s++)r.push(s);this.setData("paginationRange",r),this.activeAdd()},paginationObs:function(){this.pagination()}.observes("ltPropSelected","ltPropPerpage"),checkButtonObs:function(){this.checkButton.call(this)}.observes("ltPropPerpage","ltPropValue","ltPropRecords","ltPropMoreRecords"),checkButton:function(){var t=this.getData("ltPropValue"),e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords"),i=this.$node.querySelector(".lyteSingleFront"),l=this.$node.querySelector(".lyteSingleBack"),a=this.$node.querySelector(".lyteDoubleBack"),n=this.$node.querySelector(".lyteDoubleFront");$L.fastdom.mutate(function(){if(a&&t<=0?a.classList.add("lyteDisabled"):a&&a.classList.remove("lyteDisabled"),l&&t<=0?l.classList.add("lyteDisabled"):l&&l.classList.remove("lyteDisabled"),i&&t+e>=o&&!this.getData("ltPropMoreRecords")?i.classList.add("lyteDisabled"):i&&i.classList.remove("lyteDisabled"),n&&t+e>=o?n.classList.add("lyteDisabled"):n&&n.classList.remove("lyteDisabled"),"default"==this.getData("ltPropType")||this.getMethods("onSelect")||this.getData("ltPropYield")||this.$node.querySelector(".lytepage").classList.add("lyteDisabled"),this.setData("startRecord",t+1>o?o:t+1),this.setData("endRecord",t+e>o?o:t+e),"default"!=this.getData("ltPropType")){this.setData("ltPropSelected",Math.ceil(this.getData("startRecord")/this.getData("ltPropPerpage")));for(var r=this.$node.querySelectorAll('[data-value="..."]'),s=0;s<r.length;s++)r[s].classList.add("lyteDisabled"),r[s].classList.add("dots3")}}.bind(this))},actions:{clickEvent:function(t){var e=t.target;if(e.getAttribute("data-value"))"..."!=e.getAttribute("data-value")&&this.onSelect(t);else{for(;e&&(!e.className||-1==e.className.indexOf("lyteNavigator")&&-1==e.className.indexOf("lyteDoubleFront")&&-1==e.className.indexOf("lyteSingleFront")&&-1==e.className.indexOf("lyteDoubleBack")&&-1==e.className.indexOf("lyteSingleBack"));)e=e.parentNode;e&&-1!=e.className.indexOf("lyteDoubleFront")?this.goLast(t):e&&-1!=e.className.indexOf("lyteSingleFront")?this.onForward(t):e&&-1!=e.className.indexOf("lyteDoubleBack")?this.goFirst(t):e&&-1!=e.className.indexOf("lyteSingleBack")?this.onBackward(t):t.preventDefault()}}}}),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t){var e="";if("open"==t&&LytePopup.components.length>1)for(var o=LytePopup.components.length-2;o>=0;o--){if(e="LYTE-MODAL"==LytePopup.components[o].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[o].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",i=LytePopup.components[o].childComp.querySelector(e)){i.style.opacity="0";break}}else if("close"==t&&LytePopup.components.length>1)for(o=LytePopup.components.length-2;o>=0;o--){var i;if("LYTE-MODAL"==LytePopup.components[o].$node.tagName?(e="lyte-modal-freeze",val=LytePopup.components[o].getData("ltPropDimmer").opacity):"LYTE-POPOVER"==LytePopup.components[o].$node.tagName?(e="lyte-popover-freeze",val=LytePopup.components[o].getData("ltPropDimmer").opacity):(e=".alertFreezeLayer",val="0.4"),i=LytePopup.components[o].childComp.querySelector(e)){i.style.opacity=val;break}}},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",l="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",l="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var a=t.childComp.querySelector(l);o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")),a.style.zIndex=o+2}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open")},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t)LytePopup.components.splice(LytePopup.components.indexOf(t),1);else for(var i=LytePopup.components.length-1;i>=0;i--)LytePopup.components[i].$node&&!LytePopup.components[i].$node.ltProp("allowMultiple")&&LytePopup.components[i].$node.ltProp("show",!1)}}).bindDocumentKeydown();function addPopoverEvent(t){document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("popoverWrapper")&&"LYTE-POPOVER-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-POPOVER-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-POPOVER"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var i=LytePopup.components[o].$node;i&&i.component.getData("visible")&&i.component.getData("ltPropCloseOnBodyClick")&&(i.component.setData("visible",!1),i.ltProp("show",!1))}},!0),document.body.addEventListener("scroll",function(t){if(LytePopup.makingVisible)LytePopup.makingVisible=!1;else for(var e,o=LytePopup.components.length-1;o>=0;o--)if(LytePopup.components[o].$node&&"LYTE-POPOVER"==LytePopup.components[o].$node.nodeName&&"visible"==LytePopup.components[o].childComp.style.visibility&&(e=LytePopup.components[o].childComp)&&e._callee.component.$node.ltProp("scrollable")&&LytePopup.components[o].callOnScroll(t)){var i=e.querySelector(".lytePopover");if(!i)return;for(;"LYTE-WORMHOLE"!=i.tagName;)i=i.parentElement;var l=t.target;if("#document"==l.nodeName)return;for(;"LYTE-WORMHOLE"!=l.tagName&&"HTML"!=l.tagName;)l=l.parentElement;if("LYTE-WORMHOLE"==l.tagName&&l.isEqualNode(i))return;i._callee.component.computeOffsetImpl();var a=document.querySelector(i._callee.ltProp("originElem")),n=t.target,r=a.getBoundingClientRect(),s=n.getBoundingClientRect(),d=i._callee.ltProp("boundary"),p=i.querySelector(".lytePopover");0===Object.keys(d).length&&d.constructor===Object||(d.top&&p.getBoundingClientRect().top<parseFloat(d.top)?i._callee.ltProp("show",!1):d.bottom&&p.getBoundingClientRect().bottom>parseFloat(d.bottom)?i._callee.ltProp("show",!1):d.left&&p.getBoundingClientRect().left<parseFloat(d.left)?i._callee.ltProp("show",!1):d.right&&p.getBoundingClientRect().right>parseFloat(d.right)&&i._callee.ltProp("show",!1)),n.contains(a)&&(i.querySelector("#lytePopoverArrow")&&i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowBottom")&&r.top+r.height/2>window.innerHeight&&i._callee.ltProp("show",!1),(s.top>r.top||s.top+s.height<r.top+r.height||i.querySelector("#lytePopoverArrow")&&(i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowLeft")||i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowRight"))&&i.querySelector("#lytePopoverArrow").getBoundingClientRect().bottom>=i.querySelector(".lytePopover").getBoundingClientRect().bottom)&&i._callee.ltProp("show",!1),(s.left>r.left||s.left+s.width<r.left+r.width)&&i._callee.ltProp("show",!1))}},!0),window.addEventListener("resize",function(t){LytePopup._lytePopoverRTId&&(clearTimeout(LytePopup._lytePopoverRTId),LytePopup._lytePopoverRTId=!1),LytePopup._lytePopoverRTId=setTimeout(function(){for(var e=LytePopup.components.length-1;e>=0;e--)LytePopup.components[e].$node&&"LYTE-POPOVER"==LytePopup.components[e].$node.nodeName&&"visible"==LytePopup.components[e].childComp.style.visibility&&LytePopup.components[e].childComp.querySelector(".lytePopover")&&(LytePopup.components[e].$node.component.updateScrollHandling(),LytePopup.components[e].$node.component.computeOffsetImpl(),LytePopup.components[e].$node.component.callOnResize(t));LytePopup._lytePopoverRTId=!1},100)},!0)}function resizeTable(t){for(var e=document.body.querySelectorAll("lyte-table[lyte-rendered]"),o=0;o<e.length;o++){var i=e[o].component;i.resetScrollbar.call(i,t)}}Lyte.Component.register("lyte-popover",{_template:'<template tag-name="lyte-popover">\n\t<template is="if" value="{{ltPropBindToBody}}"><template case="true"> \n\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t<div class="popoverWrapper {{ltPropWrapperClass}}">\n\t\t\t\t<div class="{{if(ifEquals(ltPropAnimation,\'zoom\'),\'lytePopover lyteZoom\', \'lytePopover\')}}">\n\t\t\t\t\t<template is="if" value="{{ifEquals(ltPropType,&quot;callout&quot;)}}"><template case="true">\n\t\t\t\t\t\t<span id="lytePopoverArrow" class="lytePopoverArrowIcon"></span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t<template case="true"><span class="lytePopoverClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t</template>\n\t\t\t\t\t<lyte-yield yield-name="popover"></lyte-yield>\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t<template case="true"><lyte-popover-freeze></lyte-popover-freeze></template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</template>\n\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,5]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropType","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropOriginElem","ltPropPosition","ltPropPlacement","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBoundary","ltPropCloseOnBodyClick","ltPropDuration","ltPropOffset","ltPropBindToBody","ltPropHeaderPadding","ltPropContentPadding","ltPropFooterPadding","ltPropAnimation","buttons","ltPropShowCopy","visible","timeOutId","classTobeAdded","keys","first","arrowHidden","arrowEle","returnedFalse","transformOrigin"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"callout"}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropOriginElem:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"bottom"}),ltPropPlacement:Lyte.attr("string",{default:""}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropDuration:Lyte.attr("number",{default:400}),ltPropOffset:Lyte.attr("object",{default:{}}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropHeaderPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropContentPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropFooterPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropAnimation:Lyte.attr("string",{default:"fade"}),buttons:Lyte.attr("array",{default:[{type:"accept",text:"Ok"}]}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),visible:Lyte.attr("boolean",{default:!0}),timeOutId:Lyte.attr("number"),classTobeAdded:Lyte.attr("string"),keys:Lyte.attr("object",{default:{37:1,38:1,39:1,40:1}}),first:Lyte.attr("boolean",{default:!0}),arrowHidden:Lyte.attr("boolean",{default:!1}),arrowEle:Lyte.attr("object"),returnedFalse:Lyte.attr("boolean",{default:!1}),transformOrigin:Lyte.attr("string")}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-popover-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This popover is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type?(LytePopup.xPos=t.clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.clientY-this.getBoundingClientRect().top):"touchstart"==t.type&&(LytePopup.xPos=t.touches[0].clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.touches[0].clientY-this.getBoundingClientRect().top);e.getBoundingClientRect();e.style.transitionDuration="0s";var o=e.parentElement.querySelector("#lytePopoverArrow");o&&(this.parentEle.setData("arrowHidden",!0),this.parentEle.setData("arrowEle",o),o.style.display="none"),"mousedown"==t.type?(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)):"touchstart"==t.type&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;"mousemove"==t.type?(e.style.left=t.clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos+"px",e.style.top=t.clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos+"px"):"touchmove"==t.type&&(e.style.left=t.touches[0].clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos+"px",e.style.top=t.touches[0].clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos+"px"),window.getSelection().removeAllRanges()},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type?(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)):"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("show")&&!this.$node.ltProp("showCopy"))if(_lyteUiUtils.getRTL()&&("bottomLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomRight"):"bottomRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomLeft"):"topLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topRight"):"topRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topLeft"):"left"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","right"):"right"==this.getData("ltPropPlacement")&&this.setData("ltPropPlacement","left")),this.$node.ltProp("bindToBody",!0),void 0==this.getData("ltPropDuration"))this.onBeforeShowHandling(t);else{var e=this;setTimeout(function(){e.onBeforeShowHandling(t)},0)}else if(this.$node.ltProp("showCopy"))if(void 0==this.getData("ltPropDuration"))this.onBeforeCloseHandling(t);else{e=this;setTimeout(function(){e.onBeforeCloseHandling(t)},0)}}.observes("ltPropShow").on("didConnect"),changeShow:function(){this.getData("ltPropBindToBody")||this.getData("ltPropShow")&&this.setData("ltPropShow",!1)}.observes("ltPropBindToBody"),callOnResize:function(t){this.getMethods("onResize")&&this.executeMethod("onResize",t,this)},callOnScroll:function(t){var e;return this.getMethods("onScroll")&&(e=this.executeMethod("onScroll",t,this)),void 0==e||e},updateScrollHandling:function(){!this.$node.ltProp("freeze")&&this.$node.ltProp("scrollable")&&this.$node.ltProp("scrollable",!0);var t,e,o,i=this.actualModalDiv,l=i.querySelector("lyte-popover-content");l=l||i,i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",$L.fastdom.measure(function(){var a=i.getBoundingClientRect(),n=i.parentElement.getBoundingClientRect(),r=(i.querySelector("lyte-popover-header")?i.querySelector("lyte-popover-header").getBoundingClientRect().height:0)+(i.querySelector("lyte-popover-content")?i.querySelector("lyte-popover-content").getBoundingClientRect().height:0)+(i.querySelector("lyte-popover-footer")?i.querySelector("lyte-popover-footer").getBoundingClientRect().height:0),s=window.getComputedStyle(i),d=(s.borderTop?parseFloat(s.borderTop):0)+(s.borderBottom?parseFloat(s.borderBottom):0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0);$L.fastdom.mutate(function(){if(this.$node.ltProp("maxHeight")&&r>=parseInt(this.$node.ltProp("maxHeight"))){this.childComp.querySelector(".popoverWrapper").classList.add("scrollable"),this.$node.ltProp("scrollable",!0),a.height-d;var s=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*n.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.height=this.$node.ltProp("maxHeight"),e=s-d}else a.height-d,e=p-20;if(this.$node.ltProp("maxWidth")?(this.$node.ltProp("scrollable",!0),t=a.width,i.style.width=this.$node.ltProp("maxWidth"),o=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*n.width:parseFloat(this.$node.ltProp("maxWidth")),t<o&&(i.style.width=t+"px",o=t),l.style.overflowX="auto"):o=a.width,this.$node.ltProp("scrollable")){var c=this.actualModalDiv.querySelector("lyte-popover-header"),h=this.actualModalDiv.querySelector("lyte-popover-footer"),u=0,y=0;$L.fastdom.measure(function(){c&&(this.$node.ltProp("maxWidth")&&(c.style.overflowX="auto"),u=c.getBoundingClientRect().height),h&&(this.$node.ltProp("maxWidth")&&(h.style.overflowX="auto"),y=h.getBoundingClientRect().height),$L.fastdom.mutate(function(){var t=e-(u+y);l.style.maxHeight=(t>0?t:50)+"px",l.style.overflowY="auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.actualModalDiv.style.maxWidth=o>0?o+"px":"70%",i=null,l=null,c=null,h=null},this)},this)}else this.childComp.querySelector(".popoverWrapper").classList.remove("scrollable"),i=null,l=null;this.$node.ltProp("freeze")||this.childComp.querySelector(".popoverWrapper").classList.add("noFreeze")},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),computeOffsetImpl:function(){var t="",e="",o=this.actualModalDiv;o.classList.remove("lytePopoverCenter","lytePopoverBottomCenter","lytePopoverBottomLeft","lytePopoverBottomRight","lytePopoverTopCenter","lytePopoverTopLeft","lytePopoverTopRight","lytePopoverLeft","lytePopoverRight"),$L.fastdom.measure(function(){if(this.$node.ltProp("showCopy")){if(""!=this.$node.ltProp("originElem")||!Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var i=document.querySelector(this.$node.ltProp("originElem"));if(!i&&Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset")))return console.error("The origin element is either not present or may be removed. Kindly check."),LytePopup.closePopup(this),this.setData("visible",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount+=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")),void(!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"));var l,a=o.getBoundingClientRect(),n={top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:o.offsetWidth,height:o.offsetHeight},r=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,d=Math.max(document.documentElement.clientHeight,window.innerHeight||0)+s,p=Math.max(document.documentElement.clientWidth,window.innerWidth||0)+r;if(Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var c=i.getBoundingClientRect();l={top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height}}else l={width:parseInt(this.$node.ltProp("offset").width)||0,height:parseInt(this.$node.ltProp("offset").height)||0,top:parseInt(this.$node.ltProp("offset").top),left:parseInt(this.$node.ltProp("offset").left),bottom:parseInt(this.$node.ltProp("offset").top)+(parseInt(this.$node.ltProp("offset").height)||0),right:parseInt(this.$node.ltProp("offset").left)+(parseInt(this.$node.ltProp("offset").width)||0)};this.getData("ltPropFreeze")||(l.top=l.top+s,l.left=l.left+r);var h=l,u={},y={},m=this.$node.ltProp("positionNew"),g=!0,f=0;do{if(this.$node.ltProp("placement"))g=!0,u=this.positionPopover(this.$node.ltProp("placement"),h,n),m=this.$node.ltProp("placement");else switch(f++,g=!0,u=this.positionPopover(m,h,n),this.$node.ltProp("freeze")?y=u:(y.offsetTop=l.top+l.height,y.offsetLeft=l.left+l.width),m){case"bottom":if(d<y.offsetTop+n.height){m="top",g=!1;break}y.offsetLeft-n.width<0&&(u.offsetLeft=h.left,g=!0),p<u.offsetLeft+n.width&&(u.offsetLeft=p-n.width-10,g=!0);break;case"bottomLeft":case"bottomRight":if(d<y.offsetTop+n.height){m="top",g=!1;break}y.offsetLeft-n.width<0&&(u.offsetLeft=h.left,g=!0),p<y.offsetLeft+n.width&&(u.offsetLeft=p-n.width-10,g=!0);break;case"top":if(y.offsetTop-n.height<0){m=_lyteUiUtils.getRTL()?"left":"right",g=!1;break}y.offsetLeft-n.width<0&&(u.offsetLeft=h.left,g=!0),p<u.offsetLeft+n.width&&(u.offsetLeft=p-n.width-10,g=!0);break;case"topLeft":if(y.offsetTop-n.height<0){m="right",g=!1;break}y.offsetLeft-n.width<0&&(u.offsetLeft=h.left,g=!0),p<y.offsetLeft+n.width&&(u.offsetLeft=p-n.width-10,g=!0);break;case"topRight":if(y.offsetTop-n.height<0){m="left",g=!1;break}y.offsetLeft-n.width<0&&(u.offsetLeft=h.left,g=!0),p<y.offsetLeft+n.width&&(u.offsetLeft=p-n.width-10,g=!0);break;case"left":y.offsetLeft<0&&(m="right",t=h.left+h.width+9,e=h.top),y.offsetTop-n.height<0&&(u.offsetTop=h.top),d<u.offsetTop+n.height&&(u.offsetTop=d-n.height);break;case"right":p<y.offsetLeft+n.width&&(m="left",u.offsetLeft=h.left-n.width-9,u.offsetTop=h.top),y.offsetTop-n.height<0&&(u.offsetTop=h.top),d<u.offsetTop+n.height&&(u.offsetTop=d-n.height)}}while(!g&&f<=8);if(t=u.offsetLeft,e=u.offsetTop,"callout"===this.$node.ltProp("type")){m.indexOf("bottom")>-1?u.classTobeAdded="lytePopoverArrowTop":m.indexOf("top")>-1?u.classTobeAdded="lytePopoverArrowBottom":"left"===m?u.classTobeAdded="lytePopoverArrowRight":"right"===m&&(u.classTobeAdded="lytePopoverArrowLeft");var v,D=o.querySelector("#lytePopoverArrow");D.classList.remove("lytePopoverArrowTop","lytePopoverArrowBottom","lytePopoverArrowRight","lytePopoverArrowLeft"),D.classList.add(u.classTobeAdded),$L.fastdom.measure(function(){v=D.getBoundingClientRect()}),$L.fastdom.mutate(function(){if("lytePopoverArrowTop"===u.classTobeAdded||"lytePopoverArrowBottom"===u.classTobeAdded){var o=Math.abs(t-(h.left+(h.width-D.offsetWidth)/2));if(D.style.left=o+"px",D.style.top="",v.left<12&&l.width<=16){var i=12-v.left;l.left==t&&t-i>=0&&(o=v.left+i,D.style.left=o+"px",t-=i)}else if(n.width-v.right<12&&l.width<=16){i=12-(n.width-D.getBoundingClientRect().right);l.left+l.width==n.width+t&&(o=v.left-i,D.style.left=o+"px",t+=i)}"lytePopoverArrowTop"===u.classTobeAdded&&this.setData("transformOrigin",Math.round(o)+"px top"),"lytePopoverArrowBottom"===u.classTobeAdded&&this.setData("transformOrigin",Math.round(o)+"px bottom")}else{var a=Math.abs(e-(h.top+(h.height-D.offsetHeight)/2));if(D.style.left="",D.style.top=a+"px",v.top<12&&l.height<=16){i=12-v.top;l.top==e&&e-i>=0&&(a=v.top+i,D.style.top=a+"px",e-=i)}else if(n.height-v.bottom<12&&l.height<=16){i=12-(n.height-v.bottom);l.top+l.height==n.height+e&&(a=v.top-i,D.style.top=a+"px",e+=i)}"lytePopoverArrowLeft"===u.classTobeAdded&&this.setData("transformOrigin","left "+Math.round(a)+"px"),"lytePopoverArrowRight"===u.classTobeAdded&&this.setData("transformOrigin","right "+Math.round(a)+"px")}},this)}this.setData("classTobeAdded",u.classTobeAdded)}this.$node.ltProp("positionNew",m),$L.fastdom.mutate(function(){o.style.left=t+"px",o.style.top=e+"px",this.getData("first")&&(this.callOnShow(),this.setOpacityAndVisibility(),this.setData("first",!1))},this)}},this),this.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)},positionPopover:function(t,e,o){var i=0,l=0;switch(t){case"bottom":i=e.left-(o.width-e.width)/2,l=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"bottomLeft":i=e.left,l=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"bottomRight":i=e.left+e.width-o.width,l=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"top":i=e.left-(o.width-e.width)/2,l=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"topLeft":i=e.left,l=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"topRight":i=e.left+e.width-o.width,l=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"left":i=e.left-o.width-("box"==this.getData("ltPropType")?0:9),l=e.top,classTobeAdded="lytePopoverArrowRight";break;case"right":i=e.left+e.width+("box"==this.getData("ltPropType")?0:9),l=e.top,classTobeAdded="lytePopoverArrowLeft"}return{offsetLeft:i,offsetTop:l,classTobeAdded:classTobeAdded}},callOnShow:function(){this.getMethods("onShow")&&this.executeMethod("onShow",this)},setOpacityAndVisibility:function(){if("zoom"===this.getData("ltPropAnimation")){this.actualModalDiv.style.transition="none",this.actualModalDiv.style.transform="scale(0)",this.actualModalDiv.style.opacity="1";var t=this;setTimeout(function(){if(t.actualModalDiv.style.transition="",t.actualModalDiv.style.transitionDuration=parseFloat(t.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,t.actualModalDiv.style.transformOrigin=t.getData("transformOrigin"),t.actualModalDiv.style.transform="scale(1)",t.$node.ltProp("freeze")){var e=t.childComp.querySelector("lyte-popover-freeze").style;e.transitionDuration=parseFloat(t.getData("ltPropDuration"))/1e3+"s",e.opacity=t.getData("ltPropDimmer").opacity,e.background=t.getData("ltPropDimmer").color}},50)}else if(this.actualModalDiv.style.transitionDuration=parseFloat(this.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,this.actualModalDiv.style.opacity="1",this.$node.ltProp("freeze")){var e=this.childComp.querySelector("lyte-popover-freeze").style;e.transitionDuration=parseFloat(this.getData("ltPropDuration"))/1e3+"s",e.opacity=this.getData("ltPropDimmer").opacity,e.background=this.getData("ltPropDimmer").color}},onBeforeCloseHandling:function(t){var e=!0;if(this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.getData("ltPropFreeze")&&LytePopup.hideOrShowFreeze("close"),this.getData("arrowHidden")&&(this.getData("arrowEle").style.display="",this.setData("arrowHidden",!1),this.setData("arrowEle",null)),_lyteUiUtils.getRTL()&&("bottomLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomRight"):"bottomRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomLeft"):"topLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topRight"):"topRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topLeft"):"left"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","right"):"right"==this.getData("ltPropPlacement")&&this.setData("ltPropPlacement","left")),void 0==this.getData("ltPropDuration"))this.$node.ltProp({showCopy:!1,show:!1}),this.getMethods("onClose")&&this.executeMethod("onClose",t,this),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"));else{var o=parseInt(this.getData("ltPropDuration")),i=this;this.timeOutId=setTimeout(function(){i.timeOutId=!1,"zoom"==i.getData("ltPropAnimation")&&(i.actualModalDiv.style.opacity="0",i.actualModalDiv.style.transform=""),i.$node.ltProp({showCopy:!1,show:!1}),i.getMethods("onClose")&&i.executeMethod("onClose",t,i),i.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"))},o),this.actualModalDiv.style.transitionDuration=(o>300?o-200:100)/1e3+"s"}"zoom"==this.getData("ltPropAnimation")?this.actualModalDiv.style.transform="scale(0)":this.actualModalDiv.style.opacity=0,LytePopup.closePopup(this),this.setData("visible",!1),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-popover-freeze")&&(this.childComp.querySelector("lyte-popover-freeze").style.opacity=0),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling")}else this.setData("returnedFalse",!0),this.getData("visible")||this.setData("visible",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){if(this.getData("ltPropDraggable")&&this.addDragHandler(),this.updateScrollHandling(),this.$node.ltProp("freeze")||this.childComp.querySelector(".popoverWrapper").classList.add("noFreeze"),this.$node.ltProp("positionNew",this.$node.ltProp("position")),void 0==this.getData("ltPropDuration"))this.$node.ltProp("showCopy",!0),$L.fastdom.mutate(function(){$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.computeOffsetImpl()},this)},this)},this);else{var e=this;setTimeout(function(){e.$node.ltProp("showCopy",!0),$L.fastdom.mutate(function(){$L.fastdom.measure(function(){$L.fastdom.mutate(function(){e.computeOffsetImpl()},e)},e)},e)},0)}this.getData("first")||this.setData("first",!0),this.getData("ltPropFreeze")||document.body.classList.add("lyteStopBodyScrolling"),this.getData("visible")||this.setData("visible",!0),LytePopup.addPopup(this)}else this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.childComp&&(this.timeOutId&&(clearInterval(this.timeOutId),this.timeOutId=!1),LytePopup.closePopup(this),this.childComp.remove(),delete this.childComp,delete this.actualModalDiv,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){if(this.childComp=t,this.$node.parentElement&&"LYTE-COLORPICKER"==this.$node.parentElement.tagName&&(this.$node.parentElement.component.childComp=this.childComp),this.childComp.querySelector("lyte-popover-header")&&(this.childComp.querySelector("lyte-popover-header").style.padding=this.getData("ltPropHeaderPadding")),this.childComp.querySelector("lyte-popover-content")&&(this.childComp.querySelector("lyte-popover-content").style.padding=this.getData("ltPropContentPadding")),this.childComp.querySelector("lyte-popover-footer")&&(this.childComp.querySelector("lyte-popover-footer").style.padding=this.getData("ltPropFooterPadding")),this.actualModalDiv=this.childComp.querySelector(".lytePopover"),this.childComp.querySelector("lyte-popover-header")&&this.getData("ltPropShowCloseButton")){var e=0,o=0;$L.fastdom.measure(function(){e=this.childComp.querySelector("lyte-popover-header").getBoundingClientRect().height,o=this.childComp.querySelector(".lytePopoverClose").getBoundingClientRect().height},this),$L.fastdom.mutate(function(){this.childComp.querySelector(".lytePopoverClose").style.top=(e-o)/2+"px"},this)}}}}),"complete"===document.readyState||"interactive"===document.readyState?addPopoverEvent():document.addEventListener("DOMContentLoaded",function(t){addPopoverEvent(t)}),Lyte.Component.register("lyte-progressbar",{_template:'<template tag-name="lyte-progressbar">\n\t<template is="if" value="{{lyteUiIfEquals(ltPropType,\'circle\')}}">\n\t\t<template case="true"><div class="lyteProgressBar lyteCircle">\n\t\t\t<div class="lyteCircleType">\n\t\t\t\t<svg class="svgValueEle" width="{{lyteUiSetWH(ltPropRadius)}}" height="{{lyteUiSetWH(ltPropRadius)}}">\n\t\t\t\t    <circle style="{{lyteUiConcat(\'transition:\',\'stroke-dashoffset \',duration,\' \',timingfn,\';\')}}" cx="{{ltPropRadius}}" cy="{{ltPropRadius}}" r="{{lyteUiSetRadius(ltPropRadius,ltPropStroke)}}" fill="none" stroke="#DCE0E3" stroke-width="{{ltPropStroke}}"></circle>\n\t\t\t\t    <circle style="{{lyteUiConcat(\'transition:\',\'stroke-dashoffset \',duration,\' \',timingfn,\';\')}}" cx="{{ltPropRadius}}" cy="{{ltPropRadius}}" r="{{lyteUiSetRadius(ltPropRadius,ltPropStroke)}}" fill="none" stroke="{{ltPropBackground}}" stroke-width="{{ltPropStroke}}" stroke-dasharray="{{lyteUiSetDashArray(ltPropRadius,ltPropStroke)}}" stroke-dashoffset="{{lyteUiSetOffset(ltPropRadius,ltPropStroke,percentage)}}"></circle>\n\t\t\t\t</svg>\n\t\t\t\t<svg width="{{lyteUiSetWH(ltPropRadius)}}" height="{{lyteUiSetWH(ltPropRadius)}}" style="transform:{{lyteUiTextTransform(ltPropRadius)}}" viewBox="{{lyteUiConcat(\'0 \',\'0 \',lyteUiSetWH(ltPropRadius),\' \',lyteUiSetWH(ltPropRadius))}}">\n\t\t\t\t\t<text font-size="1.5rem" text-anchor="middle" dy=".2em" x="50%" y="50%">{{lyteUiConcat(percentageDisplay,"%")}}</text>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div></template>\n\t\t<template case="false"><div class="lyteProgressBar lyteHorizontal" style="{{lyteUiConcat(\'width:\',ltPropWidth,\';height:\',ltPropHeight)}}">\n\t\t\t<span class="lyteProgressStatus" style="{{lyteUiConcat(\'width: \',percentage,\'% ;\',\'transition:\',\'width \',duration,\' \',timingfn,\';\',\'background:\',ltPropBackground)}}">\n\t\t\t\t<template is="if" value="{{ltPropAnimated}}">\n\t\t\t\t\t<template case="true"><span class="ltPropProgressAnimated progressMovingObj"></span></template>\n\t\t\t\t</template>\n\t\t\t\t<template is="if" value="{{ltPropShowPercentage}}">\n\t\t\t\t\t<template case="true"><span class="lyteProgressPercentage">{{lyteUiConcat(percentageDisplay,"%")}}</span></template>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t</div></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0,1,1]},{type:"attr",position:[0,1,1,1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'transition:'","'stroke-dashoffset '","duration","' '","timingfn","';'"]}}}},{type:"attr",position:[0,1,1,3],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'transition:'","'stroke-dashoffset '","duration","' '","timingfn","';'"]}}}},{type:"attr",position:[0,1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'transform:'",{type:"helper",value:{name:"lyteUiTextTransform",args:["ltPropRadius"]}}]}}}},{type:"text",position:[0,1,3,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'width:'","ltPropWidth","';height:'","ltPropHeight"]}}}},{type:"attr",position:[0,1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'width: '","percentage","'% ;'","'transition:'","'width '","duration","' '","timingfn","';'","'background:'","ltPropBackground"]}}}},{type:"attr",position:[0,1,1]},{type:"if",position:[0,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[0,1,3]},{type:"if",position:[0,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[0,0]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropType","ltPropProgressFillColor","ltPropCompletedFillColor","ltPropWidth","ltPropHeight","ltPropRadius","ltPropStroke","ltPropValueCopy","ltPropAnimated","ltPropShowPercentage","ltPropProgressProperty","percentage","duration","timingfn","percentageDisplay"],didConnect:function(){$L.fastdom.mutate(this.setBackground.bind(this))},data:function(){return{ltPropType:Lyte.attr("string",{default:"bar"}),ltPropProgressFillColor:Lyte.attr("string",{default:"#42a2eb"}),ltPropCompletedFillColor:Lyte.attr("string",{default:"#3fbd5f"}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"12px"}),ltPropRadius:Lyte.attr("string",{default:"50"}),ltPropStroke:Lyte.attr("string",{default:"5"}),ltPropValueCopy:Lyte.attr("string",{default:"0"}),ltPropAnimated:Lyte.attr("boolean",{default:!0}),ltPropShowPercentage:Lyte.attr("boolean",{default:!0}),ltPropProgressProperty:Lyte.attr("object",{default:{value:"0",duration:"0s"}}),percentage:Lyte.attr("string",{default:"0"}),duration:Lyte.attr("string",{default:"2s"}),timingfn:Lyte.attr("string",{default:"linear"}),percentageDisplay:Lyte.attr("string",{default:"0"})}},didDestroy:function(){this.sid&&window.clearTimeout(this.sid),this.iId&&window.clearInterval(this.iId)},percentageChange:function(t){this.setBackground()}.observes("ltPropProgressProperty"),setBackground:function(){var t=parseFloat(this.getData("ltPropProgressProperty").value),e=this.getData("ltPropProgressProperty").duration?this.getData("ltPropProgressProperty").duration:this.getData("duration");if(this.getData("ltPropProgressProperty").timingfn&&this.setData("timingfn",this.getData("ltPropProgressProperty").timingfn),"circle"===this.getData("ltPropType"))if(parseInt(t)>=100){this.setData("duration",e),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("percentage","100"),e=1e3*parseFloat(e);var o=this;this.sid=setTimeout(function(){o.sid=!1,o.$node.querySelector(".lyteProgressBar").classList.add("lyteProgressCompleted"),o.setData("ltPropBackground",o.getData("ltPropCompletedFillColor"))},e)}else this.sid&&(clearTimeout(this.sid),this.sid=!1),this.$node.querySelector(".lyteProgressBar").classList.remove("lyteProgressCompleted"),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("duration",e),this.setData("percentage",t+"");else if(parseInt(t)>=100){this.setData("duration",e),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("percentage","100"),e=1e3*parseFloat(e);o=this;this.sid=setTimeout(function(){this.sid=!1,o.$node.querySelector(".lyteProgressBar").classList.add("lyteProgressCompleted"),o.setData("ltPropBackground",o.getData("ltPropCompletedFillColor")),o.getData("ltPropAnimated")&&o.$node.querySelector(".lyteProgressBar .ltPropProgressAnimated").classList.remove("progressMovingObj")},e)}else this.sid&&(clearTimeout(this.sid),this.sid=!1),this.$node.querySelector(".lyteProgressBar").classList.remove("lyteProgressCompleted"),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.getData("ltPropAnimated")&&this.$node.querySelector(".lyteProgressBar .ltPropProgressAnimated").classList.add("progressMovingObj"),this.setData("duration",e),this.setData("percentage",t+"");this.iId&&(clearInterval(this.iId),this.iId=!1);var i=parseFloat(this.getData("percentageDisplay"));o=this;if(0==parseInt(this.getData("duration")))this.setData("percentageDisplay",t+"");else if(i>t){var l=(i-t)/(1e3*parseInt(this.getData("duration")))*100;this.iId=setInterval(function(){i-=l,o.setData("percentageDisplay",Math.max(parseFloat(i.toFixed(2)),t)+""),parseFloat(i)==t&&(clearInterval(o.iId),o.iId=!1)},100)}else if(i<t){l=(t-i)/(1e3*parseInt(this.getData("duration")))*100;this.iId=setInterval(function(){i+=l,o.$node||clearInterval(o.iId),o.setData("percentageDisplay",Math.min(parseFloat(i.toFixed(2)),t)+""),parseFloat(i)>=t&&(clearInterval(o.iId),o.iId=!1)},100)}},setCircleStroke:function(t,e){var o=t.getAttribute("stroke-dasharray")*(1-parseInt(e)/100);t.setAttribute("stroke-dashoffset",o)},actions:{}}),Lyte.Component.register("lyte-radiobutton",{_template:'<template tag-name="lyte-radiobutton">\n\t<template is="switch" value="{{ltPropType}}"><template case="default"></template><template case="primary"></template><template case="secondary">\n\t\t\t<label class="{{radioclass}}" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" name="{{ltPropName}}" value="{{ltPropValue}}" class="lyteHide" onclick="{{action(\'valueChanged\',event)}}" disabled="{{ltPropDisabled}}" checked="{{ltPropChecked}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="lyteRadioCheck">\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template><template case="switch">\n\t\t\t<label class="" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide on-off-sw" readonly="{{ltPropReadonly}}" onclick="{{action(\'valueChanged\',event)}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="on-btn"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template><template case="slider">\n\t\t\t<label class="lyteRadioSliderLabel" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide" readonly="{{ltPropReadonly}}" onclick="{{action(\'valueChanged\',event)}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t</label>\n\t\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{default:{dynamicNodes:[],additional:{next:"primary"}},primary:{dynamicNodes:[],additional:{next:"secondary"}},secondary:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1]}]},switch:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1]}]},slider:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,1]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropName","ltPropDisabled","ltPropChecked","ltPropLabel","ltPropValue","ltPropFireOnInit","ltPropLabelClass","ltPropClass"],data:function(){return{ltPropType:Lyte.attr("string",{default:"default"}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropChecked:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:void 0}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropLabelClass:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""})}},didDestroy:function(){delete this.$node.focus,delete this.$node.blur,delete this.$node.click},changeStyle:function(){this.changeStyleFunction()}.observes("ltPropType"),changeStyleFunction:function(){var t=this.getData("ltPropType"),e=(this.getData("ltPropChecked"),this.getData("ltPropClass")),o=this.getData("ltPropLabelClass");-1===t.indexOf("slider")&&-1===t.indexOf("switch")&&-1===t.indexOf("default")&&-1===t.indexOf("primary")&&-1===t.indexOf("secondary")&&this.setData("ltPropType","default"),-1!==t.indexOf("default")?(this.setData("radioclass","lyteRadioBtn lyteDefault"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1===t.indexOf("primary")||e?-1===t.indexOf("secondary")||e?-1!==t.indexOf("switch")?(this.setData("ltPropClass",e||"lyteRadioSwitch"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1!==t.indexOf("slider")&&(this.setData("ltPropClass",e||"lyteRadioSlider"),this.setData("ltPropLabelClass",o||"lyteRadioSliderText")):(this.setData("radioclass","lyteRadioBtn lyteSecondary"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):(this.setData("radioclass","lyteRadioBtn lytePrimary"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel"))},reduceOpacity:function(){this.getData("ltPropDisabled")?this.$node.style.opacity="0.5":this.$node.style.opacity=""},disabledChange:function(){this.reduceOpacity()}.observes("ltPropDisabled"),init:function(){this.reduceOpacity(),this.changeStyleFunction()},didConnect:function(){var t=this;this.$node.click=function(){var e=new Event("click",{bubbles:!0,cancelable:!0}),o=t.$node,i=o.ltProp("checked");o.ltProp("disabled")||(i||o.ltProp("checked",!0),o.dispatchEvent(e))},this.$node.focus=function(){var e=t.$node,o=e.querySelector("input");e.ltProp("disabled")||o.focus()},this.$node.blur=function(){var e=t.$node,o=e.querySelector("input");e.ltProp("disabled")||o.blur()},this.callMethodsOnInit(!0)},check:function(t,e){this.getMethods("onChecked")&&this.executeMethod("onChecked",t,e)},uncheck:function(t,e){this.getMethods("onUnchecked")&&this.executeMethod("onUnchecked",t,e)},beforeCheck:function(t,e){this.getMethods("onBeforeChecked")&&this.executeMethod("onBeforeChecked",t,e)},beforeUncheck:function(t,e){this.getMethods("onBeforeUnchecked")&&this.executeMethod("onBeforeUnchecked",t,e)},onchanged:function(t,e){this.getMethods("onChanged")&&this.executeMethod("onChanged",t,e)},extractRadios:function(){for(var t,e=this.getData("ltPropName"),o=0,i=document.querySelectorAll('input[type="radio"][name="'+e+'"]');o<i.length;o++){for(t=i[o];"LYTE-RADIOBUTTON"!==t.tagName&&"HTML"!==t.tagName;)t=t.parentElement;if("LYTE-RADIOBUTTON"===t.tagName&&t.ltProp("checked")&&t!=this.$node)return t}},changeChecks:function(t){var e=this.extractRadios(),o=(e&&e.querySelector("input"),e&&e.component),i=this.$node.querySelector("input");t.newValue&&t.oldValue||(t.newValue?(this.setData("prevent",!0),this.setData("ltPropChecked",!1),e&&this.beforeUncheck(i,this),this.beforeCheck(i,this),e&&(o.setData("prevent",!0),e.ltProp("checked",!1),o.setData("prevent",!1),this.uncheck(i,this)),this.setData("ltPropChecked",!0),this.setData("prevent",!1),this.check(i,this),this.onchanged(i,this)):!t.newValue&&t.oldValue&&(this.setData("prevent",!0),this.setData("ltPropChecked",!0),this.beforeUncheck(i,this),this.setData("ltPropChecked",!1),this.uncheck(i,this),this.onchanged(i,this),this.setData("prevent",!1)))},change:function(t){var e=this.getData("ltPropName"),o=document.querySelector('input[type="radio"][name="'+e+'"]:checked');this.getData("onChange")?t.newValue?this.check(o,this):this.uncheck(o,this.getData("second")):this.changeChecks(t)},resetValues:function(){for(var t,e=this.getData("ltPropName"),o=document.querySelectorAll('input[type="radio"][name="'+e+'"]'),i=0,l=o.length;i<l;i++)(t=o[i].parentElement.parentElement.component).setData("prev",void 0),t.setData("node",void 0)},valueChanged:function(t){var e=t.oldValue,o=t.newValue;e&&!o&&this.resetValues(),this.getData("prevent")||this.change(t)}.observes("ltPropChecked"),callMethodsOnInit:function(){var t=this.getData("ltPropFireOnInit"),e=this.getData("ltPropChecked");if(t&&e){var o=this.$node.querySelector("input");o.getAttribute("value");this.beforeCheck(o,this),this.check(o,this),this.onchanged(o,this)}},actions:{preventPropagation:function(){32===event.keyCode&&(this.preventClick=!0)},mup:function(t){var e=this.getData("ltPropName"),o=document.querySelector('input[type="radio"][name="'+e+'"]:checked');this.setData("shouldCallUnChecked",!1),o&&(this.setData("prev",o.getAttribute("value")),this.setData("node",o),this.setData("shouldCallUnChecked",!0));var i=this.$node.querySelector("input"),l=i.checked;i.disabled||l||(this.getData("shouldCallUnChecked")&&this.beforeUncheck(i,this),this.beforeCheck(i,this))},valueChanged:function(t){var e=t.target,o=e.getAttribute("value"),i=this.getData("prev"),l=this.getData("node"),a=l&&l.parentElement.parentElement.component;e.parentElement.parentElement;if(t.stopPropagation(),this.preventClick)this.preventClick=!1;else if(o!==i){if(l){for(;"LYTE-RADIOBUTTON"!==l.tagName;)l=l.parentElement;a.setData("onChange",!0),a.setData("second",this),l.ltProp("checked",!1),a.setData("second",void 0),a.setData("onChange",!1)}(l=this.getData("node"))&&this.setData("node",void 0),this.setData("onChange",!0),this.setData("ltPropChecked",!0),this.setData("onChange",!1),this.onchanged(e,this)}}}}),document.addEventListener("keydown",function(t){var e,o=t.keyCode;if(13===o||32===o){if("INPUT"!==(e=document.activeElement).tagName)return;for(;"LYTE-RADIOBUTTON"!==e.tagName&&"HTML"!==e.tagName;)e=e.parentElement;"LYTE-RADIOBUTTON"===e.tagName&&(e.ltProp("checked")||(e.ltProp("checked",!0),t.preventDefault()))}}),Lyte.Component.register("lyte-search",{_template:'<template tag-name="lyte-search">\n    <lyte-input lt-prop-auto-update="{{ltPropAutoUpdate}}" lt-prop-tab-index="{{ltPropTabIndex}}" lt-prop-id="{{ltPropId}}" lt-prop-wrapper-style="{{ltPropWrapperStyle}}" lt-prop-class="{{ltPropClass}}" lt-prop-autofocus="{{ltPropAutofocus}}" lt-prop-autocomplete="{{ltPropAutocomplete}}" lt-prop-type="{{ltPropType}}" lt-prop-name="{{ltPropName}}" lt-prop-placeholder="{{ltPropPlaceholder}}" lt-prop-width="{{ltPropWidth}}" lt-prop-height="{{ltPropHeight}}" onkeyup="{{action(\'keyup\', event, this)}}" lt-prop-style="{{ltPropStyle}}" lt-prop-value="{{lbind(ltPropValue)}}" onkeypress="{{action(\'keypress\', event, this)}}" lt-prop-appearance="{{ltPropAppearance}}" lt-prop-direction="{{ltPropDirection}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-readonly="{{ltPropReadonly}}" on-value-change="{{method(\'valuechange\')}}" on-focus="{{method(\'focus\')}}" on-blur="{{method(\'blurEvent\')}}" lt-prop-input-title="{{ltPropInputTitle}}" lt-prop-pattern="{{ltPropPattern}}" lt-prop-maxlength="{{ltPropMaxlength}}" oninput="{{action(\'input\', event)}}" lt-prop-close-icon="{{ltPropCloseIcon}}" is-search="true" lt-prop-update-delay="{{ltPropUpdateDelay}}"></lyte-input>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropAutocomplete","ltPropPlaceholder","ltPropAutofocus","ltPropDisabled","ltPropStyle","ltPropMaxlength","ltPropReadonly","ltPropId","ltPropClass","ltPropType","ltPropName","ltPropWidth","ltPropHeight","ltPropValue","ltPropAppearance","ltPropDirection","ltPropQuerySelector","ltPropMinLength","ltPropMethod","ltPropWrapperStyle","ltPropTabIndex","ltPropAjaxRequest","ltPropAutoUpdate","ltPropPattern","ltPropInputTitle","ltPropCloseIcon","ltPropUpdateDelay","ltPropSearchDelay","ltPropComponent","timeout"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this.$node.setValue=function(t,e){this.$node.ltProp("value",t),this.pressFunc(t||"",e||{})}.bind(this),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("lyte-input")[t](e)}.bind(this)}.bind(this)),$L.fastdom.measure(function(){_lyteUiUtils.getRTL()&&$L.fastdom.mutate(function(){this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this));var t=this.data.ltPropComponent,e=this.data.ltPropQuerySelector;"accordion"==t?e.related="lyte-accordion-item":"tree"==t&&(e.related=".lyteTreeBodyDiv lyte-yield:not(.noChildClass) lyte-tree-icon")},didDestroy:function(){clearTimeout(this._comptime),delete this.$node.setValue,delete this.$node.focus,delete this.$node.blur,delete this.$node.click,delete this.$node.select},data:function(){return{ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropMaxlength:Lyte.attr("number",{default:25}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropId:Lyte.attr("string",{default:"inputId"}),ltPropClass:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:"search"}),ltPropName:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropValue:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"flat"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropQuerySelector:Lyte.attr("object",{default:{}}),ltPropMinLength:Lyte.attr("number",{default:1}),ltPropMethod:Lyte.attr("string",{default:"contains"}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropAjaxRequest:Lyte.attr("object",{default:{}}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropSearchDelay:Lyte.attr("number",{default:100}),ltPropComponent:Lyte.attr("string",{default:void 0}),timeout:Lyte.attr("number",{default:void 0})}},methods:{blurEvent:function(t){this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)},focus:function(t){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},valuechange:function(t){this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)}},searchList:function(t){var e=[],o=[];query=this.getData("ltPropQuerySelector"),"string"==typeof query&&(query=JSON.parse(query));for(var i=0;i<t.childElementCount;i++){for(;t.children[i].childElementCount;){returnedVal=this.searchList.call(this,t.children[i]),e=e.concat(returnedVal[0]),o=o.concat(returnedVal[1]);break}if(!t.children[i].childElementCount)if(e.push(t.children[i].textContent),query.target){var l="string"==typeof query.scope?document.body.querySelector(query.scope.trim()):query.scope;for(targetList=l.querySelectorAll(query.target),node=t.children[i];node!=l;){for(var a=!1,n=0;n<targetList.length;n++)if(node==targetList[n]){o.push(node),a=!0;break}if(a)break;node=node.parentElement}}else o.push(t.children[i])}return[e,o]},actions:{"on-ip-clear":function(t){this.$node.setValue("",{type:"clear"})},keypress:function(t){var e=t.keyCode;e>=37&&e<=40||13==e||t.stopPropagation()},keyup:function(t,e){var o=t.which||t.keyCode;if(!([37,13,38,39,40,27].indexOf(o)>-1)){clearTimeout(this.data.timeout),clearTimeout(this._iptime);var i=this.$node.querySelector("input,textarea").value;if(i.length>=this.getData("ltPropMinLength")||8==t.keyCode||91==t.keyCode||17==t.keyCode){var l=this.data.ltPropSearchDelay;void 0!=l?this.timeout=setTimeout(this.pressFunc.bind(this),l,i,t):this.pressFunc.call(this,i,t)}}},input:function(t){clearTimeout(this._iptime),this._iptime=setTimeout(this.pressFunc.bind(this),250,t.target.value,t)}},filteringArray:function(t,e,o,i,l,a){var n=this.getData("ltPropMethod"),r=[],s=[];if((o=o.toLowerCase()).length)for(var d=0;d<t.length;d++){this.switchfn(n,o,t[d].trim().toLowerCase())?r.push(i[d]):s.push(i[d])}else r=Array.apply(Array,i);this.getMethods("onSearch")&&0==this.executeMethod("onSearch",r,this.$node,l&&"clear"==l.type?{}:l,o,s)||(void 0==this.data.ltPropSearchDelay?this.hideProcess(t,e,n,o,a,l,s,r):$L.fastdom.mutate(this.hideProcess.bind(this,t,e,n,o,a,l,s,r)))},switchfn:function(t,e,o){var i;switch(t){case"contains":i=o.indexOf(e.toLowerCase())>=0;break;case"startsWith":i=0==o.indexOf(e.toLowerCase());break;case"endsWith":var l=o.lastIndexOf(e.toLowerCase());-1!=l&&(i=l+e.length==o.length)}return i},hideProcess:function(t,e,o,i,l,a,n,r){for(var s=this.data.ltPropQuerySelector,d=(i=i.toLowerCase(),0);d<t.length;d++)this.additionalHand(e[d],this.switchfn(o,i,t[d].trim().toLowerCase()));for(d=0;d<l.length;d++){if("accordion"==this.data.ltPropComponent&&void 0==l[d]._state){if(!l[d].querySelector("lyte-accordion-body")){i?l[d].classList.add("lyteSearchHidden"):l[d].classList.remove("lyteSearchHidden");continue}l[d]._state=l[d].classList.contains("lyteAccordionActive")}else if("tree"==this.data.ltPropComponent){void 0==l[d]._state&&(l[d]._state=l[d].classList.contains("lyteIconOpened"));continue}l[d].querySelectorAll(s.target||s.search).length==l[d].querySelectorAll(".lyteSearchHidden").length?l[d].classList.add("lyteSearchHidden"):l[d].classList.remove("lyteSearchHidden")}"accordion"==this.data.ltPropComponent?$L.fastdom.measure(this.accfilter.bind(this,r,n,i,a&&"clear"==a.type)):"tree"==this.data.ltPropComponent&&$L.fastdom.measure(this.treefilter.bind(this,r,n,i,a&&"clear"==a.type))},accfilter:function(t,e,o,i){for(var l=$L(this.data.ltPropQuerySelector.scope),a=0;a<t.length;a++){for(var n=$L(t[a]).closest("lyte-accordion-item",l),r=0;r<e.length;r++){var s=$L(e[r]).closest("lyte-accordion-item",l);n[0]!=s[0]||(Lyte.arrayUtils(e,"removeAt",r),r--)}if(t[a+1]){s=$L(t[a+1]).closest("lyte-accordion-item",l);n[0]==s[0]&&(Lyte.arrayUtils(t,"removeAt",a+1),a--)}}$L.fastdom.mutate(function(){for(var l=0;l<t.length;l++){var a=!1;a=!(r=$L(t[l]).closest("lyte-accordion-item")).hasClass("lyteAccordionActive"),o||(a=void 0!=r[0]._scope?!a&&!r[0]._scope:!a),a&&r.click()}for(var n=0;n<e.length;n++){var r=$L(e[n]).closest("lyte-accordion-item");i?!r[0]._state&&r.hasClass("lyteAccordionActive")&&r.click():r.hasClass("lyteAccordionActive")&&r.click()}})},treeinremove:function(t){for(var e=0;e<t.length;e++)if(t[e+1]){var o=$L(t[e]).closest(".lyteTreeBodyDiv")[0],i=$L(t[e+1]).closest(".lyteTreeBodyDiv")[0];o.contains(i)?Lyte.arrayUtils(t,"removeAt",e+1):i.contains(o)&&(Lyte.arrayUtils(t,"removeAt",e),e--)}},treefilter:function(t,e,o,i){for(var l=$L(this.data.ltPropQuerySelector.scope)[0],a=0;a<t.length;a++){var n=$L(t[a]).closest(".lyteTreeBodyDiv");for(j=0;j<e.length;j++){var r=$L(e[j]).closest(".lyteTreeBodyDiv");n[0].contains(r[0])?(r.addClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j)):r[0].contains(n[0])&&(r.removeClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j))}}for(a=0;a<t.length;a++)this.removeClse(t[a],l),o.length&&l.ltProp("stateAttr",$L(t[a]).closest("lyte-tree-body").attr("data-value"));if(o.length)for(a=0;a<e.length;a++)$L(e[a]).closest(".lyteTreeBodyDiv").addClass("lyteSearchHidden");else this.hiderecurse($L("lyte-yield:not(.noChildClass) lyte-tree-icon",l),i)},removeClse:function(t,e){e=$L(this.data.ltPropQuerySelector.scope);var o=$L(t).closest(".lyteSearchHidden",e);o.length&&(o.removeClass("lyteSearchHidden"),this.removeClse(t,e))},hiderecurse:function(t,e){for(var o=t.length-1;o>=0;o--){var i=t.eq(o);e&&void 0!=i[0]._state?(i[0]._state&&!i.hasClass("lyteIconOpened")||!i[0]._state&&i.hasClass("lyteIconOpened"))&&setTimeout(i.click.bind(i),20):i.hasClass("lyteIconOpened")&&setTimeout(i.click.bind(i),20),delete i[0]._state}},additionalHand:function(t,e){var o=this.data.ltPropComponent,i=this.data.ltPropQuerySelector;i.scope.constructor==String?document.querySelector(i.scope):i.scope;if(e){if("dropdown"==o){var l=$L(t).closest("lyte-drop-box")[0];l&&l.classList.contains("lyteDropdownHidden")&&l.origindd.toggle()}t.classList.remove("lyteSearchHidden")}else if("tree"!=o){if(t.classList.contains("lyteSearchHidden"))return;t.classList.add("lyteSearchHidden")}},pressFunc:function(t,e){if(!this.getMethods("onBeforeSearch")||0!=this.executeMethod("onBeforeSearch",e,this)){var o,i=[],l=[],a=[],n=this.data.ltPropQuerySelector,r="string"==typeof n.scope?document.body.querySelector(n.scope.trim()):n.scope;if(n.search&&(l=r.querySelectorAll(n.search.trim())),a=n.target?r.querySelectorAll(n.target.trim()):l,n.search)for(var s=0;s<l.length;s++)i[s]=l[s].textContent;else returnedVal=this.searchList.call(this,r),i=returnedVal[0],l=(a=returnedVal[1]).slice();o=n.related&&(n.search||n.target)?o=r.querySelectorAll(n.related):[],this.filteringArray.call(this,i,a,t,l,e,o),this._prevVal=t}}}),Lyte.Component.register("lyte-slider",{_template:'<template tag-name="lyte-slider">\n\t<div class="lyteSlide {{if(ltPropDisabled, \'lyteSliderDisabled\', \'\')}}">\n\t\t<div class="lyteRangeSlider {{ltPropDirection}}" onclick="{{action(\'click\',event)}}" tabindex="0" onkeydown="{{action(\'keydown\', event)}}">\n\t\t\t<div class="lyteSliderFill"></div>\n\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler1" lt-prop-title="{{if(expHandlers(ltPropTooltip, \'&amp;&amp;\', true), if(ltPropRangeHandler,ltPropMinValue, ltPropValue), \'\')}}" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t<template is="if" value="{{ltPropRangeHandler}}"><template case="true">\n\t\t\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler2" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" lt-prop-title="{{if(ltPropTooltip, ltPropMaxValue, \'\')}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t\t</template></template><template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteScaleOption {{ltPropHandler}}">\n\t\t\t\t\t<template is="for" items="{{divLength}}" index="indexVal">\n\t\t\t\t\t\t<span class="lyteScaleLine" style="{{item}}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<span class="lyteScalLable">{{scaleVal[indexVal]}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t </template></template>\t\n\t\t</div>\n\t</div>\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,3]},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"item"}}},{type:"text",position:[1,3,0]}]}]}},default:{}}],_observedAttributes:["divLength","scaleVal","ltPropMin","ltPropMax","ltPropScaleInterval","ltPropStep","ltPropHandler","ltPropDirection","ltPropWidth","ltPropFillColor","ltPropNonFillColor","ltPropHeight","ltPropValue","ltPropDiscrete","ltPropContent","ltPropRangeHandler","ltPropMinValue","ltPropMaxValue","ltPropDisabled","ltPropSelectedValue1","ltPropSelectedValue2","ltPropYield","ltPropTooltipStyle","ltPropTooltip","ltPropScaleUnit","ltPropTooltipClass","ltPropTooltipConfig","ltPropMinDiff","ltPropDigits","preventObs"],init:function(){this._dir=_lyteUiUtils.getRTL();var t,e=this.getData("ltPropTooltipConfig"),o=this.getData("ltPropDirection"),i=this.getData("ltPropTooltipStyle");(e||(this._config=!0,this.data.ltPropTooltipConfig={position:"lyteHorizontal"==o?"top":"right",showdelay:500,margin:10}),i||(this._style=!0,this.data.ltPropFillColor&&(this.data.ltPropTooltipStyle="background-color : "+this.data.ltPropFillColor+";")),-1!=[void 0,"",null].indexOf(this.getData("ltPropScaleInterval")))&&(this.setData("preventObs",!0),-1!=this.getData("ltPropHandler").indexOf("Arrow")&&0==this.getData("ltPropContent").length&&(t=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))),this.getData("ltPropContent").length&&(t="true"),t&&this.setData("ltPropScaleInterval",t.toString()),this.setData("preventObs",!1));this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:"offsetLeft"==t?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:o-e.right;if("left"==t)return"right"}return e?e[t]:t},heightSetObs:function(){this.heightSet.call(this,arguments[0])}.observes("ltPropWidth","ltPropHeight"),heightSet:function(){var t=this.getData("ltPropWidth"),e=this.getData("ltPropHeight");-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(t||(this.setData("ltPropWidth","200px"),t="200px"),e||(this.setData("ltPropHeight","30px"),e="30px")):(t||(this.setData("ltPropWidth","30px"),t="30px"),e||(this.setData("ltPropHeight","200px"),e="200px")),this.$node.style.width=t,this.$node.style.height=e,arguments.length&&this.didConnectWrk.call(this)},initialWorkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.initialWork.call(this,arguments[0]),this.setData("preventObs",!1))}.observes("ltPropContent","ltPropMax","ltPropMin","ltPropScaleInterval","ltPropDiscrete","ltPropStep","ltPropValue","ltPropScaleUnit").on("init"),initialWork:function(t){var e=this.getData("ltPropContent").slice(),o=this.getData("ltPropDirection"),i=this.getData("ltPropDiscrete"),l=this.getData("ltPropRangeHandler");if(e.length){if(e.length)if(this.setData("ltPropMax","100"),this.setData("ltPropStep",this.getData("ltPropScaleInterval")),(this.getData("ltPropScaleInterval")||t&&"ltPropContent"==t.item)&&this.setData("ltPropScaleInterval",""+parseFloat(100/(e.length-1))),this.setData("ltPropDiscrete",this.getData("ltPropScaleInterval")),l){r=this.getData("ltPropMinValue"),s=this.getData("ltPropMaxValue");(!r||-1==e.indexOf(r)||e.indexOf(r)>e.indexOf(s))&&this.setData("ltPropMinValue",e[0]),(!s||-1==e.indexOf(s)||e.indexOf(r)>e.indexOf(s))&&this.setData("ltPropMaxValue",e[e.length-1]),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else this.getData("ltPropValue")||(this.setData("ltPropValue",this.getData("ltPropContent")[0]),this.setData("ltPropSelectedValue1",this.getData("ltPropValue")))}else{var a=parseFloat(this.getData("ltPropMin")),n=parseFloat(this.getData("ltPropMax"));if(l){var r=parseFloat(this.getData("ltPropMinValue")),s=parseFloat(this.getData("ltPropMaxValue"));(isNaN(r)||r<a||r>=n)&&this.setData("ltPropMinValue",a.toString()),(isNaN(s)||s>n||s<=a)&&this.setData("ltPropMaxValue",n.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else{var d=parseFloat(this.getData("ltPropValue"));d<a||isNaN(d)?this.setData("ltPropValue",a.toString()):d>n&&this.setData("ltPropValue",n.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))}if(i){var p=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));i=parseFloat(i),i=Math.max(isNaN(i)?0:i,p).toString(),this.setData("ltPropDiscrete",i),this.setData("ltPropStep",i),this.setData("ltPropScaleInterval",i)}}var c=[],h=[];if(!this.getData("ltPropYield")){var u=-1!=o.indexOf("Horizontal"),y="top:",m=parseFloat(this.getData("ltPropScaleInterval"));if(u&&(y=this.rtlfunc.call(this,"left")+":"),m&&!isNaN(m)){for(var g=parseFloat(this.getData("ltPropMin")),f=this.getData("ltPropScaleUnit"),v=0;g<=parseFloat(this.getData("ltPropMax"));v++)c.push(y+(g-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*100+"%"),this.getData("ltPropContent").length?h.push(e[v]+f):h.push(g+f),g+=parseFloat(m);s=e.length?e[e.length-1]:this.getData("ltPropMax");h[h.length-1]!=s&&(c.push(y+100+"%"),e.length?h.push(e[e.length-1]+f):h.push(this.getData("ltPropMax")+f))}else c.push(y+0+"%"),c.push(y+100+"%"),h=this.MaxMinSet.call(this),this.setData("scaleVal",h)}this.setData("scaleVal",h),this.setData("divLength",c)},colorSetObs:function(t){this.colorSet.call(this,t)}.observes("ltPropFillColor","ltPropNonFillColor").on("didConnect"),colorSet:function(t){(!t&&this.data.ltPropFillColor||t&&"ltPropFillColor"==t.item)&&(this.$node.querySelector("div.lyteSliderFill").style.backgroundColor=this.data.ltPropFillColor),(!t&&this.data.ltPropNonFillColor||t&&"ltPropNonFillColor"==t.item)&&(this.$node.querySelector("div.lyteRangeSlider").style.backgroundColor=this.data.ltPropNonFillColor)},didConnectWrkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.didConnectWrk.apply(this,arguments),this.setData("preventObs",!1))}.observes("ltPropScaleInterval","ltPropValue","ltPropMin","ltPropMax","ltPropMinValue","ltPropMaxValue","ltPropContent","ltPropHandler","ltPropRangeHandler"),didConnectWrk:function(){this.$node.querySelector("div.lyteRangeSlider"),this.$node.querySelector("div.lyteSlide");var t,e,o=this.$node.querySelectorAll("div.lyteSliderHandler"),i=this.getData("ltPropRangeHandler"),l=this.getData("ltPropDirection"),a=this.$node.getBoundingClientRect(),n=o[0].getBoundingClientRect(),r=this.$node.offsetParent,s={},d="width",p="handlerWidth",c=this.rtlfunc.call(this,"left"),h={},u="offsetWidth";-1==l.indexOf("Horizontal")&&(d="height",p="handlerHeight",c="top",u="offsetHeight"),null==r?(s.width=parseFloat(this.getData("ltPropWidth")),s.height=parseFloat(this.getData("ltPropHeight")),s.handlerWidth=s.handlerHeight=12):(s.width=a.width,s.height=a.height,s.handlerWidth=n.width,s.handlerHeight=n.height);var y=this.$node.querySelector("div.lyteSliderFill");if(this.getData("ltPropContent").length){var m,g,f=this.data.ltPropContent.indexOf(this.data.ltPropValue);this.$node.querySelectorAll("div.lyteSliderHandler"),f=f>-1?f:0,i&&(m=-1!=(m=this.getData("ltPropContent").indexOf(this.getData("ltPropMinValue")))?m:0,g=-1!=(g=this.getData("ltPropContent").indexOf(this.getData("ltPropMaxValue")))?g:this.getData("ltPropContent").length-1),i?(t=this.rangeInitialSet.call(this,u,m),e=this.rangeInitialSet.call(this,u,g),h=this.rangeSliderFill(t,e,s[p])):(t=this.rangeInitialSet.call(this,u,f),h.width=f/(this.getData("ltPropContent").length-1)*s[d])}else i?(t=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropMinValue"))),e=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropMaxValue"))),h=this.rangeSliderFill(t,e,s[p])):(t=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropValue"))),h.width=(parseFloat(this.getData("ltPropValue"))-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*s[d]);o[0].style[c]=t+"px",y.style[d]=h.width+"px",o[1]&&(o[1].style[c]=e+"px",y.style[c]=h.left+"px")},directionObsObs:function(){this.directionObs.call(this)}.observes("ltPropDirection"),directionObs:function(){this.getData("preventObs")||$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteSliderHandler");t.style.removeProperty(this.rtlfunc.call(this,"left")),t.style.removeProperty("top");var e=this.$node.querySelector(".lyteSliderFill");e.style.removeProperty("width"),e.style.removeProperty("height"),this.setData("preventObs",!0),this.heightSet.call(this),$L.fastdom.measure(function(){this.didConnectWrk.call(this),this.setData("preventObs",!1)}.bind(this))}.bind(this))},MaxMinSet:function(){var t=[],e=this.getData("ltPropScaleUnit");return this.getData("ltPropContent").length?(t.push(this.getData("ltPropContent")[0]+e),t.push(this.getData("ltPropContent")[this.getData("ltPropContent").length-1]+e)):(t.push(this.getData("ltPropMin")+e),t.push(this.getData("ltPropMax")+e)),t},selectedVal:function(t,e,o,i,l){this.$node.querySelector("div.lyteSlide");var a,n=t[o];return a=i?((parseFloat(i.style[l])+e[o]/2)/n*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits):(parseFloat(this.$node.querySelector("div.lyteSliderFill").style[o])/n*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits),this.getData("ltPropContent").length&&(numb=parseFloat(a)/parseFloat(this.getData("ltPropScaleInterval")),a=a>100?this.getData("ltPropContent")[this.getData("ltPropContent").length-1]:this.getData("ltPropContent")[parseInt(parseFloat(numb).toFixed(0))]),a},onSelect:function(t){(this.getMethods("onChange")||this.getMethods("onSelect"))&&(this.getData("ltPropRangeHandler")?(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node)):(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.$node)))},scroll:function(t,e){var o=parseFloat(this.getData("ltPropDiscrete")),i=!1,l=!1,a=!1;return t>=parseFloat(this.getData("ltPropMax"))-(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%o?(o=(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%o,l=!0,i=!0):t-parseFloat(this.getData("ltPropDiscrete"))/2<parseFloat(this.getData("ltPropMin"))&&(i=!0,a=!0),i?t>parseFloat(this.getData("ltPropMax"))-o/2?t=l?parseFloat(this.getData("ltPropMax")):t-(t-parseFloat(this.getData("ltPropMin")))%o+o:(o=parseFloat(this.getData("ltPropDiscrete")),a?t=parseFloat(this.getData("ltPropMin")):t-=(t-parseFloat(this.getData("ltPropMin")))%o):(t-parseFloat(this.getData("ltPropMin")))%o>=parseFloat(this.getData("ltPropDiscrete"))/2?t=t-(t-parseFloat(this.getData("ltPropMin")))%o+o:t-=(t-parseFloat(this.getData("ltPropMin")))%o,width=(t-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*e,width},ScrollCheck:function(t,e,o,i,l,a,n,r){var s,d,p,c,h,u,y,m,g,f=!0,v=this.$node.querySelector("div.lyteSlide"),D=this.getData("ltPropRangeHandler"),b=this.$node.querySelector("div.lyteSliderFill"),P=window.innerWidth,C=this.rtlfunc.call(this,i,r,P);D?(s=this.$node.querySelector("div.lyteHandler2"),d=this.$node.querySelector("div.lyteHandler1"),p=this.$node.querySelector("div.lyteRangeSlider"),c=d.getBoundingClientRect(),h=s.getBoundingClientRect(),(y=this.rtlfunc.call(this,e,h,P))-(u=this.rtlfunc.call(this,e,c,P))<=0?this._elem?this._elem.classList.contains("lyteHandler1")?C<u+c[o]&&y-u==0?f=!0:"mousemove"==r.type&&(f=!1):this._elem.classList.contains("lyteHandler2")&&(C>y&&y-u==0?f=!0:"mousemove"==r.type&&(f=!1)):"mousemove"==r.type&&(f=!1):this.getData("ltPropDiscrete")?parseFloat(this.getData("ltPropDiscrete")):0,m=C-this.rtlfunc.call(this,e,p.getBoundingClientRect(),P)):m=C-this.rtlfunc.call(this,e,b.getBoundingClientRect(),P),this.getData("ltPropContent").length&&"click"==r.type&&D&&parseInt(y-u)<1/(this.getData("ltPropContent").length-1)*this.$node[a]&&C<y+h[o]&&C>u+c[o]&&(f=!1);parseFloat(this.getData("ltPropDiscrete"));var L=this.$node.querySelector("div.lyteSliderHandler"),x=t.getBoundingClientRect(),S=v.getBoundingClientRect();if(this.getData("ltPropDiscrete")&&(widthVal=m/S[o]*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin")),m=this.scroll.call(this,widthVal,S[o])),g=(g=(g=(m=(m=m<S[o]?m:S[o])>0?m:0)-x[o]/2)>S[o]-L[l]/2?S[o]-L[l]/2:g)>-x[o]/2?g:-x[o]/2,D&&(t.classList.contains("lyteHandler1")?this.rtlfunc.call(this,n,s)<g&&(f=!1):this.rtlfunc.call(this,n,d)>g&&(f=!1)),t.focus(),f){if(e=this.rtlfunc.call(this,e),D){var w,_;if(t.classList.contains("lyteHandler1")){_=parseInt(s.style[e]);var M=this.minMaxCheck(S,c,o);w=g=Math.min(Math.max(g,M[0]),_-M[1])}else{w=parseInt(d.style[e]);M=this.minMaxCheck(S,c,o,!0);_=g=Math.max(Math.min(g,M[0]),w+M[1])}var E=this.rangeSliderFill.call(this,w,_,c[o]);b.style[e]=E.left+"px",b.style[o]=E.width+"px"}else b.style[o]=m+"px";t.style[e]=g+"px"}$L.fastdom.measure(function(){this.selectedValFind.call(this,S,x)}.bind(this)),r.stopPropagation(),r.preventDefault()},minMaxCheck:function(t,e,o,i){var l=(this.getData("ltPropMinDiff")||0)*t[o]/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));return[i?t[o]-l-e[o]/2:l-e[o]/2,l]},selectedValFind:function(t,e){if(this.setData("preventObs",!0),this.getData("ltPropRangeHandler")){if(-1==this.getData("ltPropDirection").indexOf("Horizontal"))this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler1"),"top").toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler2"),"top").toString());else{var o=this.rtlfunc.call(this,"left");this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler1"),o).toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler2"),o).toString())}this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else-1==this.getData("ltPropDirection").indexOf("Horizontal")?this.setData("ltPropValue",this.selectedVal.call(this,t,e,"height").toString()):this.setData("ltPropValue",this.selectedVal.call(this,t,e,"width").toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"));this.setData("preventObs",!1)},initialValueSet:function(t,e,o){var i=parseFloat(this.getData("ltPropMax")),l=parseFloat(this.getData("ltPropMin"));return(o-l)/(i-l)*t-e/2},rangeSliderFill:function(t,e,o){return{width:e-t,left:t+o/2}},keyCheck:function(t,e,o,i,l,a){i=this.rtlfunc.call(this,i);var n,r=this.$node.querySelector("div.lyteSliderFill"),s=(window.innerWidth,e.getBoundingClientRect()),d={},p=this.getData("ltPropRangeHandler"),c=this.$node.getBoundingClientRect(),h=1,u=this.$node.querySelectorAll("div.lyteSliderHandler"),y=-1!=this.getData("ltPropDirection").indexOf("Horizontal"),m=parseFloat(this.getData("ltPropStep"));if(m||(m=.1*parseFloat(this.getData("ltPropMax"))),this._dir?39==t.keyCode&&y&&(h=-1):(37==t.keyCode&&y||38==t.keyCode&&!y)&&(h=-1),n=parseFloat(e.style[i])+m/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*c[o]*h,n=Math.min(Math.max(-s[o]/2,n),c[o]-s[o]/2),p){var g,f;if(e==u[0]){f=parseInt(u[1].style[i]);var v=this.minMaxCheck(c,s,o);g=n=Math.min(Math.max(n,v[0]),f-v[1])}else{g=parseInt(u[0].style[i]);v=this.minMaxCheck(c,s,o,!0);f=n=Math.max(Math.min(n,v[0]),g+v[1])}if(g>f){if(parseInt(u[0].style[i])==f)return;37==t.keyCode||38==t.keyCode?f=n=g:39!=t.keyCode&&40!=t.keyCode||(g=n=f)}d=this.rangeSliderFill.call(this,g,f,s[o])}else d.width=n+s[o]/2;e.style[i]=n+"px",r.style[o]=d.width+"px",p&&(r.style[i]=d.left+"px"),$L.fastdom.measure(function(){this.selectedValFind.call(this,c,s)}.bind(this))},mousemove:function(t){var e,o,i,l,a,n;this._flag||(this._flag=!0),-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(e="left",o="width",i="clientX",l="offsetWidth",l="offsetWidth",a="ltPropWidth",n="offsetLeft"):(e="top",o="height",i="clientY",l="offsetHeight",l="offsetHeight",a="ltPropHeight",n="offsetTop"),this.ScrollCheck.call(this,this._elem,e,o,i,l,a,n,t),$L.fastdom.measure(function(){this.getMethods("onChange")&&this.onSelect.call(this)}.bind(this))},eventListener:function(t,e){var o=window.innerWidth,i=this.rtlfunc.call(this,"clientX",t,o),l=this.$node.querySelector("div.lyteRangeSlider").getBoundingClientRect();i>this.rtlfunc.call(this,"left","clientRect",o)?(width=i-this.rtlfunc.call(this,"left","clientRect",o)-parseFloat(l.width-parseFloat(l.width/2)),width>0&&t.preventDefault()):t.preventDefault();var a=t.clientY;a>=l.top?a-l.top-parseFloat(l.height-parseFloat(l.height/2))>0&&t.preventDefault():t.preventDefault(),this._mousemove=this.mousemove.bind(this),this._mouseup=this.mouseup.bind(this),this._elem=e,document.addEventListener("mousemove",this._mousemove,!0),document.addEventListener("mouseup",this._mouseup,!0)},rangeInitialSet:function(t,e){return e/(this.getData("ltPropContent").length-1)*this.$node[t]-this.$node.querySelector("div.lyteSliderHandler")[t]/2},didConnect:function(){this.directionObs.call(this),this.valueSelected.call(this),$L.fastdom.mutate(function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))},valueSelected:function(){this.getData("ltPropRangeHandler")?(this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))):this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))},mouseup:function(t){this.$node.querySelector("div.lyteRangeSlider");document.removeEventListener("mousemove",this._mousemove,!0),document.removeEventListener("mouseup",this._mouseup,!0),delete this._mousemove,delete this._elem},data:function(){return{divLength:Lyte.attr("array",{default:[]}),scaleVal:Lyte.attr("array",{default:[]}),ltPropMin:Lyte.attr("string",{default:"0"}),ltPropMax:Lyte.attr("string",{default:""}),ltPropScaleInterval:Lyte.attr("string",{default:""}),ltPropStep:Lyte.attr("string",{default:""}),ltPropHandler:Lyte.attr("string",{default:"lyteArrow"}),ltPropDirection:Lyte.attr("string",{default:"lyteHorizontal"}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropFillColor:Lyte.attr("string",{default:""}),ltPropNonFillColor:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropValue:Lyte.attr("string",{default:""}),ltPropDiscrete:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropRangeHandler:Lyte.attr("boolean",{default:!1}),ltPropMinValue:Lyte.attr("string",{default:""}),ltPropMaxValue:Lyte.attr("string",{default:""}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropSelectedValue1:Lyte.attr("string",{default:""}),ltPropSelectedValue2:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropTooltipStyle:Lyte.attr("string",{default:""}),ltPropTooltip:Lyte.attr("boolean",{default:!0}),ltPropScaleUnit:Lyte.attr("string",{default:""}),ltPropTooltipClass:Lyte.attr("string",{default:""}),ltPropTooltipConfig:Lyte.attr("object"),ltPropMinDiff:Lyte.attr("number",{default:0}),ltPropDigits:Lyte.attr("number",{default:2}),preventObs:Lyte.attr("boolean",{default:!1})}},actions:{click:function(t){var e="left",o="width",i="clientX",l="offsetWidth",a="ltPropWidth",n="offsetLeft",r=window.innerWidth;if(-1==this.getData("ltPropDirection").indexOf("Horizontal")&&(e="top",o="height",i="clientY",l="offsetHeight",a="ltPropHeight",n="offsetTop"),this.getData("ltPropRangeHandler")){var s=this.rtlfunc.call(this,i,t,r),d=this.$node.querySelector("div.lyteHandler1"),p=this.$node.querySelector("div.lyteHandler2"),c=d.getBoundingClientRect(),h=p.getBoundingClientRect();Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))>0?this.rtlfunc.call(this,e,c,r)+c[o]+Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))/2<s?this.ScrollCheck.call(this,p,e,o,i,l,a,n,t):this.rtlfunc.call(this,e,c,r)+c[o]+Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))/2!=s&&this.ScrollCheck.call(this,d,e,o,i,l,a,n,t):this.rtlfunc.call(this,e,c,r)==this.rtlfunc.call(this,e,h,r)&&(s<this.rtlfunc.call(this,e,c,r)?this.ScrollCheck.call(this,d,e,o,i,l,a,n,t):this.ScrollCheck.call(this,p,e,o,i,l,a,n,t))}else this.ScrollCheck.call(this,this.$node.querySelector("div.lyteSliderHandler"),e,o,i,l,a,n,t);$L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()},keydown:function(t){if(-1!=[37,38,39,40].indexOf(t.keyCode)){this.getData("ltPropDiscrete")&&this.setData("ltPropStep",this.getData("ltPropDiscrete"));var e=t.target,o=this.getData("ltPropDirection"),i="width",l="left",a="offsetWidth",n="ltPropWidth";-1==o.indexOf("Horizontal")&&(i="height",l="top",a="offsetHeight",n="ltPropHeight"),this.getData("ltPropRangeHandler")?this.keyCheck.call(this,t,e,i,l,a,n):this.keyCheck.call(this,t,this.$node.querySelector("div.lyteSliderHandler"),i,l,a,n),(37!=t.keyCode&&39!=t.keyCode||-1==o.indexOf("Horizontal"))&&(38!=t.keyCode&&40!=t.keyCode||-1!=o.indexOf("Horizontal"))||($L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}},mousedown:function(t,e){this.eventListener.call(this,t,e)}}}),Lyte.Component.register("lyte-step",{_template:'<template tag-name="lyte-step">\n\t<div onclick="{{action(\'divClick\', event, this)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-step-structure class="{{ltPropClass}}" onclick="{{action(\'divClick\', event, this)}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="array" index="indexVal"><template is="if" value="{{expHandlers(lyteUiIsObject(array),\'==\',false)}}"><template case="true"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteStepBullet\')}}"><template case="true">\n\t\t\t\t \t\t\t\t\t\t\t  <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t  <lyte-step-body> {{array}} </lyte-step-body> \n\t\t\t\t \t\t\t\t\t\t\t\t\t<lyte-step-head>{{indexVal}}</lyte-step-head>\n\t\t\t\t \t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t \t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t  <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t <lyte-step-body> {{array}} </lyte-step-body>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t </template></template></template><template case="false"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteStepBullet\')}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-body> {{array[ltPropLabel]}} </lyte-step-body> \n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-head>{{array[ltPropOption]}}</lyte-step-head>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t   <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t   \t    <lyte-step-body> {{array[ltPropLabel]}} </lyte-step-body>\n\t\t\t\t\t\t\t\t\t\t\t   </lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t  </template></template></template></template></template>\n\t\t\t\t\t</lyte-step-structure>\t\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t </template></template>\n\t\t</div>\t\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropClass","ltPropData","ltPropSelected","ltPropSkip","ltPropActiveClass","ltPropCompletedClass","ltPropWarningClass","ltPropKeepMarked","ltPropYield","ltPropLabel","ltPropOption"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.$node.next,delete this.$node.previous,delete this.$node.goto},didConnect:function(){this.$node.next=function(t){this.$node.goto(this.data.ltPropSelected+1,t,!0)}.bind(this),this.$node.previous=function(t){this.$node.goto(this.data.ltPropSelected-1,t,!0)}.bind(this),this.$node.goto=function(t,e,o){if(this.component.getData("ltPropSkip")||o){var i=this.querySelectorAll("lyte-step-item"),l=this.component.getData("ltPropSelected"),a=this.component.getData("ltPropWarningClass"),n=i[l],r=this.component.getData("ltPropCompletedClass"),s=this.component.getData("ltPropActiveClass");t>=-1&&i.length&&("incomplete"==e?n.classList.add(a):n.classList.add(r),n.classList.remove(s),t==i.length?t--:-1==t&&t++,i[t].classList.add(s),t==l?(n.classList.remove(a),n.classList.remove(r)):this.component.setData("ltPropSelected",t))}},$L.fastdom.measure(function(){var t=_lyteUiUtils.getRTL();$L.fastdom.mutate(function(){t&&this.$node.classList.add("lyteRTL"),this.breadcrumbClass.call(this)}.bind(this))}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},selectedElementFindObs:function(){$L.fastdom.measure(function(){this.selectedElementFind.call(this)}.bind(this))}.observes("ltPropSelected").on("didConnect"),selectedElementFind:function(){var t=parseInt(this.getData("ltPropSelected")),e=this.getData("ltPropActiveClass"),o=this.$node.querySelectorAll("lyte-step-item"),i=this.getData("ltPropCompletedClass"),l=this.getData("ltPropWarningClass");if(o.length){for(var a=this.getData("ltPropKeepMarked")?t:o.length-1,n=0;n<o.length;n++)o[n].classList.remove(e);o[t].classList.add(e),o[t].classList.remove(l),o[t].classList.remove(i);for(var r=0;r<=a;r++)r<t?o[r].classList.contains(l)||o[r].classList.add(i):r>t&&(o[r].classList.remove(l),o[r].classList.remove(i))}},ArrayContentChangeObs:function(){this.ArrayContentChange.call(this)}.observes("ltPropData.[]"),ArrayContentChange:function(){void 0==this.getData("ltPropSelected")?this.setData("ltPropSelected",0):this.selectedElementFind.call(this)},breadcrumbClassObs:function(){this.breadcrumbClass.call(this)}.observes("ltPropClass"),breadcrumbClass:function(){this.data.ltPropYield&&this.data.ltPropClass&&this.$node.querySelector("lyte-step-structure").classList.add(this.data.ltPropClass)},data:function(){return{ltPropClass:Lyte.attr("string",{default:"lyteStepSlash"}),ltPropData:Lyte.attr("array",{default:[]}),ltPropSelected:Lyte.attr("number",{default:0}),ltPropSkip:Lyte.attr("boolean",{default:!0}),ltPropActiveClass:Lyte.attr("string",{default:"lyteActive"}),ltPropCompletedClass:Lyte.attr("string",{default:"lyteCompleted"}),ltPropWarningClass:Lyte.attr("string",{default:"lyteWarning"}),ltPropKeepMarked:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropOption:Lyte.attr("string",{default:""})}},actions:{onclick:function(t,e,o){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;this.getMethods("onClick")&&(this.executeMethod("onClick",e,this.$node,t,o),t.stopPropagation())},divClick:function(t,e){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onClick")&&this.getData("ltPropYield"))for(var o=t.target.correspondingElement||t.target;o&&o!=e;){if("LYTE-STEP-ITEM"==o.tagName){this.executeMethod("onClick",o,this.$node,t,o.getAttribute("data-value"));break}o=o.parentNode}}}}),Lyte.Component.register("lyte-svg",{_template:'<template tag-name="lyte-svg">\n\t<svg class="{{ltPropClass}}" viewBox="{{ltPropViewBox}}">\n\t\t<use id="{{ltPropId}}" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{lyteUiSetURL(ltPropPath,flag)}}"></use>\n\t</svg>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]}],_observedAttributes:["ltPropViewBox","ltPropClass","ltPropPath","ltPropId","flag"],data:function(){return{ltPropViewBox:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropPath:Lyte.attr("string"),ltPropId:Lyte.attr("string",{default:""}),flag:Lyte.attr("boolean",{default:!1})}},didConnect:function(){this.setData("flag",!0)}}),Lyte.Component.register("lyte-table",{_template:'<template tag-name="lyte-table">\n\t<div class="lyteTableScroll">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t<lyte-table-structure id="{{ltPropId}}" class="{{ltPropClass}}">\n\t\t   <template is="if" value="{{ltPropHeaderLabelKey}}"><template case="true">\n\t\t\t   <lyte-colgroup>\n\t\t\t\t   <template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t<lyte-col></lyte-col>\n\t\t\t\t\t</template> \n\t\t\t\t</lyte-colgroup>\t\n\t\t\t\t<lyte-thead>\n\t\t\t\t\t<lyte-tr>\n\t\t\t\t\t   <template is="if" value="{{ltPropHeader.length}}"><template case="true"><template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t<lyte-th id="{{list.id}}" class="{{list.class}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t{{unescape(list[ltPropHeaderLabelKey])}}\n\t\t\t\t\t\t</lyte-th>\n\t\t\t\t\t\t\t</template></template></template>\t\n\t\t\t\t\t</lyte-tr>\n\t\t\t\t</lyte-thead>\n\t\t\t</template></template>\t\n\t\t\t<lyte-tbody>\n\t\t\t\t<template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t <lyte-tr id="{{list.body.id}}" class="{{list.body.class}}">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t\t<lyte-td>\n\t\t\t\t\t\t\t\t\t<div style="height: {{ltPropCellHeight}}">\n\t\t\t\t\t\t\t\t\t\t{{unescape(lyteUiGetValue(list.body,header[ltPropBodyLabelKey]))}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</lyte-td>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t \t</lyte-tr>\n\t\t\t\t\t</template>\n\t\t\t\t</template><template case="false">\n\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t <lyte-tr id="{{list.id}}" class="{{list.class}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t<lyte-td>{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t \t</lyte-tr>\n\t\t\t\t</template>\n\t\t\t\t</template></template>\n\t\t    </lyte-tbody> \n\t\t    <template is="if" value="{{expHandlers(ltPropResize.vertical,\'||\',ltPropResize.horizontal)}}"><template case="true">\n\t\t    \t<lyte-table-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-resize>\n\t\t    \t<template is="if" value="{{ltPropResize.vertical}}"><template case="true">\n\t\t    \t\t<lyte-table-vertical-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-vertical-resize>\n\t\t    \t</template></template><template is="if" value="{{ltPropResize.horizontal}}"><template case="true">\n\t\t    \t\t<lyte-table-horizontal-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-horizontal-resize>\n\t\t    \t</template></template></template></template>\t\n\t</lyte-table-structure>\n\t</template><template case="false"><template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t<lyte-yield yield-name="yield" lt-prop-data="{{ltPropData}}"></lyte-yield>\n\t</template><template case="false">\n\t <lyte-yield yield-name="yield"></lyte-yield>\n\t </template></template></template></template>\n</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height: '","ltPropCellHeight"]}}}},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropContent","ltPropHeader","ltPropId","ltPropClass","ltPropBorder","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropWidth","ltPropHeight","ltPropResize","ltPropFixedColumnClass","ltPropYield","ltPropScroll","ltPropColumnSortable","ltPropScrollbarOption","ltPropDualResize","ltPropData","ltPropInfiniteScroll","ltPropCellHeight","ltPropContentLength","ltPropPreventScrollbar","columns","nonFixedColumn","minWidth1","minWidth2","secondaryData","boundary","rowHeights"],init:function(){var t=navigator.userAgent;this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._browser=this.isIE11Lyte||this.isEdgeLyte||t.match("Safari")&&!t.match("Chrome"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.scrollTable=function(t,e){this.scrollDiv||(this.scrollDiv=this.$node.querySelector("div.lyteTableScroll")),void 0!=t&&(this.scrollDiv.scrollTop=e),void 0!=e&&(this.scrollDiv.scrollLeft=t);var o=new Event("scroll",{bubbles:!0});o._byFunc=!0,this.scrollDiv.dispatchEvent(o)}.bind(this),document._tableResize||(document._tableResize=!0,window.addEventListener("resize",resizeTable,!0)),this.$node.toggleRows=function(t){$L.fastdom.mutate(function(){for(var e=this.$node.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll"),o=0;o<e.length;o++)t?e[o].classList.remove("lyteHidden"):e[o].classList.add("lyteHidden")}.bind(this))}.bind(this)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},didDestroy:function(){0==document.body.querySelectorAll("lyte-table[lyte-rendered]").length&&document._tableResize&&(window.removeEventListener("resize",resizeTable,!0),delete document._tableResize),delete this.scrollDiv,delete this._dummy,delete this._dummy1,delete this.resizeComponent,delete this.targetElem,delete this.$node.setValue,delete this.$node.scrollTable},initProcess1:function(t){if(!this._prevent&&this.data.ltPropInfiniteScroll){var e=this.$node.querySelector("lyte-table-structure"),o=this.data.ltPropContent,i=Math.min(this.data.ltPropContentLength||o.length,o.length),l=[];if(0==o.length&&!t)return;e&&(e.style.height="auto");for(var a=0;a<i;a++)l[a]={body:o[a],checked:!1,index:a};this.setData("ltPropData",l),t&&this._dummy&&(this._dummy.style.height=0,this._dummy.style.transform="translateY(0px)"),t&&this._dummy1&&(this._dummy1.style.transform="translateY(0px)"),delete this._stopScroll,t&&this.scrollDiv&&(this.scrollDiv.scrollTop=0,this.scrollDiv.scrollLeft=0),this._top=0,this._bottom=Math.max(i-1,0),this._boundary={top:0,bottom:i-1}}}.observes("ltPropContent").on("init"),didConnect:function(){var t=this.data.ltPropInfiniteScroll,e=(this.data.secondaryData,this.data.ltPropResize);this.data.ltPropYield&&(e.vertical||e.horizontal)&&this.resizeComponentAppend.call(this);try{var o=this.$node.querySelector("div.lyteTableScroll");if(this.scrollDiv=o,o.comp=this,this.data.ltPropPreventScrollbar)this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node);else{$L(o).scroll(this.data.ltPropScrollbarOption);var i,l=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY"),a=this.$node.querySelector("lyte-th");$L.fastdom.measure(function(){var t=this._dir;a&&l&&0==l.offsetTop&&(i=a.getBoundingClientRect().height,$L.fastdom.mutate(function(){l.style.top=i+"px",t&&this.$node.classList.add("lyteRTL")}.bind(this))),$L.fastdom.mutate(function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this))}}catch(t){}t&&(this.$node.classList.add("infinitescroll"),o._infiniteScroll=!0,this.$node.setValue=function(t){this._stopScroll&&this.appendAddData1.call(this,t)}.bind(this))},columnWidth:function(t,e,o){var i=0;for(o||(o=0);o<e;o++)i+=t[o].property.width;return i},heightCalc:function(t,e,o){for(var i=0,l=e;l>0&&!(o<(i+=t[l]));l--);return[i,l]},topElem:function(t){if(this.isIE11Lyte||this.isEdgeLyte){var e=t.querySelector("lyte-td");return e?e.getBoundingClientRect():{}}return t.getBoundingClientRect()},cellSet:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte){var o=t.querySelectorAll("lyte-td");if(!e&&o.length)return o[0].style.transform;for(var i=0;i<o.length;i++)o[i].style.transform=e}else{if(!e)return t.style.transform;t.style.transform=e}},scrollTable:function(t,e){var o=t.yScroll,i=this.getData("ltPropData"),l=this.getData("ltPropContent"),a=this.scrollDiv,n=e.tbodyClient,r=e.$nodeClient,s=this.$node.querySelector("lyte-table-structure"),d=this.$node.querySelector("lyte-th"),p=e.neglected,c=e.compNeg;d=d?d.property?d.property.height:d.getBoundingClientRect().height:0;var h=e.topElem,u=e.topElemClient;if(-1==s.style.height.indexOf("px")&&(s.style.height=n.height+"px",this._rowHgt=parseInt(10*u.height)/10,this._step=parseInt(10*(n.height-this._rowHgt*p.length))/10),!this._dummy){var y=e.tbody,m=document.createElement("lyte-tr");if(m.classList.add("dummy"),y.appendChild(m),m.setAttribute("style","transform:translateY(0px);height:0px"),this._dummy=m,this._browser){var g=document.createElement("div");g.classList.add("dummy"),this.scrollDiv.appendChild(g),g.setAttribute("style","transform:translateY(0px);height:5px"),this._dummy1=g}}if(void 0==o&&!a.classList.contains("eventBinded")){var f=parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0]);o=a.scrollTop>f?1:-1}if(o>0){if(parseFloat(r.top+d)>=parseFloat(u.bottom))if(this._boundary.bottom<=l.length-2){var v=Math.max(parseInt((r.top+d-u.bottom)/this._rowHgt),1);this._boundary.bottom+v>l.length-1&&(v=l.length-1-this._boundary.bottom);for(var D=0;D<v;D++){if(this._boundary.bottom+=1,D>=v-i.length&&(Lyte.Component.set(i[this._top],{body:l[this._boundary.bottom],index:this._boundary.bottom}),h.dataOrder=this._boundary.bottom),this._boundary.top=this._boundary.bottom-i.length+1,this.cellSet(h)?this.regex(h):this.cellSet(h,"translateY("+this._step+"px)"),this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)",this._dummy.style.height=Math.max(parseFloat(this._dummy.style.height)-this._rowHgt,0)+"px",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)"),this._bottom=this._top,this._top=(this._top+1)%i.length,this._boundary.bottom>=l.length){this._boundary.bottom=l.length-1,this._top=(this._top+1)%i.length;break}h=this.nthoftype.call(this,this._top+c.length,!0)}}else this.scrollEndMethod1()}else if(o<0){var b=e.bottmElem,P=e.bottmElemClient;if(r.bottom<=P.top){var C=this.cellSet(b).match(/[\d|.]+/gi);if(!C||C&&"0"==C[0])return;v=parseInt(Math.max(parseFloat((P.top-r.bottom)/this._rowHgt),0));var L=Math.max(v-1-this._boundary.top,0);for(D=v-1;D>=0&&0!=v&&0!=this._boundary.top;D--){if(this._boundary.top-=1,D<=i.length-1+L&&(Lyte.Component.set(i[this._bottom],{body:l[this._boundary.top],index:this._boundary.top}),b.dataOrder=this._boundary.top),this._boundary.bottom=this._boundary.top+i.length-1,this.cellSet(b)&&this.regex(b,!0),this._dummy.style.height=parseFloat(this._dummy.style.height)+this._rowHgt+"px",this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)"),this._top=this._bottom,this._bottom=(i.length+this._bottom-1)%i.length,-1==this._boundary.top){this._boundary.top=0,this._boundary.bottom=this._boundary.top+i.length-1;break}b=this.nthoftype.call(this,this._bottom+c.length,!0)}}}},regex:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte)for(var o=t.querySelectorAll("lyte-td"),i=0;i<o.length;i++)this.regex1(o[i],e);else this.regex1(t,e)},regex1:function(t,e){t.style.transform=e?t.style.transform.replace(/[\d|.]+/gi,function(){return Math.max(parseFloat(arguments[0])-this._step,0).toFixed(3)}.bind(this)):t.style.transform.replace(/[\d|.]+/gi,function(){return(parseFloat(arguments[0])+this._step).toFixed(3)}.bind(this))},scrollEndMethod1:function(){this._stopScroll||(this._stopScroll=!0,this.getMethods("scrollEnd")&&this.appendAddData1(this.executeMethod("scrollEnd")))},appendAddData1:function(t){t&&(t.then?Promise.resolve(t).then(function(t){t&&this.apd1.call(this,t)}.bind(this),function(){}.bind(this)):this.apd1.call(this,t))},apd1:function(t){var e=this.data.ltPropContent;this.data.ltPropData;this._prevent=!0,t.constructor==Array?Lyte.arrayUtils(e,"concat",t):t.constructor==Object&&Lyte.arrayUtils(e,"push",t),delete this._prevent,delete this._stopScroll},nthoftype:function(t,e){var o=[],i=this.$node.querySelectorAll("lyte-tbody lyte-tr");if(e)return i[t];for(var l=0;l<i.length;l++)i[l].classList.contains("dummy")||o.push(i[l].querySelectorAll("lyte-td")[t]);return o},scroll:function(t){var e=this.comp,o=this._wheelObj||{bcr:{}};this._scrollLeft=void 0!=o.scrollLeft?o.scrollLeft:this.scrollLeft,this._scrollTop=void 0!=o.scrollTop?o.scrollTop:this.scrollTop;var i=this._direction;if(e.scrollCheck.call(this,t,o),0==this._scrollLeft&&"rtl"!=i&&e.getData("ltPropInfiniteScroll")){var l=e.getData("columns");Lyte.arrayUtils(l,"remove",0,l.length);var a=this.querySelectorAll(".lyteTableFixed");if(a.length)for(var n=0;n<a.length;n++)a[n].style.left="0px",a[n].classList.remove("lyteTableFixed")}e.data.ltPropInfiniteScroll&&e.scrollTable.call(e,t,o),delete this._scrollLeft,delete this._scrollTop},scrollCheck:function(t,e){this.querySelector("lyte-table-structure");var o=this._scrollTop,i=this._scrollLeft,l=this.parentElement.component.getData("ltPropScroll"),a=this._direction;if((o!=this.prevScollTop||t._byFunc)&&l.vertical){var n=this.querySelectorAll("lyte-th");if(n.length){for(var r=0;r<n.length;r++)n[r].classList.add("tableRowFixed"),n[r].style.top=o+"px";if(!o)for(r=0;r<n.length;r++)n[r].classList.remove("tableRowFixed")}}if((i!=this.prevScollLeft||t._byFunc)&&l.horizontal){var s=this.parentElement.component,d=s.data.columns,p=this.querySelectorAll("lyte-thead lyte-tr, lyte-thead .lyteRowCopy"),c=[],h=[],u=s.data.ltPropFixedColumnClass||"";p.length&&(c=p[0].querySelectorAll("lyte-th"),h=p[0].querySelectorAll("lyte-th.lyteFixedColumn"));for(r=d.length;r<h.length;r++)if(h[r].property.right+s.columnWidth.call(s,h,r)>e.scrollDivClient.right&&"rtl"==a||h[r].property.left<e.scrollDivClient.left+s.columnWidth.call(s,h,r)&&"rtl"!=a){h[r].property.width;var y=h[r].order;if(y+1<c.length){h[r].classList.add("lyteTableFixed"),d.push(h[r]);for(var m=1;m<p.length;m++){(w=p[m].querySelectorAll("lyte-th")[y])&&w.classList.add("lyteTableFixed")}for(var g=s.isIE11Lyte?s.nthoftype.call(s,y):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(y+1)+")"),f=0;f<g.length;f++)g[f].classList.add("lyteTableFixed"),u&&g[f].classList.add(u)}}for(var v=d.length-1;v>=0&&(P=d.length-1,0==i&&(!window.chrome||"rtl"!=a)||(parseFloat((c[d[P].order+1].property.right+d[P].property.width+s.columnWidth.call(s,d,d.length-1)).toFixed(2))<parseFloat(e.scrollDivClient.right.toFixed(2))||c[d[P].order+1].property.right+2<d[P].property.left)&&"rtl"==a||c[d[P].order+1].property.left>=e.scrollDivClient.left+d[P].property.width+s.columnWidth.call(s,d,d.length-1)&&d[P].property.left>=e.scrollDivClient.left+s.columnWidth.call(s,h,d.length-1)&&"rtl"!=a);v--){c[d[P].order].classList.remove("lyteTableFixed"),d[P].style.removeProperty("left");for(m=1;m<p.length;m++){(w=p[m].querySelectorAll("lyte-th")[d[P].order])&&(w.classList.remove("lyteTableFixed"),w.style.removeProperty("left"))}for(var D=s.isIE11Lyte?s.nthoftype.call(s,d[P].order):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d[P].order+1)+")"),b=0;b<D.length;b++)D[b].style.removeProperty("left"),D[b].classList.remove("lyteTableFixed"),u&&D[b].classList.remove(u);Lyte.arrayUtils(d,"removeAt",P)}for(var P=0;P<d.length;P++){var C,L=s.isIE11Lyte?s.nthoftype.call(s,d[P].order):this.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d[P].order+1)+")"),x=navigator.userAgent.toLowerCase();C=0==P?"rtl"==a?-1!=x.indexOf("firefox")||-1!=x.indexOf("safari")&&-1==x.indexOf("chrome")&&-1==x.indexOf("chromium")?i-s.columnWidth.call(s,c,d[P].order,0):-1!=x.indexOf("edge")||-1!=x.indexOf("trident")||-1!=x.indexOf("msie")?-i-s.columnWidth.call(s,c,d[P].order,0):i-1-e.scrollWidth+e.scrollDivClient.width+s.columnWidth.call(s,c,d[P].order,0):i-s.columnWidth.call(s,c,d[P].order,0):"rtl"==a?(-1!=x.indexOf("firefox")||-1!=x.indexOf("safari")&&-1==x.indexOf("chrome")&&x.indexOf("chromium"),parseInt(d[P-1].style.left)+s.columnWidth.call(s,c,d[P].order,d[P-1].order+1)):parseInt(d[P-1].style.left)-s.columnWidth.call(s,c,d[P].order,d[P-1].order+1);for(var S=0;S<L.length;S++)L[S].classList.add("lyteTableFixed"),L[S].style.left=C+"px";d[P].style.left=C+"px";for(m=1;m<p.length;m++){var w;(w=p[m].querySelectorAll("lyte-th")[d[P].order])&&(w.classList.add("lyteTableFixed"),w.style.left=C+"px")}}}this.prevScollLeft=i,this.prevScollTop=o},borderChangeObs:function(){this.borderChange.call(this)}.observes("ltPropBorder").on("didConnect"),borderChange:function(){this.data.ltPropBorder?this.$node.classList.add("border"):this.$node.classList.remove("border")},widthObsObs:function(){this.widthObs.call(this)}.observes("ltPropWidth").on("didConnect"),widthObs:function(){this.$node.querySelector("lyte-table-structure").style.width=this.data.ltPropWidth},heightObsObs:function(){this.heightObs.call(this)}.observes("ltPropHeight").on("didConnect"),heightObs:function(){this.$node.querySelector("lyte-table-structure").style.height=this.data.ltPropHeight},sortableObs:function(){this.sortable.call(this)}.observes("ltPropColumnSortable").on("didConnect"),sortable:function(){var t=this.$node.querySelector("lyte-thead");t&&(this.data.ltPropColumnSortable?(this.colSort=this.sortableColumns.bind(this),t.addEventListener("mousedown",this.colSort),t.parentElement.classList.add("sortableTable")):(t.removeEventListener("mousedown",this.colSort),t.parentElement.classList.remove("sortableTable")))},composePath:function(t){for(var e=[],o=t.target.correspondingElement||t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},sortableColumns:function(t){var e,o=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),"lyte-th:not(.lyteTableFixed)");o&&this.$node.contains(o)&&(this.getMethods("onBeforeSelect")&&(e=this.executeMethod("onBeforeSelect",o,t,this.$node)),0!=e&&(this._ww=window.innerWidth,this.mousemove=this.sortableMouseMove.bind(this),this.offLeft=this.rtlfunc.call(this,"clientX",t,this._ww)-this.rtlfunc.call(this,"left",o.getBoundingClientRect(),this._ww),this.colHead=o,this._thisBccr=this.$node.getBoundingClientRect(),o.classList.add("sortSelect"),document.documentElement.addEventListener("mousemove",this.mousemove),this.mouseup=this.sortableMouseup.bind(this),document.documentElement.addEventListener("mouseup",this.mouseup),this.flag=!0,t.preventDefault(),this.getMethods("onSelect")&&this.executeMethod("onSelect",o,t,this.$node)))},horiScroll:function(t,e){var o=this.rtlfunc.call(this,"left"),i=this.isIE11Lyte||this.isEdgeLyte;parseFloat(t.style[o])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1?(this.scrollDiv.scrollLeft+=10*(this._dir?-1*(i?-1:1):1),this._reqId=window.requestAnimationFrame(function(){this.horiScroll(t,e)}.bind(this))):parseFloat(t.style[o])-this._xxoff<=this.rtlfunc("left",this._thisBccr,e)+1?(this.scrollDiv.scrollLeft-=10*(this._dir?-1*(i?-1:1):1),this._reqId=window.requestAnimationFrame(function(){this.horiScroll(t,e)}.bind(this))):(window.cancelAnimationFrame(this._reqId),delete this._prevent)},sortableMouseMove:function(t){if(this.flag&&void 0==this._timeout){var e,o=this.colHead.getBoundingClientRect(),i=document.createElement("div");i.classList.add("lyteTableSortHelper"),i.innerHTML=this.colHead.innerText,this._xxoff=e=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1);var l=window.pageYOffset||document.documentElement.scrollTop;i.style.height=o.height+"px",i.style.width=o.width+"px",i.style[this.rtlfunc.call(this,"left")]=e+this.rtlfunc.call(this,"left",o,this._ww)+"px",i.style.top=l+o.top+"px",this._timeout=setTimeout(function(){document.body.appendChild(i),this.flag=!1}.bind(this),100)}var a=document.querySelector("div.lyteTableSortHelper");if(a){var n=this._dir?"right":"left",r=window.innerWidth,s=Math.max(Math.min(this.rtlfunc.call(this,"clientX",t,this._ww)-this.offLeft,this.rtlfunc.call(this,"right",this._thisBccr,this._ww)-parseFloat(a.style.width)),this.rtlfunc.call(this,"left",this._thisBccr,this._ww));if(parseFloat(s)>this.rtlfunc("left",this._thisBccr,r)&&parseFloat(s)+parseFloat(a.style.width)<this.rtlfunc("right",this._thisBccr,r)&&(window.cancelAnimationFrame(this._reqId),delete this._prevent,delete this._scrollDir),this._prevent)return;a.style[n]=s+this._xxoff+"px",this._prevent=!0,this.horiScroll(a,r),this.getMethods("onDrag")&&this.executeMethod("onDrag",this.colHead,a,t,this.$node)}t.preventDefault(),t.stopPropagation()},sortableMouseup:function(t){if(this.flag)clearTimeout(this._timeout);else{var e=document.querySelector("div.lyteTableSortHelper"),o=e.getBoundingClientRect(),i=o.left+o.width/2+2,l=o.top+o.height/2,a=this.closestFind.call(this,document.elementsFromPoint?document.elementsFromPoint(i,l):this.elementsFromPointCal.call(this,i,l),"lyte-th:not(.lyteTableFixed)");if(a!=this.colHead&&a){var n,r=this.colHead.parentElement.querySelectorAll("lyte-th"),s=Array.prototype.indexOf.call(r,this.colHead),d=Array.prototype.indexOf.call(r,a),p=this.data.ltPropHeader;if(this.getMethods("onBeforeDrop")&&(n=this.executeMethod("onBeforeDrop",this.colHead,a,s,d,p,t,this.$node)),0!=n){if(p.length){var c=Lyte.arrayUtils(p,"removeAt",s),h=Array.prototype.indexOf.call(a.parentElement.querySelectorAll("lyte-th"),a);Lyte.arrayUtils(p,"insertAt",s<d?h+1:h,c);var u=a.parentElement.querySelectorAll("lyte-th",a.parentElement)[s<d?h+1:h];a.classList.contains("tableRowFixed")&&(u.classList.add("tableRowFixed"),u.style.top=a.style.top)}else{LyteComponent.insertBefore(d>s?a.nextElementSibling:a,this.colHead);for(var y=this.isIE11Lyte?this.nthoftype.call(this,s):this.$node.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(s+1)+")"),m=this.isIE11Lyte?this.nthoftype.call(this,d):this.$node.querySelectorAll("lyte-tbody lyte-td:nth-of-type("+(d+1)+")"),g=0;g<y.length;g++)LyteComponent.insertBefore(d>s?m[g].nextElementSibling:m[g],y[g])}this.getMethods("onDrop")&&this.executeMethod("onDrop",this.colHead,a,s,d,p,t,this.$node)}}document.body.removeChild(e)}document.documentElement.removeEventListener("mouseup",this.mouseup),document.documentElement.removeEventListener("mousemove",this.mousemove),this.colHead.classList.remove("sortSelect"),window.cancelAnimationFrame(this._reqId),delete this.mouseup,delete this._xxoff,delete this.mousemove,delete this.offLeft,delete this.colHead,delete this.flag,delete this._timeout,delete this._thisBccr,delete this._ww,delete this._reqId,delete this._prevent,delete this._scrollDir,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&i!=this.$node;)i.style.pointerEvents="none",o.push(i),i=document.elementFromPoint(t,e);for(var l=0;l<o.length;l++)o[l].style.pointerEvents="initial";return o},resizeComponentAppendObs:function(){this.data.ltPropYield&&this.resizeComponentAppend.call(this)}.observes("ltPropResize"),resizeComponentAppend:function(){var t=this.data.ltPropResize,e=this.$node.querySelector("lyte-table-structure"),o=this.$node.querySelector("lyte-table-structure > lyte-table-resize"),i=this.$node.querySelector("lyte-table-structure > lyte-table-vertical-resize"),l=this.$node.querySelector("lyte-table-structure > lyte-table-horizontal-resize");if(t.vertical||t.horizontal){if(!o){var a=document.createElement("lyte-table-resize");e.appendChild(a),a.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else o&&e.removeChild(o);if(t.vertical){if(!i){a=document.createElement("lyte-table-vertical-resize");e.appendChild(a),a.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else i&&e.removeChild(i);if(t.horizontal){if(!l){a=document.createElement("lyte-table-horizontal-resize");e.appendChild(a),a.addEventListener("mousedown",this.actions.tableResize.bind(this))}}else l&&e.removeChild(l)},data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeader:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropBorder:Lyte.attr("boolean",{default:!1}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"100%"}),ltPropResize:Lyte.attr("object",{default:{}}),ltPropFixedColumnClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropScroll:Lyte.attr("object",{default:{horizontal:!0,vertical:!0}}),ltPropColumnSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollbarOption:Lyte.attr("object",{default:{}}),ltPropDualResize:Lyte.attr("boolean",{default:!1}),ltPropData:Lyte.attr("array",{default:[]}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropCellHeight:Lyte.attr("string",{default:"20px"}),ltPropContentLength:Lyte.attr("number"),ltPropPreventScrollbar:Lyte.attr("boolean",{default:!1}),columns:Lyte.attr("array",{default:[]}),nonFixedColumn:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""}),secondaryData:Lyte.attr("array",{default:[]}),boundary:Lyte.attr("object",{default:{}}),rowHeights:Lyte.attr("array",{default:[]})}},actions:{tableResize:function(t){$L.fastdom.measure(function(){var e=t.target.parentElement;e.previousElementSibling;if(document.Component=this,this.resizeComponent=e,this.targetElem=t.target,(e.parentElement.querySelector("lyte-th:last-of-type")!=e||this.data.ltPropDualResize)&&"LYTE-TH"==e.tagName||"LYTE-TH"!=e.tagName){var o=window.innerWidth,i=e.getBoundingClientRect();if(e.offLeft=i.width+this.rtlfunc.call(this,"left",i,o),e.offTop=t.clientY,document.addEventListener("mouseup",this.mouseup),document.addEventListener("mousemove",this.resizeFunc),"LYTE-TH"==e.tagName){var l,a,n,r=this.$node.querySelectorAll("lyte-th"),s=[],d=e.nextElementSibling;$L.fastdom.measure(function(){for(var t=0;t<r.length;t++)r[t].style.width&&e!=r[t]?s.push(null):s.push(r[t].offsetWidth);this.data.ltPropDualResize&&(this.oriTab=this.$node.querySelector("lyte-table-structure"),l=this.oriTab.getBoundingClientRect().width),$L.fastdom.mutate(function(){e.classList.add("resizeSelect"),this.$node.classList.add("resizing");for(var t=0;t<r.length;t++)s[t]&&(r[t].style.width=s[t]+"px");d&&(a=d.style.width),n=e.style.width,$L.fastdom.measure(function(){d&&d.style.removeProperty("width"),this.minWidth.call(this,e,"minWidth1"),d&&(d.style.width=a),this.data.ltPropDualResize||(e.style.removeProperty("width"),this.minWidth.call(this,d,"minWidth2"),e.style.width=n),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&(this.oriTab.style.width=l+"px")}.bind(this))}.bind(this))}.bind(this))}.bind(this))}else{var p=this.$node.querySelector("lyte-table-structure");p.style.width=p.getBoundingClientRect().width+"px",this.$node.classList.add("tableResing")}}}.bind(this)),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}},minWidth:function(t,e){var o=window.getComputedStyle(t,null).getPropertyValue("min-width"),i=t.style.width;t.style.width="0px"==o?"50px":o,o=t.offsetWidth+"px",t.style.width=i,this.setData(e,o)},resetScrollbar:function(t){this.$node.classList.remove("tableResing"),$L.fastdom.measure(function(){var t=this.$node.getBoundingClientRect(),e=this.$node.querySelector("lyte-table-structure").getBoundingClientRect(),o=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),i=window.innerWidth;this.scrollDiv.resetScrollbar&&this.scrollDiv.classList.contains("eventBinded")&&this.scrollDiv.resetScrollbar(!0),$L.fastdom.mutate(function(){var l=this.rtlfunc.call(this,"right",t,i),a=this.rtlfunc.call(this,"right",e,i),n=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY:not(.left)"),r=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerX");n&&(l-a>0?n.style[this.rtlfunc.call(this,"right")]=l-a+o+"px":n.style.removeProperty("right")),r&&(l-a>0?r.style.width=e.width/t.width*100+"%":r.style.removeProperty("width"))}.bind(this))}.bind(this))},mouseup:function(t){var e=document.Component,o=e.resizeComponent;e.resetScrollbar.call(e,t),$L.fastdom.mutate(function(){o.classList.remove("resizeSelect"),e.$node.classList.remove("resizing"),document.removeEventListener("mouseup",e.mouseup),document.removeEventListener("mousemove",e.resizeFunc),delete document.Component,delete e.oriTab,e.getMethods("onResizeEnd")&&$L.fastdom.mutate(function(){e.executeMethod("onResizeEnd",o,e.$node)})}),t.stopPropagation()},resizeFunc:function(t){var e=document.Component,o=e.resizeComponent,i=e.rtlfunc.call(e,"clientX",t,window.innerWidth),l=e.data.ltPropResize,a=i-o.offLeft,n=parseInt(o.style.width);if((l.horizontal||"LYTE-TH"==o.tagName)&&a){var r=a+n;e.getData("tableWidth");if("LYTE-TH"==o.tagName){if(r>Math.ceil(parseFloat(e.getData("minWidth1")))){var s=o.nextElementSibling,d=s.getBoundingClientRect().width-a;!e.data.ltPropDualResize&&d>Math.ceil(parseFloat(e.getData("minWidth2")))?(s.style.width=d+"px",o.style.width=r+"px"):e.data.ltPropDualResize&&(e.oriTab.style.width=parseInt(e.oriTab.style.width)+a+"px",o.style.width=r+"px")}}else if("LYTE-TH"!=o.tagName&&("LYTE-TABLE-HORIZONTAL-RESIZE"==e.targetElem.tagName||"LYTE-TABLE-RESIZE"==e.targetElem.tagName)){var p=o.parentElement;"LYTE-YIELD"==p.tagName&&(p=p.parentElement),o.style.width=r+"px"}o.offLeft=i,delete o.width}!l.vertical||"LYTE-TH"==o.tagName||"LYTE-TABLE-VERTICAL-RESIZE"!=e.targetElem.tagName&&"LYTE-TABLE-RESIZE"!=e.targetElem.tagName||(o.style.height=t.clientY+o.getBoundingClientRect().height-o.offTop+"px",o.offTop=t.clientY),t.preventDefault(),t.stopPropagation()},arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},closestFind:function(t,e){for(var o=this.arrayFrom.call(this,document.querySelectorAll(e)),i=0;i<t.length;i++)if(-1!=Array.prototype.indexOf.call(o,t[i]))return t[i];return null}}),Lyte.createCustomElement("lyte-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,o){if("fixed"==t){for(var i=this;"DIV"!=i.tagName;)i=i.parentElement;"enable"==o?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn")}else if("resize"==t){var l;if("enable"==o)(l=document.createElement("lyte-tablehead-resize")).addEventListener("mousedown",this.resize),this.appendChild(l);else(l=this.querySelector("lyte-tablehead-resize"))&&this.removeChild(l)}else"icon"==t&&("disable"==o?this.classList.add("lytePreventIcon"):this.classList.remove("lytePreventIcon"))},resize:function(t){t.target.parentElement;for(var e=t.target;"LYTE-TABLE"!=e.tagName;)e=e.parentElement;e.component.actions.tableResize.call(e.component,t)}}),Lyte.Component.register("lyte-tabs",{_template:'<template tag-name="lyte-tabs">\n\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t<lyte-yield yield-name="tabYield"></lyte-yield>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropYield","ltPropHover","ltPropActiveClass","ltPropPosition","ltPropCloseIcon","prevTarget","ltPropHeight","ltPropType","ltPropMaxWidth","menuLabels"],init:function(){this.$node.addTab=function(t){this.component.constructTabs(this,t)},this.$node.deleteTab=function(t){this.component.deleteTabContent(t)},this.$node.openTab=function(t){this.component.openTabContent(t)}},data:function(){return{ltPropYield:Lyte.attr("boolean",{default:!0}),ltPropHover:Lyte.attr("string",{default:"lyteTabHover"}),ltPropActiveClass:Lyte.attr("string",{default:"lyteTabActive"}),ltPropPosition:Lyte.attr("object",{default:{pos:"top",align:"left"}}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),prevTarget:Lyte.attr("object",{default:null}),ltPropHeight:Lyte.attr("string",{default:"400px"}),ltPropType:Lyte.attr("string"),ltPropMaxWidth:Lyte.attr("string",{default:"90%"}),menuLabels:Lyte.attr("array",{default:[]})}},didConnect:function(){this.initialFunc()},initialFunc:function(){if(this.$node.childElementCount>1||"LYTE-TAB"===this.$node.children[0].tagName){this.$node.style.height=this.getData("ltPropHeight");var t=this.$node.querySelector("lyte-tab-head");t.classList.add("lyteTabNav"),"collapse"==this.getData("ltPropType")&&t.classList.add("lyteTabOverflowV");var e,o=this.getData("ltPropPosition"),i=this.getHeader(t.children),l=this.getContent(this.$node.querySelector("lyte-tab-body").children),a=this.getData("ltPropActiveClass");this.setPosition(o),this.getData("ltPropCloseIcon")&&this.createCloseIcon(this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"));t.addEventListener("click",function(t){this.showTab(t)}.bind(this),!0),t.addEventListener("mouseover",function(t){this.mouseOver(t)}.bind(this),!0),t.addEventListener("mouseout",function(t){this.mouseOut(t)}.bind(this),!0);for(var n=0;n<i.length;n++)i[n].classList.contains(a)&&(e=n);for(n=0;n<l.length;n++)e&&e===n?(this.executeOnBeforeOpen(i[e],i[e].getAttribute("lt-prop-id"),null),l[n].classList.add("lyteTabShow"),this.executeOnOpen(i[e],i[e].getAttribute("lt-prop-id"))):l[n].classList.add("lyteTabHide");e||(e=0,this.executeOnBeforeOpen(i[0],i[0].getAttribute("lt-prop-id"),null),i[0].classList.add(a),l[0].classList.remove("lyteTabHide"),l[0].classList.add("lyteTabShow"),this.executeOnOpen(i[0],i[0].getAttribute("lt-prop-id"))),this.setData("prevTarget",i[e]),$L.fastdom.measure(function(){if("auto"==this.getData("ltPropHeight"))"left"!==o.pos&&"right"!==o.pos||(this.$node.querySelector(".lyteTabNav").style.height="auto",this.$node.querySelector("lyte-tab-body").style.height="auto"),"top"!==o.pos&&"bottom"!==o.pos||(this.$node.querySelector("lyte-tab-body").style.height="auto"),this.makeAlignment(this.getData("ltPropPosition"));else{var t=window.getComputedStyle(this.$node),e=(t.borderTop?parseFloat(t.borderTop):0)+(t.borderBottom?parseFloat(t.borderBottom):0),i=this.$node.querySelector(".lyteTabNav").getBoundingClientRect().height,l=parseInt(t.height)-e;$L.fastdom.mutate(function(){"left"!==o.pos&&"right"!==o.pos||(this.$node.querySelector(".lyteTabNav").style.height=l+"px",this.$node.querySelector("lyte-tab-body").style.height=l+"px"),"top"!==o.pos&&"bottom"!==o.pos||(this.$node.querySelector("lyte-tab-body").style.height=l-i+"px"),this.makeAlignment(this.getData("ltPropPosition"))},this)}},this)}else console.error("No content detected")},onPositionChange:function(){var t=this.$node;t.className="";var e=t.querySelector("lyte-tab-head"),o=t.querySelector("lyte-tab-body"),i=t.querySelectorAll("lyte-tab-title");e.classList.remove("lyteTabAlignStart","lyteTabAlignEnd","lyteTabAlignCenter"),e.removeAttribute("style"),o.removeAttribute("style"),i[0].style.marginLeft="",i[0].style.marginTop="";for(var l=0;l<i.length;l++)i[l].style.float="";t=null,e=null,i=null,o=null,this.initialFunc()}.observes("ltPropPosition"),onHeightChange:function(){this.$node.style.height=this.getData("ltPropHeight"),this.setHeight(this.getData("ltPropPosition"))}.observes("ltPropHeight"),showTab:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)){var o=e.getAttribute("lt-prop-id");if(t.target.classList.contains("lyteTabCloseIcon")){if(this.deleteTabContent(o),this.makeAlignment(this.getData("ltPropPosition")),!(e=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title").length>0?this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title")[0]:null))return void this.setData("prevTarget",null);o=e.getAttribute("lt-prop-id")}this.openTabContent(e)}},mouseOver:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)){var o=this.getData("ltPropHover");$L(e).addClass(o)}},mouseOut:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)){var o=this.getData("ltPropHover");$L(e).removeClass(o)}},getContent:function(t){for(var e=[],o=0;o<t.length;o++)"LYTE-TAB-CONTENT"==t[o].tagName&&e.push(t[o]);return e},getHeader:function(t){for(var e=[],o=0;o<t.length;o++)"LYTE-TAB-TITLE"==t[o].tagName&&e.push(t[o]);return e},constructTabs:function(t,e){var o,i="",l="",a=!1,n=document.createElement("lyte-tab-title"),r=document.createElement("lyte-tab-content");"object"==typeof e&&"LYTE-TAB"===e.tagName?(i=e.getAttribute("lt-prop-title"),l=e.innerHTML,o=e.getAttribute("lt-prop-id")):(i=e.title,l=e.content,o=e.id,a=!0),o||(o=this.generateId(i)),n.innerHTML=i,r.innerHTML=l,n.setAttribute("lt-prop-id",o),r.id=o,r.classList.add("lyteTabHide"),t.querySelector("lyte-tab-head").append(n),t.querySelector("lyte-tab-body").append(r),a&&(this.getData("ltPropCloseIcon")&&this.createCloseIcon(new Array(n)),this.makeAlignment(this.getData("ltPropPosition")))},deleteTabContent:function(t){if(t)for(var e=this.$node.querySelector("#"+t),o=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),i=0;i<o.length;i++)if(o[i].getAttribute("lt-prop-id")===t){o[i].classList.contains("lyteTabCustomTitleWidth")&&!0,this.$node.querySelector("lyte-tab-head").removeChild(o[i]),e&&this.$node.querySelector("lyte-tab-body").removeChild(e);break}},openTabContent:function(t){if(t){if("string"==typeof t)for(var e=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),o=this.$node.querySelector("#"+t),i=0;i<e.length;i++)if(e[i].getAttribute("lt-prop-id")===t){if(!this.executeOnBeforeOpen(e[i],t,this.getData("prevTarget")?this.getData("prevTarget").getAttribute("lt-prop-id"):null))return;this.hideAll(),e[i].classList.add(this.getData("ltPropActiveClass")),o&&(o.classList.remove("lyteTabHide"),o.classList.add("lyteTabShow")),this.executeOnOpen(e[i],t),this.setData("prevTarget",e[i]);break}if("object"==typeof t){var l=t.getAttribute("lt-prop-id");o=this.$node.querySelector("#"+l);if(!this.executeOnBeforeOpen(t,l,this.getData("prevTarget")?this.getData("prevTarget").getAttribute("lt-prop-id"):null))return;this.hideAll(),t.classList.add(this.getData("ltPropActiveClass")),o&&(o.classList.remove("lyteTabHide"),o.classList.add("lyteTabShow")),this.executeOnOpen(t,l),this.setData("prevTarget",t)}}},createCloseIcon:function(t){for(var e=0;e<t.length;e++){var o=document.createElement("span");o.innerHTML=t[e].innerHTML,t[e].innerHTML="",t[e].appendChild(o);var i=document.createElement("span");i.classList.add("lyteTabCloseIcon"),t[e].appendChild(i)}},setPosition:function(t){switch(t.pos){case"left":this.$node.classList.add("lyteTabDefaultLeft");break;case"right":this.$node.classList.add("lyteTabDefaultRight");break;case"top":this.$node.classList.add("lyteTabDefaultTop");break;case"bottom":this.$node.classList.add("lyteTabDefaultBottom")}},setHeight:function(t){"auto"==this.getData("ltPropHeight")?("left"!==t.pos&&"right"!==t.pos||(this.$node.querySelector(".lyteTabNav").style.height="auto",this.$node.querySelector("lyte-tab-body").style.height="auto"),"top"!==t.pos&&"bottom"!==t.pos||(this.$node.querySelector("lyte-tab-body").style.height="auto"),this.makeAlignment(this.getData("ltPropPosition"))):$L.fastdom.measure(function(){var e=window.getComputedStyle(this.$node),o=(e.borderTop?parseFloat(e.borderTop):0)+(e.borderBottom?parseFloat(e.borderBottom):0),i=this.$node.querySelector(".lyteTabNav").getBoundingClientRect().height,l=parseInt(e.height)-o;$L.fastdom.mutate(function(){"left"!==t.pos&&"right"!==t.pos||(this.$node.querySelector(".lyteTabNav").style.height=l+"px",this.$node.querySelector("lyte-tab-body").style.height=l+"px"),"top"!==t.pos&&"bottom"!==t.pos||(this.$node.querySelector("lyte-tab-body").style.height=l-i+"px"),this.makeAlignment(this.getData("ltPropPosition"))},this)},this)},hideAll:function(){for(var t=this.getHeader(this.$node.querySelector("lyte-tab-head").children),e=this.getContent(this.$node.querySelector("lyte-tab-body").children),o=this.getData("ltPropActiveClass"),i=0;i<t.length;i++)t[i].classList.contains(o)&&t[i].classList.remove(o);for(var l=0;l<e.length;l++)e[l].classList.contains("lyteTabShow")&&(e[l].classList.remove("lyteTabShow"),e[l].classList.add("lyteTabHide")),e[l].classList.contains("lyteTabHide")||e[l].classList.add("lyteTabHide"),$L(e[l]).hasClass("lyteTabHide")||$L(e[l]).addClass("lyteTabHide")},customizeTitleTab:function(t){$L.fastdom.measure(function(){var e=this.$node.querySelector("lyte-tab-head"),o=this.getWidth(e,!1);if("top"===t||"bottom"===t){var i=0,l=0,a=e.querySelectorAll("lyte-tab-title");"collapse"==this.getData("ltPropType")&&$L.fastdom.measure(function(){for(var t=0;t<a.length;t++)i+=this.getWidth(a[t],!0,!0);i>o&&this.collapseHeader()},this)}if("afterDelete"===t){a=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),l=o/a.length;$L.fastdom.mutate(function(){for(var t=0;t<a.length;t++)a[t].style.width=l+"px"})}},this)},collapseHeader:function(t){var e=this.$node.querySelector(".lyteTabNav"),o=this.getWidth(e,!1),i=e.offsetHeight,l=-1!=this.getData("ltPropMaxWidth").indexOf("%")?parseInt(this.getData("ltPropMaxWidth"))*o/100:parseFloat(this.getData("ltPropMaxWidth")),a=e.querySelectorAll("lyte-tab-title"),n=0,r=-1,s=Array.from(a).findIndex(function(t){return t.classList.contains("lyteTabActive")}),d=[];if(t)for(var p=0;p<a.length;p++)a[p].classList.contains("lyteTabForceHide")&&a[p].classList.remove("lyteTabForceHide");n+=this.getWidth(a[s],!0,!0);for(p=0;p<a.length;p++)if(p!=s&&(n+=this.getWidth(a[p],!0,!0))>l){r=p;break}if(r>-1&&r<a.length){for(p=r;p<a.length;p++)p==s?s>0&&($L(a[p-1]).addClass("lyteTabForceHide"),d.push(a[p-1].textContent)):($L(a[p]).addClass("lyteTabForceHide"),d.push(a[p].textContent));if(!this.$node.querySelector("#lyteTabMenu")){var c=document.createElement("span");c.id="moreMenu";var h=this.createUniqueSlector();c.classList.add(h),c.appendChild(document.createElement("span")),this.$node.querySelector("lyte-tab-head").appendChild(c),this.createMenu(d,h,"init"),t||"bottom"===this.getData("ltPropPosition").pos&&(e.style.top=e.offsetTop+(Math.ceil(i/2)-1)+"px")}t&&(Lyte.arrayUtils(this.getData("menuLabels"),"removeAt",0,this.getData("menuLabels").length),Lyte.arrayUtils(this.getData("menuLabels"),"push",d))}else-1==r&&this.removeMenu()},createUniqueSlector:function(){for(var t=document.querySelectorAll("lyte-tabs"),e=0;e<t.length;e++)if(t[e].isEqualNode(this.$node))return"menuSel_"+e},createMenu:function(t,e,o){if("init"==o){var i=document.createElement("lyte-menu");i.id="lyteTabMenu",this.setData("menuLabels",t),i.ltProp({content:this.getData("menuLabels"),query:"."+e,event:"click",callout:!0}),i.setMethods({onMenuClick:function(t,e,o,i,l){for(var a,n=arguments[0],r=arguments[2].parentElement.component,s=arguments[3].parentElement.querySelectorAll("lyte-tab-title"),d=0;d<s.length;d++)if(s[d].textContent==n&&s[d].classList.contains("lyteTabForceHide")){a=s[d];break}a&&(a.classList.remove("lyteTabForceHide"),r.openTabContent(a.getAttribute("lt-prop-id")),LyteComponent.insertBefore(s[0],a),r.collapseHeader(!0)),r.getMethods("onMenuClick")&&r.executeMethod("onMenuClick",t,e,o,i,l,r,a)},onBeforeOpen:function(t,e,o){var i=t.parentElement.component;i.getMethods("onBeforeMenuOpen")&&i.executeMethod("onBeforeMenuOpen",t,e,o,i)},onOpen:function(t,e,o){var i=t.parentElement.component;i.getMethods("onMenuOpen")&&i.executeMethod("onMenuOpen",t,e,o,i)},onBeforeClose:function(t,e){var o=t.parentElement.component;o.getMethods("onBeforeMenuClose")&&o.executeMethod("onBeforeMenuClose",t,e,o)},onClose:function(t,e){var o=t.parentElement.component;o.getMethods("onMenuClose")&&o.executeMethod("onMenuClose",t,e,o)},beforeRender:function(t){var e=t.parentElement.component;e.getMethods("onBeforeMenuRender")&&e.executeMethod("onBeforeMenuRender",t,e)},afterRender:function(t){var e=t.parentElement.component;e.getMethods("onAfterMenuRender")&&e.executeMethod("onAfterMenuRender",t,e)}}),this.$node.appendChild(i)}},removeMenu:function(){var t=this.$node.querySelector("#lyteTabMenu");t&&(t.remove(),this.$node.querySelector("#moreMenu").remove()),this.setData("menuLabels",[])},onMenuLabelChange:function(){this.$node.querySelector("lyte-menu").ltProp({content:this.getData("menuLabels")})},makeAlignment:function(t){var e=this.$node.querySelector("lyte-tab-head");"left"!=t.align&&"top"!=t.align||e.classList.add("lyteTabAlignStart"),"right"!=t.align&&"bottom"!=t.align||("collapse"!=this.getData("ltPropType")||"top"!=t.pos&&"bottom"!=t.pos?e.classList.add("lyteTabAlignEnd"):e.classList.add("lyteTabRightCollapse")),"center"==t.align&&e.classList.add("lyteTabAlignCenter")},executeOnBeforeOpen:function(t,e,o){var i;return this.getMethods("onBeforeOpen")&&(i=this.executeMethod("onBeforeOpen",this.$node.querySelector("#"+e),this.$node.querySelector("#"+o),this,t,this.getData("prevTarget")?this.getData("prevTarget"):null)),void 0===i||i},executeOnOpen:function(t,e){this.getMethods("onOpen")&&this.executeMethod("onOpen",this.$node.querySelector("#"+e),this,t)},generateId:function(t){for(;-1!==t.indexOf(" ");)t=t.replace(" ","_");return t},getWidth:function(t,e,o){e=void 0==e||e;var i=getComputedStyle(t),l=parseInt(i.paddingLeft)+parseInt(i.paddingRight),a=0;return o&&(a=parseInt(i.marginLeft)+parseInt(i.marginRight)),parseFloat(i.width)+(e?0:-l)+a}}),Lyte.createCustomElement("lyte-tab-title",{static:{},connectedCallback:function(){var t=this.closest("lyte-tabs");t.checkTabsType?(clearTimeout(t.checkTabsType),t.checkTabsType=!1):this.closest("lyte-tab-head").classList.add("lyteTabVH"),t.checkTabsType=setTimeout(function(){t.checkTabsType=!1;for(var e=this.closest("lyte-tabs").component,o=this.parentElement,i=e.getWidth(o,!1),l=0,a=o.querySelectorAll("lyte-tab-title"),n=-1,r=0;r<a.length;r++)l+=e.getWidth(a[r],!0,!0),a[r].classList.contains(e.getData("ltPropActiveClass"))&&(n=r);l>i&&"collapse"==e.$node.ltProp("type")&&e.collapseHeader(),-1==n&&e.openTabContent(a[0]),this.closest("lyte-tab-head").classList.remove("lyteTabVH")}.bind(this),100)},disconnectedCallback:function(){var t=this.closest("lyte-tabs");t&&t.checkTabsType&&(clearTimeout(t.checkTabsType),t.checkTabsType=!1),this.closest("lyte-tab-head").classList.remove("lyteTabVH")}}),window.addEventListener("resize",function(){window._lyteUiUtils.tabResizeTriggered&&(clearTimeout(window._lyteUiUtils.tabResizeTriggered),window._lyteUiUtils.tabResizeTriggered=!1),window._lyteUiUtils.tabResizeTriggered=setTimeout(function(){for(var t=document.querySelectorAll("lyte-tabs"),e=0;e<t.length;e++)"collapse"==t[e].component.getData("ltPropType")&&t[e].component.collapseHeader(!0);window._lyteUiUtils.tabResizeTriggered=!1},100)}),Lyte.Component.register("lyte-tooltip",{_template:'<template tag-name="lyte-tooltip">\n   \n</template>',_dynamicNodes:[],_observedAttributes:["ltPropId","ltPropClass","ltPropKeepAlive","eventListeners"],init:function(){this._dir=_lyteUiUtils.getRTL(),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},data:function(){return{ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropKeepAlive:Lyte.attr("boolean",{default:!1}),eventListeners:Lyte.attr("object",{default:{}})}},didConnect:function(){var t=document.body.querySelectorAll("lyte-tooltip");if(this._clickHide=this.clickHide,t.length>1)for(var e=0;e<t.length;e++)t[e].getAttribute("lt-prop-class")||t[e].getAttribute("lt-prop-id")||t[e]==this.$node||t[e].parentElement.removeChild(t[e]);var o=this.mousemove.bind(this);this.setData("eventListeners.mousemove",o),document.addEventListener("mousemove",o,!0),window.addEventListener("scroll",this.tooltipScroll,!0),this._mousedown=this.mousedown.bind(this),this._mouseup=this.mouseup.bind(this),this._keydown=this.keydown.bind(this),document.addEventListener("keydown",this._keydown,!0),document.addEventListener("mousedown",this._mousedown,!0),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){var t="rtl"==window.getComputedStyle(this.$node).getPropertyValue("direction");$L.fastdom.mutate(function(){t&&(this.direction=!0)}.bind(this))}.bind(this))},tooltipScroll:function(t){for(var e=document.querySelectorAll("body span.lyteTooltip:not(.lyteTooltipHidden)"),o=0;o<e.length;o++)e[o].classList.add("lyteTooltipHidden")},mousedown:function(t){this._mousedownFlag=!0,(t.target.correspondingElement||t.target).classList.contains("lyteSliderHandler")&&(delete this.prevTooltipNode,this._slider=!0),this.closeAllTooltip(),document.addEventListener("mouseup",this._mouseup,!0)},mouseup:function(t){if(delete this._mousedownFlag,document.removeEventListener("mouseup",this._mouseup,!0),this._slider){delete this._slider;var e=t.target.correspondingElement||t.target;e.classList.contains("lyteSliderHandler")&&this.mousemove({target:e})}},keydown:function(t){delete this.prevTooltipNode,this.closeAllTooltip()},tooltipOpenCallback:function(t,e){t.onTooltipShow&&t.onTooltipShow.apply(this,arguments),this.getMethods("onTooltipShow")&&this.executeMethod("onTooltipShow",t,e,t.tooltip)},tooltipCloseCallback:function(t){t.onTooltipHide&&t.onTooltipHide.apply(this,arguments),this.getMethods("onTooltipHide")&&this.executeMethod("onTooltipHide",t)},didDestroy:function(){window.removeEventListener("scroll",this.tooltipScroll,!0),document.removeEventListener("mousemove",this.getData("eventListeners").mousemove,!0),document.removeEventListener("mousedown",this._mousedown,!0),document.removeEventListener("keydown",this._keydown,!0);for(var t=document.body.querySelectorAll("span.lyteTooltip"),e=0;e<t.length;e++)delete t[e].nodeName1.tooltipSpan,delete t[e].nodeName1.tooltip,document.body.removeChild(t[e])},propertySetting:function(t){if(e=t.getAttribute("lt-prop-tooltip-config")){var e=JSON.parse(e);for(var o in e)t.tooltip.config[o]=e[o]}},createTooltip:function(t,e,o){o?this.followcursor.call(this,t,e):this.nonFollowcursor.call(this,t,e),this.getData("ltPropKeepAlive")||1!=e.nodeName1.tooltip.config.keeptooltip&&"true"!=e.nodeName1.tooltip.config.keeptooltip&&(e.nodeName1.tooltip.maxdisp=setTimeout(function(){if(document.body.contains(e)){this.prevTooltipNode==e.nodeName1&&delete this.prevTooltipNode;var t=e.nodeName1;delete e.nodeName1.tooltipSpan,delete e.nodeName1.tooltip,document.body.removeChild(e),this.tooltipCloseCallback(t)}}.bind(this),e.nodeName1.tooltip.config.maxdisplaytime))},followcursor:function(t,e){if(document.body.contains(e)){e._callbackHandled||(this.tooltipOpenCallback(e.nodeName1,e),e._callbackHandled=!0);var o=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),i=window.pageYOffset||document.documentElement.scrollTop;e.style[this.rtlfunc.call(this,"left")]=this.rtlfunc.call(this,"clientX",t,window.innerWidth)+o+"px",e.style.top=t.clientY+i+5+Math.min(parseInt(e.nodeName1.tooltip.config.margin),20)+"px",e.classList.remove("lyteTooltipHidden")}},createsupp:function(t){var e=document.createElement("span");return e.classList.add("lyteTooltipInnerSpan"),t.classList.add("lyteInnerToolAdded"),t.appendChild(e)},rightalign:function(t,e,o,i,l,a,n,r,s,d,p,c,h){if(t+e<o+i.width)return l.classList.remove(s),a||this.nonFollowcursor(n,l,d,!0),!0;if(o<e){if(h)this.createsupp(l).style[r]=.75*c-p+"px";l.style[r]=0}else l.style[r]=o+"px"},nonFollowcursor:function(t,e,o,i){var l,a="callout"==e.nodeName1.tooltip.config.appearance;e.classList.remove("lyteTooltipHidden"),l=(o=o||e.nodeName1.tooltip.config.position)||"bottom",a&&e.classList.add("lyte"+l[0].toUpperCase()+l.slice(1)),e._callbackHandled||(this.tooltipOpenCallback(e.nodeName1,e),e._callbackHandled=!0),$L.fastdom.measure(function(){if(e.nodeName1.tooltip){var l,n=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),r=window.pageYOffset||document.documentElement.scrollTop,s=window.innerWidth,d=window.innerHeight,p=e.getBoundingClientRect(),c=e.nodeName1.getBoundingClientRect(),h=this.rtlfunc.call(this,"left",c,s)+n,u=c.top+r,y=Math.min(parseInt(e.nodeName1.tooltip.config.margin),20),m=e.offsetWidth,g=c.width,f=c.height,v=this.rtlfunc.call(this,"left");switch(a?(l=parseFloat(window.getComputedStyle(e,":before").getPropertyValue("width"))/2*1.414,!isNaN(l)&&l||(l=parseFloat(window.getComputedStyle(e,"left"==o?":before":":after").getPropertyValue("border-left-width")))):l=0,o.toLowerCase()){case"right":var D=(h+=l)+g+y+"px";e.style.top=u+f/2-e.offsetHeight/2+"px",s+n<parseInt(D)+p.width?(e.classList.remove("lyteRight"),i||this.nonFollowcursor.call(this,t,e,"left",!0)):e.style[v]=D;break;case"left":D=(h-=l)-y-m+"px";e.style.top=u+f/2-e.offsetHeight/2+"px",parseInt(D)<n?(e.classList.remove("lyteLeft"),i||this.nonFollowcursor.call(this,t,e,"right",!0)):e.style[v]=D;break;case"bottom":D=h+g/2-m/2;if(r+d<(b=(u+=l)+f+y)+p.height&&(e.classList.remove("lyteBottom"),!i)){this.nonFollowcursor.call(this,t,e,"top",!0);break}D=this.horicheck(D,n,s,p,e,c,v,l,a),e.style[v]=D+"px",e.style.top=b+"px";break;case"top":D=h+g/2-m/2;if((b=(u-=l)-y-e.clientHeight)<r&&(e.classList.remove("lyteTop"),!i)){this.nonFollowcursor.call(this,t,e,"bottom",!0);break}D=this.horicheck(D,n,s,p,e,c,v,l,a),e.style[v]=D+"px",e.style.top=b+"px";break;case"bottomright":D=h+.75*g-.2*m;var b=(u+=l)+f+y;if(this.rightalign(s,n,D,p,e,i,t,v,"lyteBottomright","bottomleft",l,g,a))break;if(d+r<b+p.height){e.classList.remove("lyteBottomright"),i||this.nonFollowcursor.call(this,t,e,"topright",!0);break}e.style.top=b+"px";break;case"topright":D=h+.75*g-.2*m,b=(u-=l)-e.clientHeight-y;if(this.rightalign(s,n,D,p,e,i,t,v,"lyteTopright","topleft",l,g,a))break;if(b<r){e.classList.remove("lyteTopright"),i||this.nonFollowcursor.call(this,t,e,"bottomright",!0);break}e.style.top=b+"px";break;case"bottomleft":D=h-.8*m+.25*g+"px",b=(u+=l)+f+y+"px";if(parseInt(D)<n){e.classList.remove("lyteBottomleft"),i||this.nonFollowcursor.call(this,t,e,"bottomright",!0);break}if(e.style[v]=D,d+r<parseInt(b)+p.height){e.classList.remove("lyteBottomleft"),i||this.nonFollowcursor.call(this,t,e,"topleft",!0);break}e.style.top=b;break;case"topleft":D=h-.8*m+.25*g+"px",b=(u-=l)-parseInt(e.clientHeight)-y+"px";if(parseInt(D)<n){e.classList.remove("lyteTopleft"),i||this.nonFollowcursor.call(this,t,e,"topright",!0);break}if(e.style[v]=D,parseInt(b)<r){e.classList.remove("lyteTopleft"),i||this.nonFollowcursor.call(this,t,e,"bottomleft",!0);break}e.style.top=b;break;default:var P=l;D=this.rtlfunc.call(this,"clientX",t,s)-m/2;if(d+r<(b=u+P+f+y)+p.height&&(e.classList.remove("lyteBottom"),!i)){this.nonFollowcursor.call(this,t,e,"top",!0);break}D=this.horicheck(D,n,s,p,e,c,v,l,a),e.style[v]=D+"px",e.style.top=b+"px"}e.style[this.rtlfunc("right")]="auto"}}.bind(this))},horicheck:function(t,e,o,i,l,a,n,r,s){var d,p;if(t<e?(t=e,d=!0):o+e<t+i.width&&(t=o-i.width+e,p=!0),(d||p)&&s){var c=this.createsupp(l),h=this.rtlfunc("left",a,o);c.style[n]=(d?Math.max((h+a.width)/2,h+a.width/2):i.width-Math.max((o-h)/2,o-h-a.width/2))+"px"}return t},closeAllTooltip:function(t){for(var e=document.body.querySelectorAll("span.lyteTooltip"),o=0;o<e.length;o++)e[o].nodeName1!=t&&document.body.contains(e[o])&&(e[o].nodeName1.tooltip.bodyTimeout=setTimeout(this.removeTooltip.bind(this),e[o].nodeName1.tooltip.config.hidedelay,e[o],event))},removeTooltip:function(t,e){if(document.body.contains(t)){clearTimeout(t.nodeName1.tooltip.disptime),clearTimeout(t.nodeName1.tooltip.maxdisp),clearTimeout(t.nodeName1.tooltip.settime),this.prevTooltipNode==t.nodeName1&&delete this.prevTooltipNode;var o=t.nodeName1;delete t.nodeName1.tooltipSpan,delete t.nodeName1.tooltip,document.body.removeChild(t),this.tooltipCloseCallback(o)}},mousemove:function(t){if(!this._mousedownFlag){for(var e=t.target.correspondingElement||t.target;e&&"BODY"!=e.tagName&&e!=document&&"HTML"!=e.tagName;){if(e.getAttribute&&e.getAttribute("lt-prop-title")){if(e.getAttribute("title")&&e.removeAttribute("title"),e.hasOwnProperty("tooltip")||(e.tooltip={}),e.tooltip.config={position:"",appearance:"callout",margin:0,showdelay:0,hidedelay:0,maxdisplaytime:5e3,keeptooltip:!1},e.tooltip.title=e.getAttribute("lt-prop-title"),this.propertySetting.call(this,e),this.prevTooltipNode==e||e.tooltip.tooltipSpan)if("followcursor"==e.tooltip.config.position&&this.prevTooltipNode==e&&e.tooltip.tooltipSpan){o=e.tooltip.tooltipSpan;clearTimeout(o.nodeName1.tooltip.maxdisp),clearTimeout(o.nodeName1.tooltip.settime),o._callbackHandled?this.followcursor.call(this,t,o):o.nodeName1.tooltip.settime=setTimeout(this.createTooltip.bind(this),o.nodeName1.tooltip.config.showdelay,t,o,!0)}else e.tooltip.tooltipSpan&&"none"==e.tooltip.tooltipSpan.style.display?(e.tooltip.tooltipSpan.style.display="",clearTimeout(e.tooltip.maxdisp),clearTimeout(e.tooltip.settime),clearTimeout(e.tooltip.bodyTimeout),e.tooltip.settime=setTimeout(this.createTooltip.bind(this),e.tooltip.config.showdelay,t,e.tooltip.tooltipSpan,"followcursor"==e.tooltip.config.position)):this.prevTooltipNode=e;else{this.prevTooltipNode=e;var o=document.createElement("span"),i=e.getAttribute("lt-prop-tooltip-class"),l=this.getData("ltPropId"),a=this.getData("ltPropClass");if(l&&o.setAttribute("id",l),a&&o.classList.add(a),o.classList.add("lyteTooltip"),this.direction&&o.classList.add("lyteRTL"),o.classList.add("lyteTooltipHidden"),e.getAttribute("lt-prop-tooltip-style")&&(o.setAttribute("style",e.getAttribute("lt-prop-tooltip-style")),o.style.borderColor||(o.style.borderColor=o.style.backgroundColor)),"callout"==e.tooltip.config.appearance&&o.classList.add("lyteTooltipCallout"),e.tooltip.tooltipSpan=o,o.nodeName1=e,i)for(var n=i.split(" "),r=0;r<n.length;r++)o.classList.add(n[r]);e.tooltip.settime=setTimeout(this.createTooltip.bind(this),o.nodeName1.tooltip.config.showdelay,t,o,"followcursor"==o.nodeName1.tooltip.config.position),o.textContent=o.nodeName1.tooltip.title,document.body.appendChild(o)}this.closeAllTooltip.call(this,e);break}e=e.parentNode}e&&-1!=["BODY","HTML"].indexOf(e.tagName)&&this.prevTooltipNode!=e&&(delete this.prevTooltipNode,this.closeAllTooltip.call(this))}}}),"complete"==document.readyState||"interactive"==document.readyState?document.body.querySelectorAll("lyte-tooltip").length||document.body.appendChild(document.createElement("lyte-tooltip")):document.addEventListener("DOMContentLoaded",function(t){document.body.querySelectorAll("lyte-tooltip").length||document.body.appendChild(document.createElement("lyte-tooltip"))}),Lyte.Component.register("lyte-tree",{_template:'<template tag-name="lyte-tree">\n  <template is="for" items="{{ltPropData}}" item="item" index="index">\n    <div class="lyteTreeBodyDiv">\n      <lyte-tree-body data-value="{{lyteUiTreeHelp(tempVar, index)}}">\n        <div class="mainContainer">\n        <lyte-yield collapsed="{{if(item.collapsed, \'collapsed\', \'\')}}" yield-name="content" list-value="{{item}}" list-index="{{lyteUiTreeHelp(tempVar, index)}}" class="{{lyteUiTreeChildHelp(item, \'noChildTree\')}}"></lyte-yield>\n          <template is="if" value="{{expHandlers(expHandlers(expHandlers(item.children.length,\'!==\',0),\'&amp;&amp;\',expHandlers(item.children,\'!==\',undefined)),\'&amp;&amp;\',expHandlers(item.collapsed,\'!\'))}}"><template case="true">\n            <template is="if" value="{{expHandlers(expHandlers(item.defaultState,\'!\'),\'||\',expHandlers(item.defaultState,\'===\',&quot;open&quot;))}}"><template case="true">\n              <lyte-tree class="lyteTreeOpened" temp-var="{{lyteUiTreeHelp(tempVar, index)}}" lt-prop-data="{{item.children}}" id="{{ltPropId}}" lt-prop-tree-lines="{{ltPropTreeLines}}" lt-prop-yield="{{ltPropYield}}" lt-prop-open-class="{{ltPropOpenClass}}" lt-prop-close-class="{{ltPropCloseClass}}" on-toggle="{{method(\'onToggle\')}}">\n                <template is="registerYield" yield-name="content" from-parent="">\n                 </template>\n              </lyte-tree>\n            </template><template case="false"><template is="if" value="{{expHandlers(item.defaultState,\'===\',&quot;close&quot;)}}"><template case="true">\n              <lyte-tree class="lyteTreeClosed" temp-var="{{lyteUiTreeHelp(tempVar, index)}}" lt-prop-data="{{item.children}}" id="{{ltPropId}}" lt-prop-tree-lines="{{ltPropTreeLines}}" lt-prop-yield="{{ltPropYield}}" lt-prop-open-class="{{ltPropOpenClass}}" lt-prop-close-class="{{ltPropCloseClass}}" on-toggle="{{method(\'onToggle\')}}">\n                <template is="registerYield" yield-name="content" from-parent="">\n                 </template>\n              </lyte-tree>\n            </template></template></template></template>\n         </template></template>\n        </div>\n      </lyte-tree-body>\n  </div>\n  </template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"insertYield",position:[1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}],_observedAttributes:["ltPropData","ltPropOpenClass","ltPropCloseClass","ltPropNochildClass","treeHeight","ltPropStateAttr","heightTransArr","tempVar"],data:function(){return{ltPropData:Lyte.attr("array",{default:[]}),ltPropOpenClass:Lyte.attr("string",{default:""}),ltPropCloseClass:Lyte.attr("string",{default:""}),ltPropNochildClass:Lyte.attr("string",{default:""}),treeHeight:Lyte.attr("number",{default:0}),ltPropStateAttr:Lyte.attr("string",{default:""}),heightTransArr:Lyte.attr("array",{default:[]}),tempVar:Lyte.attr("string",{default:""})}},openrecursive:function(t){if(t.length){var e=t[0];if(t.shift(),!e||e.classList.contains("lyteTreeOpened"))return void this.openrecursive(t);var o=e.parentElement.querySelector("lyte-tree-icon");clearTimeout(e._treetime),e.classList.remove("lyteTreeClosed"),e.classList.add("lyteTreeOpened"),o.classList.remove("lyteIconClosed"),o.classList.add("lyteIconOpened"),e.style.display="",e.style.height="auto",this.data.ltPropCloseClass&&o.classList.remove(this.data.ltPropCloseClass),this.data.ltPropOpenClass&&o.classList.add(this.data.ltPropOpenClass),e._treetime=setTimeout(this.heightcalc.bind(this,e,t),0)}},heightcalc:function(t,e){if(document.body.contains(t)){var o=t.getBoundingClientRect().height;t.style.height=0,0==o?this.transEnd(t,e):setTimeout(this.heightset.bind(this,t,e,o),20)}else this.openrecursive(e)},heightset:function(t,e,o){document.body.contains(t)?(t.style.height=o+"px",t._trn=this.transEnd.bind(this,t,e),t.addEventListener("transitionend",t._trn)):this.openrecursive(e)},transEnd:function(t,e){t.style.height="auto",t.removeEventListener("transitionend",t._trn),delete t._trn,this.openrecursive(e)},stateChange:function(t){if(t.newValue){for(var e=t.newValue,o=[],i=1;i<=e.length;i++)o.push(this.$node.querySelector("lyte-tree[temp-var='"+e.slice(0,i)+"']"));this.openrecursive(o),this.setData("ltPropStateAttr","")}}.observes("ltPropStateAttr"),didConnect:function(){},methods:{onToggle:function(){}}}),Lyte.createCustomElement("lyte-tree-icon",{connectedCallback:function(){var t=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;t.classList.contains("lyteTreeClosed")&&(t.style.display="none"),this.hasAttribute("lyte-custom-icon")||(this.innerHTML='<i class="arrow up"></i>')},constructor:function(){for(var t,e=this.parentElement;"LYTE-TREE"!==e.nodeName;)e=e.parentElement;"LYTE-TREE"===e.nodeName&&(e=e.component);var o=this,i=o,l=e.$node.previousElementSibling;void 0!=l&&"content"===l.getAttribute("yield-name")&&(i=l.querySelector("lyte-tree-icon")),e.$node.classList.contains("lyteTreeOpened")?(i.className=e.getData("ltPropOpenClass"),i.classList.add("lyteIconOpened")):(i.className=e.getData("ltPropCloseClass"),i.classList.add("lyteIconClosed")),0===this.classList.length&&(this.className=e.getData("ltPropCloseClass"),this.classList.add("lyteIconClosed")),this.addEventListener("click",function(l){var a,n;if(l.preventDefault(),a=n=this)for(;"LYTE-TREE-BODY"!==a.nodeName;)a=a.parentElement;if("LYTE-TREE-BODY"===a.nodeName){var r=a.querySelector("lyte-tree");if(r&&!r.classList.contains("treeTransRunning")){var s=r.component;function d(){r.classList.remove("lyteTreeOpened"),r.classList.add("lyteTreeClosed"),this.style.height="auto",n.style.pointerEvents="auto",r.style.display="none",o.className=e.getData("ltPropCloseClass"),i.classList.add("lyteIconClosed"),r.classList.remove("treeTransRunning"),this.removeEventListener("transitionend",d)}function p(){this.style.height=s.getData("treeHeight")+"px",this.style.height="auto",n.style.pointerEvents="auto",o.className=e.getData("ltPropOpenClass"),o.classList.add("lyteIconOpened"),r.classList.remove("treeTransRunning"),this.removeEventListener("transitionend",p)}if(r.classList.contains("lyteTreeOpened")){var c=r.getBoundingClientRect().height;r.style.height=c+"px",setTimeout(function(){r.getBoundingClientRect().height;r.style.height="0px",r.classList.add("treeTransRunning"),r.addEventListener("transitionend",d)},10)}else r.classList.remove("lyteTreeClosed"),r.classList.add("lyteTreeOpened"),r.style.display="",r.style.height="auto",s.setData("treeHeight",r.getBoundingClientRect().height),r.style.height="0px",setTimeout(function(){r.style.height=s.getData("treeHeight")+"px",r.classList.add("treeTransRunning"),r.addEventListener("transitionend",p)},30)}}var h=a.parentElement.parentElement;function u(){var t=h.component.getData("ltPropData"),e=a.getAttribute("data-value").split("");if(e.length<2){void 0!==(o=t[i=e[0]])&&Lyte.objectUtils(o,"add","collapsed",!1)}else{for(var o=t,i=1;i<e.length;i++)o=t[e[i]];Lyte.objectUtils(o,"add","collapsed",!1)}}h&&h.component.getMethods("onToggle")&&(t=h.component.executeMethod("onToggle",a,l,h)),void 0!==t?t&&t.then?Promise.resolve(t).then(function(t){u()},function(){}):t&&u():u()}.bind(this))},static:{observedAttributes:{}}}),Lyte.Component.register("lyte-text",{_template:"<template tag-name=\"lyte-text\" lt-prop-title=\"{{if(expHandlers(tooltip, '&amp;&amp;', ltPropShow), ltPropValue, '' )}}\" onmouseenter=\"{{action('mouse')}}\">{{ltPropValue}}</template>",_dynamicNodes:[{type:"text",position:[0]}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropValue","ltPropShow","tooltip"],data:function(){return{ltPropValue:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!0}),tooltip:Lyte.attr("boolean",{default:!1})}},reset:function(){var t=this.$node.scrollWidth,e=this.$node.offsetWidth;this.setData("tooltip",t>e)},actions:{mouse:function(){this.reset()}}}),Lyte.Component.register("lyte-wormhole",{_template:'<template tag-name="lyte-wormhole">\n\t<lyte-yield yield-name="lyte-content"></lyte-yield>\t\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropQuery"],data:function(){return{ltPropQuery:Lyte.attr("string")}},didConnectFunc:function(){var t,e=this.data.ltPropQuery?document.querySelector(this.data.ltPropQuery):document.body;e?(this.getMethods("onBeforeAppend")&&(t=this.executeMethod("onBeforeAppend",this.$node,e)),0!=t&&(LyteComponent.appendChild(e,this.$node),this.appended=!0,this.getMethods("onAppend")&&this.executeMethod("onAppend",this.$node,e))):console.error("Provide valid outlet to append")}.observes("ltPropQuery").on("didConnect")}),Lyte.Component.register("lyte-rating",{_template:'<template tag-name="lyte-rating" class="{{lyteUiAddClassRating(ltPropWrapperClass,ltPropReadOnly)}}">\n\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t<lyte-yield yield-name="rateIcon"></lyte-yield>\n\t</template><template case="false">\n\t\t<template is="for" items="{{countArray}}" item="item" index="index">\n\t\t<lyte-rate-icon class="{{ltPropEmptyIcon}}" data-lrc="{{item}}"></lyte-rate-icon>\n\t\t</template>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}]}},default:{}}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropValue","ltPropCount","ltPropWrapperClass","ltPropType","ltPropReadOnly","ltPropClearable","ltPropHalfIncrement","ltPropEmptyIcon","ltPropFullIcon","ltPropHalfIcon","ltPropHoverFullIcon","ltPropHoverHalfIcon","ltPropMultiple","ltPropYield","countArray","currentHover"],data:function(){return{ltPropValue:Lyte.attr("number",{default:0}),ltPropCount:Lyte.attr("number",{default:5}),ltPropWrapperClass:Lyte.attr("string"),ltPropType:Lyte.attr("string",{default:"star"}),ltPropReadOnly:Lyte.attr("boolean",{default:!1}),ltPropClearable:Lyte.attr("boolean",{default:!1}),ltPropHalfIncrement:Lyte.attr("boolean",{default:!1}),ltPropEmptyIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropFullIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHalfIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHoverFullIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHoverHalfIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropMultiple:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),countArray:Lyte.attr("array",{default:[]}),currentHover:Lyte.attr("number",{default:0})}},initFn:function(){if("star"===this.getData("ltPropType")&&("lyteDummyRC"==this.getData("ltPropEmptyIcon")&&this.setData("ltPropEmptyIcon","lyteRatingEmptyStar"),"lyteDummyRC"==this.getData("ltPropFullIcon")&&this.setData("ltPropFullIcon","lyteRatingFullStar"),"lyteDummyRC"==this.getData("ltPropHoverFullIcon")&&this.setData("ltPropHoverFullIcon","lyteRatingHoverFullStar"),this.getData("ltPropHalfIncrement")&&("lyteDummyRC"==this.getData("ltPropHalfIcon")&&this.setData("ltPropHalfIcon","lyteRatingHalfStar"),"lyteDummyRC"==this.getData("ltPropHoverHalfIcon")&&this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalfStar"))),"heart"===this.getData("ltPropType")&&("lyteDummyRC"==this.getData("ltPropEmptyIcon")&&this.setData("ltPropEmptyIcon","lyteRatingEmptyHeart"),"lyteDummyRC"==this.getData("ltPropFullIcon")&&this.setData("ltPropFullIcon","lyteRatingFullHeart"),"lyteDummyRC"==this.getData("ltPropHoverFullIcon")&&this.setData("ltPropHoverFullIcon","lyteRatingHoverFullHeart"),this.getData("ltPropHalfIncrement")&&("lyteDummyRC"==this.getData("ltPropHalfIcon")&&this.setData("ltPropHalfIcon","lyteRatingHalfHeart"),"lyteDummyRC"==this.getData("ltPropHoverHalfIcon")&&this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalfHeart"))),"toggle"===this.getData("ltPropType")&&("lyteDummyRC"==this.getData("ltPropEmptyIcon")&&this.setData("ltPropEmptyIcon","lyteRatingEmptyStar"),"lyteDummyRC"==this.getData("ltPropFullIcon")&&this.setData("ltPropFullIcon","lyteRatingFullStar"),this.setData("ltPropCount",1),this.setData("ltPropHalfIncrement",!1),this.setData("ltPropClearable",!0)),"switch"===this.getData("ltPropType")&&("lyteDummyRC"==this.getData("ltPropEmptyIcon")&&this.setData("ltPropEmptyIcon","lyteRatingEmptyStar"),"lyteDummyRC"==this.getData("ltPropFullIcon")&&this.setData("ltPropFullIcon","lyteRatingFullStar"),this.setData("ltPropCount",2),this.setData("ltPropHalfIncrement",!1),this.setData("ltPropClearable",!0)),this.getData("ltPropCount")!=this.getData("countArray").length){for(var t=[],e=1;e<=this.getData("ltPropCount");e++)t.push(e);this.setData("countArray",t)}}.observes("ltPropType","ltPropCount","ltPropHalfIncrement").on("init"),didConnectFn:function(){this.setRating(),this.rendered||(this.getMethods("onRender")&&this.executeMethod("onRender",this),this.getData("ltPropValue")>0&&(this.rated=!0),this.rendered=!0)}.observes("ltPropValue").on("didConnect"),setRating:function(){this.clearHoverClasses();var t=this.getData("ltPropValue"),e=this.$node.querySelectorAll(".lyteRated"),o=this.$node.querySelectorAll("lyte-rate-icon");if(t%1!=0){for(var i=0;i<Math.floor(t);i++)o[i].classList.add(this.getData("ltPropFullIcon"),"lyteRated");for(i=Math.floor(t);i<o.length;i++)o[i].classList.remove(this.getData("ltPropFullIcon"),this.getData("ltPropHalfIcon"),"lyteRated");o[Math.ceil(t)-1].classList.add(this.getData("ltPropHalfIcon"),"lyteRated")}else if(e.length>0&&this.getData("ltPropHalfIcon")&&e[e.length-1].classList.contains(this.getData("ltPropHalfIcon"))&&(e[e.length-1].classList.remove(this.getData("ltPropHalfIcon")),e[e.length-1].classList.add(this.getData("ltPropFullIcon"))),t<e.length)for(i=t;i<e.length;i++)e[i].classList.remove(this.getData("ltPropFullIcon"),"lyteRated"),this.getData("ltPropHalfIcon")&&e[i].classList.remove(this.getData("ltPropHalfIcon"));else if(t>e.length)for(i=e.length;i<t&&i<o.length;i++)o[i].classList.add(this.getData("ltPropFullIcon"),"lyteRated");this.getMethods("onClick")&&this.executeMethod("onClick",this.getData("ltPropValue"),this)},clearHoverClasses:function(){for(var t=this.$node.querySelectorAll(".lyteRatingHover"),e=0;e<t.length;e++)t[e].classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover")},getCurrentValue:function(t,e){var o=parseInt(e.getAttribute("data-lrc"));if(this.getData("ltPropHalfIncrement")){var i=e.getBoundingClientRect();t.clientX<=i.left+i.width/2&&(o=o-1+.5)}return o},onClick:function(t){if(this.getData("ltPropClearable"))if(this.rated&&this.getData("currentHover")==this.getData("ltPropValue"))this.setData("ltPropValue",0),this.rated=!1,this.setData("currentHover",0);else{var e=this.getCurrentValue(t,t.target.closest("lyte-rate-icon"));e!=this.getData("currentHover")&&this.setData("currentHover",e),this.setData("ltPropValue",this.getData("currentHover")),this.rated=!0}else this.setData("ltPropValue",this.getData("currentHover"))},onOver:function(t){var e=t.target,o=parseInt(e.getAttribute("data-lrc")),i=this.getData("currentHover"),l=this.$node.querySelectorAll("lyte-rate-icon"),a=i;if(this.getData("ltPropHalfIncrement")){i=Math.round(i);var n=e.getBoundingClientRect();if(o-1<i)for(var r=o-1;r<i;r++)l[r].classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover");else if(o-1>i)for(r=i;r<o-1;r++)l[r].classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");e.classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover"),t.clientX>n.left+n.width/2?(e.classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover"),this.setData("currentHover",o)):(e.classList.add(this.getData("ltPropHoverHalfIcon"),"lyteRatingHover"),this.setData("currentHover",o-1+.5))}else{if(o>i)for(r=i;r<o;r++)l[r].classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");else if(o<i)for(r=o;r<i;r++)l[r].classList.remove(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");this.setData("currentHover",o)}a!=this.getData("currentHover")&&this.getMethods("onHover")&&this.executeMethod("onHover",this.getData("currentHover"),this)},onOut:function(t){var e=t.target,o=this.$node.getBoundingClientRect();if(t.clientX<=o.left||t.clientX>=o.right||t.clientY<=o.top||t.clientY>=o.bottom){for(var i=this.$node.querySelectorAll(".lyteRatingHover"),l=0;l<i.length;l++)i[l].classList.remove(this.getData("ltPropHoverFullIcon"),"lyteRatingHover"),this.getData("ltPropHoverHalfIcon")&&i[l].classList.remove(this.getData("ltPropHoverHalfIcon"));this.setData("currentHover",0)}this.getMethods("onOut")&&this.executeMethod("onOut",parseInt(e.getAttribute("data-lrc")),this)}}),Lyte.createCustomElement("lyte-rate-icon",{static:{},connectedCallback:function(){var t=this.closest("lyte-rating").component;this.addEventListener("click",t.onClick.bind(t)),this.addEventListener("mousemove",t.onOver.bind(t)),this.addEventListener("mouseout",t.onOut.bind(t)),t.getData("ltPropYield")&&(t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=!1),t.timeoutId=setTimeout(function(){for(var t=this.closest("lyte-rating").querySelectorAll("lyte-rate-icon"),e=0;e<t.length;e++)t[e].setAttribute("data-lrc",e+1)}.bind(this),100))},disconnectedCallback:function(){}}),function(t){lyteDomObj&&(manageDraggable={init:!1,isRestricted:function(t,e){t=t instanceof Array?t:t.split(",");for(var o=0;o<t.length;o++)for(var i=document.querySelectorAll(t[o]),l=0;l<i.length;l++)if(e.isEqualNode(i[o]))return!0;return!1},destroy:function(t){if(t.classList.contains("draggable-element")||t.classList.contains("draggable-helper")){if(t.classList.contains("draggable-handle-element"))t.classList.remove("draggable-handle-element"),t.removeEventListener("mousedown",t._draggableData.__mousedown),t.removeEventListener("touchstart",t._draggableData.__mousedown,!0),t._draggableData=null;else for(var e=t.querySelectorAll(".draggable-handle-element"),o=0;o<e.length;o++)e[o].classList.remove("draggable-handle-element"),e[o].removeEventListener("mousedown",e[o]._draggableData.__mousedown),e[o].removeEventListener("touchstart",e[o]._draggableData.__mousedown,!0),e[o]._draggableData=null;t.classList.remove("draggable-element","draggable-helper"),t._mousedown=void 0}else console.info("ALERT! - U have already destroyed its draggable behaviour.")}},lyteDomObj.prototype.draggable=function(e){if(manageDraggable.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),manageDraggable.init=!0),"string"!=typeof e||"destroy"!==e){var o=e||{};if(this.length>1)for(O=this,H=0;H<O.length;H++)$L(O[H]).draggable(Object.assign({},o));else if(!o.restrict||!manageDraggable.isRestricted(o.restrict,this[0])){var i;o._element=this[0],$L(o._element).addClass("draggable-element");var l,a,n,r,s,d,p,c,h,u,y,m={},g=[0,0],f=0,v=0,D=!1;o.placeholder=o.placeholder?o.placeholder:"lyteDraggablePlaceholder",o.containment=void 0===o.containment?document:$L(o.containment)[0],o.orientation=void 0===o.orientation?"default":o.orientation,o.handle=void 0===o.handle?this[0]:o.handle,o.restrict=void 0===o.restrict?[]:o.restrict instanceof Array?o.restrict:o.restrict.split(","),o.helper=o.helper?o.helper:"original",o.connectToSortable=o.connectToSortable?o.connectToSortable:null,o.cursorAt=o.cursorAt,o.disabled=o.disabled?o.disabled:"lyteDraggableDisabledPlaceholder",o.appendTo=o.appendTo&&"parent"!=o.appendTo?$L(o.appendTo)[0]:"parent",o.bubbles=void 0===o.bubbles||o.bubbles,o.scrollDivX=o.scrollDivX?"string"==typeof o.scrollDivX?document.querySelector(o.scrollDivX):o.scrollDivX:void 0,o.scrollDivY=o.scrollDivY?"string"==typeof o.scrollDivY?document.querySelector(o.scrollDivY):o.scrollDivY:void 0;var b=function(e){for(var o=e.target;o&&o!=document;){if($L(o).hasClass("selected-element")){i=o;break}o=o.parentElement}if(i){var d=i._draggableData;if(d&&d._isDown){"mousemove"==e.type&&e.preventDefault();var m=d._element;g=d._offset,v=d._marginLeft,f=d._marginTop;var b=d.orientation,P=d._offParent,C=m.getBoundingClientRect(),S=P.getBoundingClientRect();if(u=d.scrollDivY&&d._isRelativeY?d.scrollDivY.scrollTop:0,d.scrollDivX&&d._isRelativeX?(y=d.scrollDivX.scrollLeft,_lyteUiUtils.getRTL()&&"chrome"==A()&&d._isRelativeX&&(y-=d._maxScrollWidth?d._maxScrollWidth:d.scrollDivX.scrollWidth-d.scrollDivX.offsetWidth)):y=0,d._isRelative&&(scrollLeftValue=y),d._isMoved)d._placeholder&&(l=d._placeholder),d._positionedPlceholder&&(D=d._positionedPlceholder);else{var _=t.getComputedStyle(m);_.borderTop&&parseFloat(_.borderTop),_.borderBottom&&parseFloat(_.borderBottom),_.borderLeft&&parseFloat(_.borderLeft),_.borderRight&&parseFloat(_.borderRight);if("string"==typeof d.helper){if("clone"==d.helper){var I=m.cloneNode(!0);LyteComponent.insertAfter(m,I),$L(m).removeClass("selected-element"),$L(I).hasClass("draggable-handle-element")||$L(I).addClass("draggable-handle-element"),I._draggableData=Object.assign({},d),(d=I._draggableData)._element=d.handle=I,i=I,(m=I).addEventListener("mousedown",Y),d.connectToSortable&&(d._prevTop=e.clientY)}}else(I=d.helper(m))&&(I._callee=m,$L(m).removeClass("selected-element"),$L(I).hasClass("draggable-handle-element")||$L(I).addClass("draggable-handle-element"),$L(I).hasClass("selected-element")||$L(I).addClass("selected-element"),$L(I).addClass("draggable-helper"),I._draggableData=Object.assign({},d),(d=I._draggableData)._element=d.handle=I,i=I,"parent"==d.appendTo?d._parent.appendChild(I):d.appendTo.appendChild(I),(m=I).addEventListener("mousedown",Y),d.connectToSortable&&(d._prevTop=e.clientY),S=(P=d._offParent=m.offsetParent).getBoundingClientRect());if("undefined"!=typeof managerDD&&(managerDD._current=m),(d=m._draggableData||i._draggableData).connectToSortable&&((l=m.cloneNode(!0))._callee=m,$L(l).removeClass("selected-element"),l.innerHTML="",$L(l).attr("id","lyteDraggableDummy"),$L(l).addClass(d.placeholder),l.style.boxSizing="border-box",l.style.width=C.width+"px",l.style.height=C.height+"px",l.style.padding="0px"),m.style.top=C.top-S.top-parseInt(f)+u+"px",m.style.left=C.left-S.left-parseInt(v)+y+"px",m.style.zIndex=2e5,"border-box"==_.boxSizing?(m.style.width=C.width+"px",m.style.height=C.height+"px"):(m.style.width=T(m)+"px",m.style.height=E(m)+"px"),m.style.position="absolute",d.onDragStart&&L(d,i,l,e),d.scrollDivY&&(c=d.scrollDivY.scrollHeight-d.scrollDivY.offsetHeight),d.scrollDivX&&(h=d.scrollDivX.scrollWidth-d.scrollDivX.offsetWidth,d._maxScrollWidth=h),d.cursorAt&&_lyteUiUtils.getRTL()){var F=d.cursorAt,q={};for(key in F)"left"==key?q.left=d._element.offsetWidth-F[key]:q[key]=F[key];d._preCursorAt=Object.assign({},d.cursorAt),d.cursorAt=q,g=d._offset=[d.cursorAt.left,d.cursorAt.top]}}"mousemove"==e.type?(p={x:e.clientX,y:e.clientY},d._mousePosition=p):"touchmove"==e.type&&(d.touchTarget=e.touches,d._mousePosition={x:e.touches[0].clientX,y:e.touches[0].clientY});var O=!0;if(d.onDrag&&(O=x(d,i,e)),O)if("vertical"===b)m.style.top=d._mousePosition.y-g[1]-S.top-parseInt(f)+u+"px";else if("horizontal"===b)m.style.left=d._mousePosition.x-g[0]-S.left-parseInt(v)+y+"px";else if("default"===b){if(m.style.left=d._mousePosition.x-g[0]-S.left-parseInt(v)+y+"px",m.style.top=d._mousePosition.y-g[1]-S.top-parseInt(f)+u+"px",C=m.getBoundingClientRect(),d.scrollDivY){var H=d.scrollDivY.getBoundingClientRect();C.left<=H.right&&C.right>=H.left&&(n=requestAnimationFrame(R.bind(this,d,d.scrollDivY,H,c,d._isRelativeY,p,g,S)),!0)}if(d.scrollDivX){H=d.scrollDivX.getBoundingClientRect();(C.left<=H.right||C.right>=H.left)&&(_requestId2=requestAnimationFrame(k.bind(this,d,H,h,p,g,S,d._isRelativeX)),_animationFrameFired2=!0)}if(d.connectToSortable){var V=$L(d.connectToSortable).length?$L(d.connectToSortable)[0]._sortableData:null;if(a=V.sortableElemClass,m.style.display="none",r=document.elementFromPoint(p.x,p.y),m.style.display="",manageSortable.isOver(e,d,!0),!r)return;(s=r.closest("."+a))?($L(r).hasClass("sortable-parent")&&M(r,d)&&N(r,p)&&B(r,p,m)?(LyteComponent.appendChild(r,l),l.style.display=""):(m.getBoundingClientRect().top<s.getBoundingClientRect().top?LyteComponent.insertBefore(s,l):m.getBoundingClientRect().bottom>s.getBoundingClientRect().bottom&&LyteComponent.insertAfter(s,l),l.style.display=""),D=!0):r&&$L(r).hasClass("sortable-parent")&&M(r,d)&&N(r,p)&&B(r,p,m)?(LyteComponent.appendChild(r,l),l.style.display="",D=!0):$(r)||$L(r).hasClass("sortable-parent")&&M(r,d)||(document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").style.display="none"),D=!1),D&&(!d.onPlaceholder||w(d,l)?($L(l).hasClass(d.disabled)&&$L(l).removeClass(d.disabled),$L(l).addClass(d.placeholder)):($L(l).hasClass(d.placeholder)&&$L(l).removeClass(d.placeholder),$L(l).addClass(d.disabled))),d._placeholder=l,d._positionedPlceholder=D}}"undefined"!=typeof managerDD&&managerDD._drag(e),d._isMoved=!0}}},P=function(t){for(var e=t.target;e&&e!=document;){if($L(e).hasClass("selected-element")){i=e;break}e=e.parentElement}if("mouseup"==t.type&&(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",P)),"touchend"==t.type&&(document.removeEventListener("touchmove",b,!0),document.removeEventListener("touchend",P,!0),h._element.classList.contains("stopDefaultMove")&&h._element.classList.remove("stopDefaultMove")),i){if((h=i._draggableData).cursorAt&&_lyteUiUtils.getRTL()&&(h.cursorAt=Object.assign({},h._preCursorAt),h._preCursorAt=void 0),h.connectToSortable&&manageSortable.prevSortable&&(manageSortable.prevSortable=!1),l=h._placeholder,h&&h._isDown){h._isDown=!1;var o=h._element;if(h._isMoved){var a=!1;h._isMoved=!1,m=h._initialPos,f=parseInt(h._marginTop),v=parseInt(h._marginLeft);var n=!0;if(h.onBeforeStop&&(n=S(h,t)),n){if(h.connectToSortable&&h._positionedPlceholder){var r=I(l)?I(l):F(l),s=r?r._sortableData:l.parentElement._sortableData;LyteComponent.replaceWith(l,o),l=null,o._sortableData=s,o.removeEventListener("mousedown",Y),q(o),a=!0}}else{if("original"!=h.helper)return o.remove(),void(document.getElementById("lyteDraggableDummy")&&l.remove());"absolute"===m.pos?(o.style.left=m.x+"px",o.style.top=m.y+"px"):(o.style.left="",o.style.top="",o.style.position="")}if("undefined"!=typeof managerDD&&(managerDD._drop(t),managerDD._current=null),h.onStop&&(n=_(h,t)),!n){if("original"!=h.helper&&!a)return o.remove(),void(document.getElementById("lyteDraggableDummy")&&l.remove());"absolute"===m.pos?(o.style.left=m.x+"px",o.style.top=m.y+"px"):(o.style.left="",o.style.top="",o.style.position="")}}o.style.zIndex="",$L(i).removeClass("selected-element")}h.touchTarget=null,i=null,document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").remove(),l&&(l=null))}for(var d=t.target.ownerDocument.querySelectorAll(".selected-element"),p=t.target.ownerDocument.querySelectorAll(".lyteDraggableDummy"),c=0;c<d.length;c++){var h;(h=(o=d[c])._draggableData).cursorAt&&h._preCursorAt&&_lyteUiUtils.getRTL()&&(h.cursorAt=Object.assign({},h._preCursorAt),h._preCursorAt=void 0),h._placeholder&&(h._placeholder=null,h._positionedPlceholder=!1),h._isDown=!1,h._isMoved=!1,$L(o).removeClass("selected-element"),$L(o).removeClass("stopDefaultMove")}for(c=0;c<p;c++)p[c].remove()},C=function(t,e){t.onStart(t._element,e)},L=function(t,e,o,i){t.onDragStart(t._element,e,o,i)},x=function(t,e,o){return void 0==(d=t.onDrag(t._element,e,o))||d},S=function(t,e){return void 0==(d=t.onBeforeStop(t._element,t._placeholder,t._positionedPlceholder?t._placeholder.parentElement:null,e))||d},w=function(t,e){var o=t.onPlaceholder(t._element,e,t._element.parentElement,e?e.parentElement:null);return void 0==o||o},_=function(t,e){return t._element.style.display="none","mouseup"==e.type?r=document.elementFromPoint(e.clientX,e.clientY):"touchend"==e.type&&(r=document.elementFromPoint(t.touchTarget[0].clientX,t.touchTarget[0].clientY)),t._element.style.display="",void 0===(d=t.onStop(t._element,t._positionedPlceholder?t._element.parentElement:null,r,e))||d};o.__mousedown=Y,o.__mousemove=b,o.__mouseup=P,o._element._mousedown||("string"!=typeof o.handle&&o.handle.length?o.handle.forEach(function(t){ele=$L(t,o._element)[0],ele._draggableData=o,$L(ele).addClass("draggable-handle-element"),ele.addEventListener("mousedown",o.__mousedown),ele.addEventListener("touchstart",o.__mousedown,!0)}):(o.handle._draggableData=o,$L(o.handle).addClass("draggable-handle-element"),o.handle.addEventListener("mousedown",o.__mousedown),o.handle.addEventListener("touchstart",o.__mousedown,!0)),o._element._mousedown=!0),o.onReady&&function(t){t.onReady(t._element)}(o);var M=function(t,e){return!!t.matches(e.connectToSortable)},E=function(t){var e=getComputedStyle(t),o=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return elementHeight=t.offsetHeight-o-i,elementHeight},T=function(t){var e=getComputedStyle(t),o=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);return elementWidth=t.offsetWidth-o-i,elementWidth},R=function(t,e,o,i,l,a,r,s){var d=t._element.getBoundingClientRect(),p=e.scrollTop;if(console.log("Scroll Y getting called",i,"    scrollTop",p),d.top-parseInt(t._marginTop)<=o.top&&p>0)l&&(t._element.style.top=a.y-r[1]-s.top-(i-p>=10?10:i-p)+p+"px"),e.scrollTop-=10;else{if(!(d.bottom>=o.bottom-3&&p<i))return cancelAnimationFrame(n),!1,void(n=null);i-p>10?(l&&(t._element.style.top=a.y-r[1]-s.top+10+p+"px"),e.scrollTop+=10):(l&&(t._element.style.top=a.y-r[1]-s.top+i-p+p+"px"),e.scrollTop+=i-p)}n=requestAnimationFrame(R.bind(this,t,e,o,i,l,a,r,s))},k=function(t,e,o,i,l,a,n){var r=t._element.getBoundingClientRect();if(y=t.scrollDivX.scrollLeft,console.log("Scroll X getting called",o,"   scrollleft",y),!_lyteUiUtils.getRTL()||_lyteUiUtils.getRTL()&&"chrome"==A()&&!n)if(r.right>=e.right-2&&y<o)o-y>=5?(t.scrollDivX.scrollLeft+=5,n&&(t._element.style.left=i.x-l[0]-a.left+5+y+"px")):(t.scrollDivX.scrollLeft+=5-(o-y),n&&(t._element.style.left=i.x-l[0]-a.left+(5-(o-y))+y+"px"));else{if(!(r.left<=e.left+2&&y>0))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-l[0]-a.left-(o-y>5?5:5-(o-y))+y+"px"),t.scrollDivX.scrollLeft-=5}else if("chrome"==A()&&n)if(r.right>=e.right&&y<o)o-y>=5?(t.scrollDivX.scrollLeft+=5,n&&(t._element.style.left=i.x-l[0]-a.left+5+(y-o)+"px")):(t.scrollDivX.scrollLeft+=5-(o-y),n&&(t._element.style.left=i.x-l[0]-a.left+(5-(o-y))+y+"px"));else{if(!(r.left<=e.left&&y>0))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-l[0]-a.left-(o-y+5)+"px"),t.scrollDivX.scrollLeft-=5}else if("firefox"==A()||"safari"==A())if(r.right>=e.right&&y<0)o+y>=5?(t.scrollDivX.scrollLeft+=5,n&&(t._element.style.left=i.x-l[0]-a.left+5+y+"px")):(t.scrollDivX.scrollLeft+=5-(o+y),n&&(t._element.style.left=i.x-l[0]-a.left+(5-(o+y))+y+"px"));else{if(!(r.left<=e.left&&y>-o))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-l[0]-a.left+(y-5)+"px"),t.scrollDivX.scrollLeft-=5}else if("ie"==A()||"edge"==A())if(r.right>=e.right&&y>0)t.scrollDivX.scrollLeft-=y>=5?5:y;else{if(!(r.left<=e.left&&y<o))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-l[0]-a.left-y-5+"px"),t.scrollDivX.scrollLeft+=5}_requestId2=requestAnimationFrame(k.bind(this,t,e,o,i,l,a,n))},A=function(){return navigator.userAgent.search("rv:11")>=0?"ie":navigator.userAgent.search("Edge")>=0?"edge":navigator.userAgent.search("Chrome")>=0?"chrome":navigator.userAgent.search("Firefox")>=0?"firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?"safari":void 0},N=function(e,o){var i=t.getComputedStyle(e),l=e.getBoundingClientRect();return o.x>l.left+parseFloat(i.paddingLeft||0)&&o.x<l.right-parseFloat(i.paddingRight||0)&&o.y>l.top+parseFloat(i.paddingTop||0)&&o.y<l.bottom-parseFloat(i.paddingBottom||0)},B=function(t,e,o){for(var i=t.children,l=0,a=[],n=0;n<i.length;n++)"TEMPLATE"!=i[n].tagName&&"dummy"!=i[n].id?a.push(i[n]):l++;return l==i.length||o.getBoundingClientRect().top>a[a.length-1].getBoundingClientRect().bottom},I=function(t){for(;t.previousElementSibling;)if("TEMPLATE"!=(t=t.previousElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},F=function(t){for(;t.nextElementSibling;)if("TEMPLATE"!=(t=t.nextElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},q=function(t){t.style.left="",t.style.top="",t.style.zIndex="",t.style.position="",$L(t).addClass("sortable-element "+t._sortableData.sortableElemClass),t.classList.remove("draggable-handle-element","draggable-element")},$=function(t){for(;t;){if(t.id&&"lyteDraggableDummy"===t.id)return!0;t=t.parentElement}return!1};return this}}else if(this.length>1)for(var O=this,H=0;H<O.length;H++)manageDraggable.destroy(O[H]);else manageDraggable.destroy(this[0]);function Y(e){if(3!=e.which){var o=e.target.closest(".draggable-handle-element");if(o){o._draggableData.bubbles||e.stopPropagation();var i=o._draggableData,l=i._element,a=l.getBoundingClientRect(),n=t.getComputedStyle(l);a.width,a.height;i._offParent=l.offsetParent,i._parent=l.parentElement,i.onStart&&C(i,e),m={x:l.offsetLeft,y:l.offsetTop,pos:$L(l).css("position")},i.cursorAt?g=[i.cursorAt.left,i.cursorAt.top]:"mousedown"==e.type?g=[e.clientX-a.left,e.clientY-a.top]:"touchstart"==e.type&&(g=[e.touches[0].clientX-a.left,e.touches[0].clientY-a.top]),"touchstart"==e.type&&(document.addEventListener("touchmove",b,!0),document.addEventListener("touchend",P,!0),i._element.classList.add("stopDefaultMove")),n.marginTop&&(f=n.marginTop),n.marginLeft&&(v=n.marginLeft),i.scrollDivY&&"relative"==t.getComputedStyle(i.scrollDivY).position?i._isRelativeY=!0:i._isRelativeY=!1,i.scrollDivX&&"relative"==t.getComputedStyle(i.scrollDivX).position?i._isRelativeX=!0:i._isRelativeX=!1,i._isDown=!0,i._initialPos=m,i._offset=g,i._marginLeft=v,i._marginTop=f,$L(o).addClass("selected-element"),"undefined"!=typeof managerDD&&(managerDD._current=i._element),"mousedown"==e.type&&(t.navigator.platform.indexOf("Win")>-1&&null!==t.chrome&&void 0!==t.chrome&&"Google Inc."===t.navigator.vendor&&void 0===t.opr&&-1==t.navigator.userAgent.indexOf("Edge")?setTimeout(function(){document.addEventListener("mousemove",b),document.addEventListener("mouseup",P)},16):(document.addEventListener("mousemove",b),document.addEventListener("mouseup",P)))}else o=null}}})}(window),lyteDomObj&&(lyteDomObj.prototype.cropper=function(t){var e,o,i,l,a,n,r,s,d,p,c,h,u,y,m,g,f,v,D,b,P,C,L,x,S,w,_,M,E,T,R,k,A,N,B,I,F,q,$,O=this[0],H=1,Y=this[0].parentElement,V={};if(""!==t&&void 0!==t?(o=t.cropMove?t.cropMove:function(){},t.cropStart?(i=t.cropStart,console.log(t.cropStart)):i=function(){},l=t.cropEnd?t.cropEnd:function(){},a=t.imageMove?t.imageMove:function(){},n=t.imageZoom?t.imageZoom:function(){},r=t.imageRotate?t.imageRotate:function(){}):(o=function(){},i=function(){},l=function(){},a=function(){},n=function(){},r=function(){}),s=""===t||void 0===t?"1:1":t.aspectRatio,O.parentElement.getBoundingClientRect(),0!==Y.querySelectorAll(".lyteCropArea").length){var U=Y.querySelectorAll(".lyteCropArea")[0];Y.removeChild(U),O.style.display="block",e=O.getBoundingClientRect(),O.style.display="none",W()}function W(){H=O.naturalWidth/O.naturalHeight,function(){B=O.parentElement,d=document.createElement("DIV"),y=document.createElement("DIV"),S=document.createElement("IMG"),p=document.createElement("DIV"),c=document.createElement("DIV"),w=document.createElement("IMG"),h=document.createElement("DIV"),u=document.createElement("DIV"),E=document.createElement("SPAN"),T=document.createElement("SPAN"),R=document.createElement("SPAN"),k=document.createElement("SPAN"),A=document.createElement("SPAN"),N=document.createElement("SPAN"),g=document.createElement("DIV"),I=document.createElement("SPAN"),f=document.createElement("DIV"),F=document.createElement("SPAN"),D=document.createElement("DIV"),q=document.createElement("SPAN"),v=document.createElement("DIV"),$=document.createElement("SPAN"),P=document.createElement("DIV"),b=document.createElement("DIV"),L=document.createElement("DIV"),C=document.createElement("DIV"),x=document.createElement("DIV"),_=document.createElement("IMG"),m=document.createElement("DIV"),M=document.createElement("IMG"),B.appendChild(d),y.appendChild(m),m.appendChild(M),d.appendChild(p),p.appendChild(c),c.appendChild(w),p.appendChild(h),p.appendChild(u),u.appendChild(E),u.appendChild(T),u.appendChild(R),u.appendChild(k),u.appendChild(A),u.appendChild(N),u.appendChild(g),g.appendChild(I),u.appendChild(f),f.appendChild(F),u.appendChild(v),v.appendChild($),u.appendChild(D),D.appendChild(q),u.appendChild(P),u.appendChild(C),u.appendChild(b),u.appendChild(L),u.appendChild(x),x.appendChild(_),d.setAttribute("class","lyteCropArea"),y.setAttribute("class","lyteCropDisplayArea"),m.setAttribute("class","lyteCropDisplayImageDiv"),M.setAttribute("class","lyteCropDisplayImage"),S.setAttribute("class","lyteCropMainImage"),p.setAttribute("class","lyteCropBox"),c.setAttribute("class","lyteCropFixedDiv"),w.setAttribute("class","lyteCropFixedImage"),h.setAttribute("class","lyteCropOpacityDiv"),u.setAttribute("class","lyteCropCropper"),E.setAttribute("class","lytecropVerGrid1"),T.setAttribute("class","lytecropVerGrid2"),R.setAttribute("class","lytecropVerGrid3"),k.setAttribute("class","lytecropHorGrid1"),A.setAttribute("class","lytecropHorGrid2"),N.setAttribute("class","lytecropHorGrid3"),g.setAttribute("class","lyteCropTopEdge"),I.setAttribute("class","lyteCropTopSpan"),f.setAttribute("class","lyteCropBottomEdge"),F.setAttribute("class","lyteCropBottomSpan"),D.setAttribute("class","lyteCropLeftEdge"),q.setAttribute("class","lyteCropLeftSpan"),v.setAttribute("class","lyteCropRightEdge"),$.setAttribute("class","lyteCropRightSpan"),P.setAttribute("class","lyteCropTopRightCorner"),b.setAttribute("class","lyteCropTopLeftCorner"),C.setAttribute("class","lyteCropBottomRightCorner"),L.setAttribute("class","lyteCropBottomLeftCorner"),x.setAttribute("class","lyteCropDivImage"),_.setAttribute("class","lyteCropDivImageImg");var t,U,W,z,j,X=e.height,G=e.width;function K(t,o,i,l,a){var n=w.style.transform.match(/-?\d+/g)[0],r=parseInt(n),s=r;90===(r=Math.abs(r))||270===r?(e.height<e.width?(w.style.width=_.style.width=Y.getBoundingClientRect().height+"px",w.style.height=_.style.height="auto",d.style.height=Y.getBoundingClientRect().height+"px",d.style.top="0px",d.style.width=w.getBoundingClientRect().width+"px",d.style.left=(Y.getBoundingClientRect().width-d.getBoundingClientRect().width)/2+"px"):e.height>e.width&&(w.style.width=_.style.width="auto",w.style.height=_.style.height=Y.getBoundingClientRect().width+"px",d.style.width=Y.getBoundingClientRect().width+"px",d.style.left="0px",d.style.height=w.getBoundingClientRect().height+"px",d.style.top=(Y.getBoundingClientRect().height-d.getBoundingClientRect().height)/2+"px"),w.style.left=d.getBoundingClientRect().left-w.getBoundingClientRect().left+"px",w.style.top=d.getBoundingClientRect().top-w.getBoundingClientRect().top+"px",u.style.width=t.height*d.getBoundingClientRect().width/o.height+"px",u.style.height=t.width*d.getBoundingClientRect().height/o.width+"px",-90!==s&&-270!==s||(u.style.left=(t.top-o.top)*d.getBoundingClientRect().width/o.height+"px",u.style.top=d.getBoundingClientRect().height-((t.left-o.left)*d.getBoundingClientRect().height/o.width+u.getBoundingClientRect().height)+"px"),90!==s&&270!==s||(u.style.top=(t.left-o.left)*d.getBoundingClientRect().height/o.width+"px",u.style.left=d.getBoundingClientRect().width-(u.getBoundingClientRect().width+(t.top-o.top)*d.getBoundingClientRect().width/o.height)+"px")):(e.height<e.width?(w.style.width=_.style.width=Y.getBoundingClientRect().width+"px",w.style.height=_.style.height="auto",d.style.width=Y.getBoundingClientRect().width+"px",d.style.left="0px",d.style.height=w.getBoundingClientRect().height+"px",d.style.top=(Y.getBoundingClientRect().height-d.getBoundingClientRect().height)/2+"px"):(w.style.width=_.style.width="auto",w.style.height=_.style.height=Y.getBoundingClientRect().height+"px",d.style.height=Y.getBoundingClientRect().height+"px",d.style.top="0px",d.style.width=w.getBoundingClientRect().width+"px",d.style.left=(Y.getBoundingClientRect().width-d.getBoundingClientRect().width)/2+"px"),w.style.top=(p.getBoundingClientRect().height-w.getBoundingClientRect().height)/2+"px",w.style.left=(h.getBoundingClientRect().width-w.getBoundingClientRect().width)/2+"px",u.style.width=t.height*d.getBoundingClientRect().width/o.height+"px",u.style.height=t.width*d.getBoundingClientRect().height/o.width+"px",-180===s&&(u.style.top=d.getBoundingClientRect().height-((t.left-o.left)*d.getBoundingClientRect().height/o.width+u.getBoundingClientRect().height)+"px",u.style.left=(t.top-o.top)*d.getBoundingClientRect().width/o.height+"px"),0!==s&&180!==s||(u.style.top=(t.left-o.left)*d.getBoundingClientRect().height/o.width+"px",u.style.left=d.getBoundingClientRect().width-(u.getBoundingClientRect().width+(t.top-o.top)*d.getBoundingClientRect().width/o.height)+"px"));var c=w.style.transform;w.style.transform="rotate(0deg)",_.style.left=w.getBoundingClientRect().left-u.getBoundingClientRect().left+"px",_.style.top=w.getBoundingClientRect().top-u.getBoundingClientRect().top+"px",w.style.transform=c}function Q(){var e=document.getElementsByClassName("lyteCropCropper")[0],i=document.getElementsByClassName("lyteCropFixedImage")[0],l=document.getElementsByClassName("lyteCropDivImageImg")[0];V.cropperDim=e.getBoundingClientRect(),V.imageDim=l.getBoundingClientRect(),V.imageSource=O.src,V.displayImage=l,V.aspectRatio=s,V.resetCropper=function(){X<G?i.style.width=l.style.width=Y.getBoundingClientRect().width+"px":X>G?i.style.height=l.style.height=Y.getBoundingClientRect().height+"px":X===G&&(i.style.height=l.style.height=Y.getBoundingClientRect().height+"px"),i.style.transform=l.style.transform="",V.angle=0,i.style.top=(p.getBoundingClientRect().height-i.getBoundingClientRect().height)/2+"px",i.style.left=(h.getBoundingClientRect().width-i.getBoundingClientRect().width)/2+"px",e.style.height=t+"px",e.style.width=U+"px";var o=h.getBoundingClientRect(),a=e.getBoundingClientRect();e.style.top=(o.height-a.height)/2+"px",e.style.left=(o.width-a.width)/2+"px";var n=i.getBoundingClientRect();a=e.getBoundingClientRect(),l.style.left=n.left-a.left+"px",l.style.top=n.top-a.top+"px",d.style.width=i.getBoundingClientRect().width+"px",d.style.height=i.getBoundingClientRect().height+"px",d.style.top=(p.getBoundingClientRect().height-i.getBoundingClientRect().height)/2+"px",d.style.left=(h.getBoundingClientRect().width-i.getBoundingClientRect().width)/2+"px"},V.rotate=function(){var t=e.getBoundingClientRect(),o=d.getBoundingClientRect(),a=(i.getBoundingClientRect(),i.style.transform);if(a)(n=a.match(/-?\d+/g))[0],(n=parseInt(n[0])+90)>=360&&(n=0),i.style.transform="rotate("+n+"deg)",l.style.transform="rotate("+n+"deg)";else{var n=90;i.style.transform="rotate("+n+"deg)",l.style.transform="rotate("+n+"deg)"}void 0===V.angle?(n=0,V.angle=n):V.angle=n,K(t,o)},V.getCroppedImage=function(){var t=document.createElement("CANVAS");t.height=e.getBoundingClientRect().height,t.width=e.getBoundingClientRect().width,t.style.background="#eee";var o=t.getContext("2d"),a=i.style.transform,n=0;a&&(n=a.match(/-?\d+/g),n=parseInt(n[0])),90!==Math.abs(n)&&270!==Math.abs(n)&&(l.style.transform="rotate(0deg)");var r=$L(".lyteCropDivImageImg")[0],s=l.getBoundingClientRect().left-e.getBoundingClientRect().left,d=l.getBoundingClientRect().top-e.getBoundingClientRect().top,p=l.getBoundingClientRect().width,c=l.getBoundingClientRect().height;if(l.style.transform=a,0!==n){var h=p/2,u=c/2;o.save(),o.translate(s+h,d+u),o.rotate(n*(Math.PI/180)),Math.abs(n)%90==0&&180!==Math.abs(n)&&360!==Math.abs(n)?(p=i.getBoundingClientRect().width,c=i.getBoundingClientRect().height,o.drawImage(r,-u,-h,c,p)):o.drawImage(r,-h,-u,p,c),o.restore()}else o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(r,s,d,p,c);return t},$L(O).data("cropper",V),setTimeout(function(){o(),a(),n(),r()},100)}function Z(){var t;switch(i(),h.style.opacity="0.6",event.preventDefault(),t="lyteCropDivImageImg"===event.target.className||"lyteCropDivImage"===event.target.className?"parent":"child",document.getElementsByClassName("lyteCropTopEdge")[0],document.getElementsByClassName("lyteCropRightEdge")[0],document.getElementsByClassName("lyteCropBottomEdge")[0],document.getElementsByClassName("lyteCropLeftEdge")[0],document.getElementsByClassName("lyteCropTopRightCorner")[0],document.getElementsByClassName("lyteCropBottomRightCorner")[0],document.getElementsByClassName("lyteCropBottomLeftCorner")[0],document.getElementsByClassName("lyteCropTopLeftCorner")[0],t){case"child":{var e=u.getBoundingClientRect().top,o=u.getBoundingClientRect().bottom,a=u.getBoundingClientRect().right,n=u.getBoundingClientRect().left,r=u.getBoundingClientRect().width,c=u.getBoundingClientRect().height;"mousedown"===event.type?(C=event.clientX,L=event.clientY):"touchstart"===event.type&&(C=event.touches[0].clientX,L=event.touches[0].clientY);var y,g=u.getBoundingClientRect().top+u.getBoundingClientRect().height/2-d.getBoundingClientRect().top,f=u.getBoundingClientRect().left+u.getBoundingClientRect().width/2-d.getBoundingClientRect().left,v=h.getBoundingClientRect().left-d.getBoundingClientRect().left,D=h.getBoundingClientRect().top-d.getBoundingClientRect().top,b=h.getBoundingClientRect().right-u.getBoundingClientRect().width-p.getBoundingClientRect().left;function P(){event.preventDefault();var t,i,l,p,v=h.getBoundingClientRect().left,D=h.getBoundingClientRect().right,b=(h.getBoundingClientRect().height,h.getBoundingClientRect().width),P=h.getBoundingClientRect().top,x=h.getBoundingClientRect().bottom;switch("mousemove"===event.type?(l=event.clientX,p=event.clientY,t=event.clientX,i=event.clientY):"touchmove"===event.type&&(l=event.touches[0].clientX,p=event.touches[0].clientY,t=event.touches[0].clientX,i=event.touches[0].clientY),u.getBoundingClientRect().height,u.getBoundingClientRect().width,u.getBoundingClientRect().right,u.getBoundingClientRect().left,u.getBoundingClientRect().top,u.getBoundingClientRect().bottom,window.pageXOffset||document.documentElement.scrollLeft,window.pageYOffset||document.documentElement.scrollTop,y){case"lyteCropLeftEdge":r-(l-C)>=j?(l>h.getBoundingClientRect().left&&(u.style.width=r-(t-C)+"px",u.style.height=(r-(t-C))/W+"px",u.style.top=e-d.getBoundingClientRect().top+(t-C)/W/2+"px",u.style.left=n-d.getBoundingClientRect().left+(l-C)+"px"),l-6<=h.getBoundingClientRect().left&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<h.getBoundingClientRect().left))||(u.style.top=x-((b-(D-a))/W+(x-(g+(b-(D-a))/W/2)))+"px",u.style.left=h.getBoundingClientRect().left-d.getBoundingClientRect().left+"px"),u.style.width=b-(D-a)+"px",u.style.height=(b-(D-a))/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.top=h.getBoundingClientRect().bottom-u.getBoundingClientRect().height-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.top=h.getBoundingClientRect().top-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.left=a-(x-P)*W-d.getBoundingClientRect().left+"px",u.style.width=(x-P)*W+"px",u.style.height=x-P+"px",u.style.top=P-d.getBoundingClientRect().top+"px")):"n:n"!==s&&(u.style.left=a-j-d.getBoundingClientRect().left+"px",u.style.top=g-z/2+"px",u.style.width=j+"px",u.style.height=z+"px");break;case"lyteCropTopEdge":c-(p-L)>=z?(p>h.getBoundingClientRect().top+6&&(u.style.width=(c-(p-L))*W+"px",u.style.height=c-(p-L)+"px",u.style.left=n-d.getBoundingClientRect().left+(p-L)*W/2+"px",u.style.top=e-d.getBoundingClientRect().top+(p-L)+"px"),p-6<=h.getBoundingClientRect().top&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<v))||(u.style.left=D-((o-P)*W+(D-(f+(o-P)*W/2)))+"px",u.style.top=h.getBoundingClientRect().top-d.getBoundingClientRect().top+"px"),u.style.width=(o-P)*W+"px",u.style.height=o-P+"px"),u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&(u.style.left=h.getBoundingClientRect().right-u.getBoundingClientRect().width-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&u.getBoundingClientRect().left<=v&&(u.style.width=D-v+"px",u.style.height=(D-v)/W+"px",u.style.top=o-(D-v)/W-d.getBoundingClientRect().top+"px",u.style.left=v-d.getBoundingClientRect().left+"px")):"n:n"!==s&&(u.style.top=o-z-d.getBoundingClientRect().top+"px",u.style.left=f-j/2+"px",u.style.width=j+"px",u.style.height=z+"px");break;case"lyteCropBottomEdge":c+(p-L)>=z?(p<h.getBoundingClientRect().bottom&&(u.style.width=(c+(i-L))*W+"px",u.style.height=c+(p-L)+"px",u.style.left=n-d.getBoundingClientRect().left-(i-L)*W/2+"px",u.style.bottom=o-d.getBoundingClientRect().bottom-(i-L)+"px"),p>=h.getBoundingClientRect().bottom&&(u.style.left=f-(x-e)*W/2+"px",u.style.width=(x-e)*W+"px",u.style.height=x-e+"px"),u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&(u.style.left=D-u.getBoundingClientRect().width-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px",u.style.width=D-v+"px",u.style.height=(D-v)/W+"px")):"n:n"!==s&&(u.style.left=f-j/2+"px",u.style.width=j+"px",u.style.height=z+"px");break;case"lyteCropRightEdge":r+(t-C)>=j?(t<D&&(u.style.width=r+(t-C)+"px",u.style.height=(r+(t-C))/W+"px",u.style.top=e-d.getBoundingClientRect().top-(t-C)/W/2+"px",u.style.right=a-d.getBoundingClientRect().right-(t-C)+"px"),t>=D&&(u.style.top=g-(D-n)/W/2+"px",u.style.width=D-n+"px",u.style.height=(D-n)/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.top=h.getBoundingClientRect().bottom-u.getBoundingClientRect().height-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.top=P-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.left=n-d.getBoundingClientRect().left+"px",u.style.width=(x-P)*W+"px",u.style.height=x-P+"px")):"n:n"!==s&&(u.style.top=g-z/2+"px",u.style.width=j+"px",u.style.height=z+"px");break;case"lyteCropTopRightCorner":c-(p-L)>=z?(p>=P+5&&(u.style.width=(c-(p-L))*W+"px",u.style.height=c-(p-L)+"px",u.style.top=e-d.getBoundingClientRect().top+(p-L)+"px",u.style.right=a-d.getBoundingClientRect().right-(l-C)+"px"),p<h.getBoundingClientRect().top+5&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<v))||(u.style.top=h.getBoundingClientRect().top-d.getBoundingClientRect().top+"px"),u.style.width=(o-P)*W+"px",u.style.height=o-P+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&(u.style.top=o-(D-n)/W-d.getBoundingClientRect().top+"px",u.style.width=D-n+"px",u.style.height=(D-n)/W+"px")):"n:n"!==s&&(u.style.top=o-z-d.getBoundingClientRect().top+"px",u.style.width=j+"px",u.style.height=z+"px"),"n:n"===s&&r+(t-C)>=j&&(t<D&&(u.style.width=r+(t-C)+"px",u.style.height=(r+(t-C))/W+"px",u.style.top=e-d.getBoundingClientRect().top-(t-C)/W/2+"px",u.style.right=a-d.getBoundingClientRect().right-(t-C)+"px"),t>=D&&(u.style.top=g-(D-n)/W/2+"px",u.style.width=D-n+"px",u.style.height=(D-n)/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.top=h.getBoundingClientRect().bottom-u.getBoundingClientRect().height-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.top=P-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.left=n-d.getBoundingClientRect().left+"px",u.style.width=(x-P)*W+"px",u.style.height=x-P+"px"));break;case"lyteCropTopLeftCorner":c-(p-L)>=z?(p>=P+5&&(u.style.width=(c-(p-L))*W+"px",u.style.height=c-(p-L)+"px",u.style.top=e-d.getBoundingClientRect().top+(p-L)+"px",u.style.left=n-d.getBoundingClientRect().left+(p-L)*W+"px"),p-6<=h.getBoundingClientRect().top&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<v))||(u.style.left=D-((o-P)*W+(D-a))-d.getBoundingClientRect().left+"px",u.style.top=h.getBoundingClientRect().top-d.getBoundingClientRect().top+"px"),u.style.width=(o-P)*W+"px",u.style.height=o-P+"px"),u.getBoundingClientRect().left<=h.getBoundingClientRect().left&&(u.style.top=o-(a-v)/W-d.getBoundingClientRect().top+"px",u.style.left=h.getBoundingClientRect().left-d.getBoundingClientRect().left+"px",u.style.width=a-v+"px",u.style.height=(a-v)/W+"px")):"n:n"!==s&&(u.style.top=o-z-d.getBoundingClientRect().top+"px",u.style.left=a-j-d.getBoundingClientRect().left+"px",u.style.width=j+"px",u.style.height=z+"px"),"n:n"===s&&r-(l-C)>=j&&(l>h.getBoundingClientRect().left&&(u.style.width=r-(t-C)+"px",u.style.height=(r-(t-C))/W+"px",u.style.top=e-d.getBoundingClientRect().top+(t-C)/W/2+"px",u.style.left=n-d.getBoundingClientRect().left+(l-C)+"px"),l-6<=h.getBoundingClientRect().left&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<h.getBoundingClientRect().left))||(u.style.top=x-((b-(D-a))/W+(x-(g+(b-(D-a))/W/2)))+"px",u.style.left=h.getBoundingClientRect().left-d.getBoundingClientRect().left+"px"),u.style.width=b-(D-a)+"px",u.style.height=(b-(D-a))/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.top=h.getBoundingClientRect().bottom-u.getBoundingClientRect().height-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.top=h.getBoundingClientRect().top-d.getBoundingClientRect().top+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&u.getBoundingClientRect().top<=h.getBoundingClientRect().top&&(u.style.left=a-(x-P)*W-d.getBoundingClientRect().left+"px",u.style.width=(x-P)*W+"px",u.style.height=x-P+"px",u.style.top=P-d.getBoundingClientRect().top+"px"));break;case"lyteCropBottomRightCorner":r+(t-C)>=j?(t<D&&(u.style.width=r+(t-C)+"px",u.style.height=(r+(t-C))/W+"px"),u.getBoundingClientRect().right>=D-5&&t>=D-5&&(u.style.width=D-n+"px",u.style.height=(D-n)/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.height=x-e+"px",u.style.width=(x-e)*W+"px")):"n:n"!==s&&(u.style.width=j+"px",u.style.height=z+"px"),"n:n"===s&&c+(p-L)>=z&&(p<h.getBoundingClientRect().bottom&&(u.style.width=(c+(i-L))*W+"px",u.style.height=c+(p-L)+"px",u.style.left=n-d.getBoundingClientRect().left-(i-L)*W/2+"px",u.style.bottom=o-d.getBoundingClientRect().bottom-(i-L)+"px"),p>=h.getBoundingClientRect().bottom&&(u.style.left=f-(x-e)*W/2+"px",u.style.width=(x-e)*W+"px",u.style.height=x-e+"px"),u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&(u.style.left=D-u.getBoundingClientRect().width-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px",u.style.width=D-v+"px",u.style.height=(D-v)/W+"px"));break;case"lyteCropBottomLeftCorner":r-(l-C)>=j?(l>h.getBoundingClientRect().left&&(u.style.width=r-(t-C)+"px",u.style.height=(r-(t-C))/W+"px",u.style.left=n-d.getBoundingClientRect().left+(l-C)+"px"),l-6<=v+2&&(u.getBoundingClientRect().height>=h.getBoundingClientRect().height&&(u.getBoundingClientRect().width>=h.getBoundingClientRect().width||!(u.getBoundingClientRect().left<v))||(u.style.left=v-d.getBoundingClientRect().left+"px"),u.style.width=a-v+"px",u.style.height=(a-v)/W+"px"),u.getBoundingClientRect().bottom>=h.getBoundingClientRect().bottom&&(u.style.height=x-e+"px",u.style.width=(x-e)*W+"px",u.style.left=D-((x-e)*W+(D-a))-d.getBoundingClientRect().left+"px")):"n:n"!==s&&(u.style.left=a-j-d.getBoundingClientRect().left+"px",u.style.width=j+"px",u.style.height=z+"px"),"n:n"===s&&c+(p-L)>=z&&(p<h.getBoundingClientRect().bottom&&(u.style.width=(c+(i-L))*W+"px",u.style.height=c+(p-L)+"px",u.style.left=n-d.getBoundingClientRect().left-(i-L)*W/2+"px",u.style.bottom=o-d.getBoundingClientRect().bottom-(i-L)+"px"),p>=h.getBoundingClientRect().bottom&&(u.style.left=f-(x-e)*W/2+"px",u.style.width=(x-e)*W+"px",u.style.height=x-e+"px"),u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&(u.style.left=D-u.getBoundingClientRect().width-d.getBoundingClientRect().left+"px"),u.getBoundingClientRect().right>=h.getBoundingClientRect().right&&u.getBoundingClientRect().left<=v&&(u.style.left=v-d.getBoundingClientRect().left+"px",u.style.width=D-v+"px",u.style.height=(D-v)/W+"px"))}var S=w.style.transform;w.style.transform="rotate(0deg)",_.style.left=w.getBoundingClientRect().left-u.getBoundingClientRect().left+"px",_.style.top=w.getBoundingClientRect().top-u.getBoundingClientRect().top+"px",w.style.transform=S,w.naturalWidth>w.naturalHeight?(M.style.height=_.getBoundingClientRect().height*(m.getBoundingClientRect().height/u.getBoundingClientRect().height)+"px",V.height=_.getBoundingClientRect().height*(m.getBoundingClientRect().height/u.getBoundingClientRect().height),M.style.width="auto",V.width="auto"):(M.style.width=_.getBoundingClientRect().width*(m.getBoundingClientRect().width/u.getBoundingClientRect().width)+"px",V.width=_.getBoundingClientRect().width*(m.getBoundingClientRect().width/u.getBoundingClientRect().width),M.style.height="auto",V.height="auto"),M.style.top="-"+(u.getBoundingClientRect().top-h.getBoundingClientRect().top)*(m.getBoundingClientRect().height/u.getBoundingClientRect().height)+"px",M.style.left="-"+(u.getBoundingClientRect().left-v)*(m.getBoundingClientRect().width/u.getBoundingClientRect().width)+"px",V.top=(u.getBoundingClientRect().top-h.getBoundingClientRect().top)*(m.getBoundingClientRect().height/u.getBoundingClientRect().height),V.left=(u.getBoundingClientRect().left-v)*(m.getBoundingClientRect().width/u.getBoundingClientRect().width),Q()}y=""===event.target.className?event.target.parentElement.className:event.target.className,document.addEventListener("mousemove",P),document.addEventListener("mouseup",function t(){h.style.opacity="",document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",t),l()});break}case"parent":if("lyteCropDivImage"===event.target.className||"lyteCropDivImageImg"===event.target.className){var C,L;function x(){event.preventDefault();var t,i,l=h.getBoundingClientRect().left;"mousemove"===event.type?(t=event.clientX,i=event.clientY):"touchmove"===event.type&&(t=event.touches[0].clientX,i=event.touches[0].clientY),e+(i-L)-d.getBoundingClientRect().top+d.getBoundingClientRect().top>h.getBoundingClientRect().top?u.style.top=e+(i-L)-d.getBoundingClientRect().top+"px":u.style.top=D+"px",n+(t-C)-d.getBoundingClientRect().left+d.getBoundingClientRect().left>l?u.style.left=n+(t-C)-d.getBoundingClientRect().left+"px":u.style.left=v+"px",a+(t-C)-d.getBoundingClientRect().right+d.getBoundingClientRect().right<h.getBoundingClientRect().right||(u.style.left=b+"px"),o+(i-L)-d.getBoundingClientRect().bottom+d.getBoundingClientRect().bottom<h.getBoundingClientRect().bottom||(u.style.top=h.getBoundingClientRect().bottom-u.getBoundingClientRect().height-d.getBoundingClientRect().top+"px"),h.getBoundingClientRect().top;var r=w.style.transform;w.style.transform="rotate(0deg)",_.style.left=w.getBoundingClientRect().left-u.getBoundingClientRect().left+"px",_.style.top=w.getBoundingClientRect().top-u.getBoundingClientRect().top+"px",w.style.transform=r,M.style.top="-"+(u.getBoundingClientRect().top-h.getBoundingClientRect().top)*(m.getBoundingClientRect().height/u.getBoundingClientRect().height)+"px",M.style.left="-"+(u.getBoundingClientRect().left-l)*(m.getBoundingClientRect().width/u.getBoundingClientRect().width)+"px",V.top=(u.getBoundingClientRect().top-h.getBoundingClientRect().top)*(m.getBoundingClientRect().height/u.getBoundingClientRect().height),V.left=(u.getBoundingClientRect().left-l)*(m.getBoundingClientRect().width/u.getBoundingClientRect().width),Q()}e=u.getBoundingClientRect().top,n=u.getBoundingClientRect().left,a=u.getBoundingClientRect().right,o=u.getBoundingClientRect().bottom,r=u.getBoundingClientRect().width,c=u.getBoundingClientRect().height,"mousedown"===event.type?(C=event.clientX,L=event.clientY):"touchstart"===event.type&&(C=event.touches[0].clientX,L=event.touches[0].clientY),v=h.getBoundingClientRect().left-d.getBoundingClientRect().left,b=h.getBoundingClientRect().right-u.getBoundingClientRect().width-p.getBoundingClientRect().left,D=h.getBoundingClientRect().top-d.getBoundingClientRect().top,d.getBoundingClientRect().bottom,d.getBoundingClientRect().bottom,h.getBoundingClientRect().bottom,u.getBoundingClientRect().height,window.innerHeight,d.getBoundingClientRect().bottom,document.addEventListener("mousemove",x),document.addEventListener("mouseup",function t(){h.style.opacity="",document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",x),l()})}}}w.src=S.src=_.src=M.src=O.src,function(){var o=e.height,i=e.width;"1:1"===s?(W=1,j=z=50,o<i?U=t=.8*o:o>i?U=t=.8*i:o===i&&(U=.8*i,t=.8*o)):"2:3"===s?(j=70*(W=2/3),z=70,o<i?(t=.8*o,U=.8*o*(2/3)):o>i?(t=.8*i,U=.8*i*(2/3)):o===i&&(U=.8*i,t=.8*o)):"4:3"===s?(j=70,z=70/(W=4/3),o<i?(t=.8*o,U=.8*o*(4/3)):o>i?(t=.8*i*.75,U=.8*i):o===i&&(U=.8*i,t=.8*o)):"16:9"===s?(j=70,z=70/(W=16/9),o<i?(t=.8*o,U=.8*o*(16/9)):o>i?(t=.8*i*(9/16),U=.8*i):o===i&&(U=.8*i,t=.8*o)):"n:n"===s&&(j=70,z=70,o<i?(t=.8*o,U=.8*o*1.5):o>i?(t=.8*i*(2/3),U=.8*i):o===i&&(U=.8*i,t=.8*o))}(),X<G?(w.style.width=_.style.width=Y.getBoundingClientRect().width+"px",w.style.height=_.style.height=Y.getBoundingClientRect().width/H+"px",d.style.height=w.getBoundingClientRect().height+"px",d.style.width=w.getBoundingClientRect().width+"px",d.style.top=(Y.getBoundingClientRect().height-d.getBoundingClientRect().height)/2+"px"):X>G?(w.style.height=_.style.height=Y.getBoundingClientRect().height+"px",w.style.width=_.style.width=Y.getBoundingClientRect().height*H+"px",d.style.width=w.getBoundingClientRect().width+"px",d.style.height=w.getBoundingClientRect().height+"px",d.style.left=(Y.getBoundingClientRect().width-d.getBoundingClientRect().width)/2+"px"):X===G&&(w.style.height=_.style.height=Y.getBoundingClientRect().height+"px",w.style.width=_.style.width=Y.getBoundingClientRect().height*H+"px",d.style.width=w.getBoundingClientRect().width+"px",d.style.height=w.getBoundingClientRect().height+"px",d.style.left=(Y.getBoundingClientRect().width-d.getBoundingClientRect().width)/2+"px"),w.style.left="0px",_.style.left="-"+(h.getBoundingClientRect().width-u.getBoundingClientRect().width)/2+"px",w.style.top="0px",_.style.top="-"+(h.getBoundingClientRect().height-u.getBoundingClientRect().height)/2+"px",u.style.height=h.getBoundingClientRect().height+"px",u.style.width=h.getBoundingClientRect().width+"px",u.style.top=(h.getBoundingClientRect().height-u.getBoundingClientRect().height)/2+"px",u.style.left=(h.getBoundingClientRect().width-u.getBoundingClientRect().width)/2+"px",Q(),w.getBoundingClientRect().height,w.getBoundingClientRect().width,u.addEventListener("mousedown",Z),u.addEventListener("touchstart",Z),_.style.left=w.getBoundingClientRect().left-u.getBoundingClientRect().left+"px",_.style.top=w.getBoundingClientRect().top-u.getBoundingClientRect().top+"px",d.addEventListener("wheel",function(t){}),w.ondragstart=S.ondragstart=_.ondragstart=function(){return!1}}()}O.complete&&0===Y.querySelectorAll(".lyteCropArea").length&&(e=O.getBoundingClientRect(),O.style.display="none",W()),O.addEventListener("load",function t(){O.complete&&0===Y.querySelectorAll(".lyteCropArea").length&&(e=O.getBoundingClientRect(),O.style.display="none",W()),O.removeEventListener("load",t)})}),function(t){lyteDomObj&&(managerDD={init:!1,_current:null,_droppables:[],_checkAcceptable:function(t,e){if("string"!=typeof e){if(0===e.length)return!0;for(var o=0;o<e.length;o++)if(t.matches(e[o]))return!0}return!1},_isOverAxis:function(t,e,o){return t>=e&&t<e+o},_checkIntersects:function(t,e,o,i){var l=e.getBoundingClientRect(),a=o.getBoundingClientRect(),n=l.left,r=l.top,s=n+l.width,d=r+l.height,p=a.left,c=a.top,h=p+a.width,u=c+a.height;if(e.ownerDocument.defaultView!=o.ownerDocument.defaultView){for(var y=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;y&&y.frameElement;){n+=(m=y.frameElement.getBoundingClientRect()).left,s+=m.left,r+=m.top,d+=m.top,y=y.parent}for(y=o.ownerDocument.defaultView||o.ownerDocument.parentWindow;y&&y.frameElement;){var m;p+=(m=y.frameElement.getBoundingClientRect()).left,h+=m.left,c+=m.top,u+=m.top,y=y.parent}}switch(i){case"fit":return p<=n&&s<=h&&c<=r&&d<=u;case"intersect":return p<n+l.width/2&&s-l.width/2<h&&c<r+l.height/2&&d-l.height/2<u;case"pointer":if("mousemove"==t.type)return managerDD._isOverAxis(t.clientY,c,a.height)&&managerDD._isOverAxis(t.clientX,p,a.width);if("touchmove"==t.type)return managerDD._isOverAxis(t.touches[0].clientY,c,a.height)&&managerDD._isOverAxis(t.touches[0].clientX,p,a.width);case"touch":return(r>=c&&r<=u||d>=c&&d<=u||r<c&&d>u)&&(n>=p&&n<=h||s>=p&&s<=h||n<p&&s>h);default:return!1}},_drag:function(t){for(var e=this._droppables,o=this._current,i=0;i<e.length;i++){var l=e[i]._droppableData;l.disabled||o.isEqualNode(e[i])||!managerDD._checkAcceptable(o,l.accept)||(managerDD._checkIntersects(t,o,e[i],l.tolerance)?(!l.entered&&l.onEnter&&l.onEnter(o,e[i]),l.onDrag&&l.onDrag(o,e[i]),l.hoverClass&&!$L(e[i]).hasClass(l.hoverClass)&&(l.activeClass&&$L(e[i]).hasClass(l.activeClass)&&$L(e[i]).removeClass(l.activeClass),$L(e[i]).addClass(l.hoverClass)),l.entered||(l.entered=!0)):(l.entered&&l.onLeave&&l.onLeave(o,e[i]),l.hoverClass&&$L(e[i]).hasClass(l.hoverClass)&&$L(e[i]).removeClass(l.hoverClass),l.activeClass&&!$L(e[i]).hasClass(l.activeClass)&&$L(e[i]).addClass(l.activeClass),l.entered&&(l.entered=!1)))}},_drop:function(t){for(var e=this._droppables,o=this._current,i=0;i<e.length;i++)if(!o.isEqualNode(e[i])){var l=e[i]._droppableData;if(l.activeClass&&$L(e[i]).hasClass(l.activeClass)&&$L(e[i]).removeClass(l.activeClass),l.hoverClass&&$L(e[i]).hasClass(l.hoverClass)&&$L(e[i]).removeClass(l.hoverClass),!l.disabled&&managerDD._checkAcceptable(o,l.accept)&&managerDD._checkIntersects(t,o,e[i],l.tolerance)){l.onDrop&&l.onDrop(o,e[i]);break}}},isRestricted:function(t,e){t=t instanceof Array?t:t.split(",");for(var o=0;o<t.length;o++)for(var i=document.querySelectorAll(t[o]),l=0;l<i.length;l++)if(e.isEqualNode(i[o]))return!0;return!1},destroy:function(t){t.classList.contains("droppable-element")?(-1!==managerDD._droppables.indexOf(t)&&managerDD._droppables.splice(managerDD._droppables.indexOf(t),1),t._droppableData&&(t._droppableData=null),t.classList.remove("droppable-element")):console.info("ALERT! - U have already destroyed its droppable behaviour.")},sortDroppables:function(){for(var t=this._droppables,e=t[t.length-1],o=e.getBoundingClientRect(),i=0;i<t.length-1;i++){var l=t[i].getBoundingClientRect();if(o.height<l.height&&o.width<l.width)return t.splice(t.indexOf(e),1),void t.splice(i,0,e)}}},lyteDomObj.prototype.droppable=function(e){if(managerDD.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),managerDD.init=!0),managerDD.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),managerDD.init=!0),"string"!=typeof e||"destroy"!==e){var o=e||{};if(this.length>1)for(n=this,r=0;r<n.length;r++)$L(n[r]).droppable(Object.assign({},o));else if(!o.restrict||!managerDD.isRestricted(o.restrict,this[0])){if(o._element=droppableEle=this[0],$L(o._element).addClass("droppable-element"),o.entered=!1,o.activeClass=!!o.activeClass&&o.activeClass,o.accept=o.accept?o.accept:[],o.disabled=!0===o.disabled&&o.disabled,o.hoverClass=!!o.hoverClass&&o.hoverClass,o.tolerance="fit"===o.tolerance||"intersect"===o.tolerance||"pointer"===o.tolerance||"touch"===o.tolerance?o.tolerance:"intersect",o.registerToParent=o.registerToParent,droppableEle._droppableData=o,-1==managerDD._droppables.indexOf(droppableEle)&&(managerDD._droppables.push(droppableEle),managerDD._droppables.length>1&&o.sortDroppables&&managerDD.sortDroppables()),o.registerToParent)for(var i=t;i.parent&&((i=i.parent).managerDD._droppables.push(droppableEle),i.managerDD._droppables.length>1&&droppableEle._droppableData.sortDroppables&&i.managerDD.sortDroppables(),i.parent!=i.top););if(o.registerFromParent){i=t;for(var l=t;l.parent;){var a=(l=l.parent).managerDD._droppables;for(r=0;r<a.length;r++)-1==i.managerDD._droppables.indexOf(a[r])&&(i.managerDD._droppables.push(a[r]),i.managerDD._droppables.length>1&&droppableEle._droppableData.sortDroppables&&i.managerDD.sortDroppables());if(l.parent==l.top)break}}return droppableEle=null,o.onReady&&o.onReady(this[0]),this}}else if(this.length>1)for(var n=this,r=0;r<n.length;r++)managerDD.destroy(n[r]);else managerDD.destroy(this[0])})}(window),function(){if(lyteDomObj){var t=navigator.userAgent,e={uA:t,isUbuntu:/ubuntu/gi.test(t),isIpad:/ipad/gi.test(t),safari:/safari/gi.test(t),isIE11Lyte:/rv:11/gi.test(t),isEdgeLyte:/Edge/gi.test(t),mode:{},chrome:!!window.chrome,firefox:/firefox/gi.test(t)};function o(t,e,o){var i,l=document.createElement("div");return l.className=t,l._scrolldiv=this,l.style.visibility="hidden",(i=document.createElement("div")).classList.add("lyteScrollDiv"),e.handlerClass&&i.classList.add(e.handlerClass),e.containerClass&&l.classList.add(e.containerClass),l.appendChild(i),o?(i._direction=o,e.horizontalContainerClass&&l.classList.add(e.horizontalContainerClass),e.horizontalHandlerClass&&i.classList.add(e.horizontalHandlerClass),this._horiDiv=l):(e.verticalContainerClass&&l.classList.add(e.verticalContainerClass),e.verticalHandlerClass&&i.classList.add(e.verticalHandlerClass),this._vertDiv=l),this.parentElement.appendChild(l),l.addEventListener("click",d,!0),i.addEventListener("mousedown",p),l}function i(t,e,o){t.style[e]=o}function l(t,e,o,l,a){var n;return a=a||{},t?(-1!=["mouseenter","touchstart"].indexOf(a.type)&&"scroll"==this._scrollData.showOn||(this._enableScroll=!0,e&&(i(e,"visibility","visible"),e.classList.add("visible"),P.call(this,l,void 0,{},o))),n=!0):e&&(i(e,"visibility","hidden"),e.classList.remove("visible")),n}function a(t){this.removeEventListener("wheel",a,!0),this.classList.contains("eventBinded")||n.call(this,{type:"mouseenter"}),t.preventDefault()}function n(t){if(!(this.classList.contains("eventBinded")&&1!=t||"mouseenter"==t.type&&this._prtmseenr)){var e,o={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};if(this._wheelObj=o,this.classList.contains("lyteTableScroll")&&D.call(this,o),this._direction=getComputedStyle(this).direction,o.vertbcr=this._vertDiv?this._vertDiv.getBoundingClientRect():{},o.horbcr=this._horiDiv?this._horiDiv.getBoundingClientRect():{},e=l.call(this,!u.call(this,!0,o),this._vertDiv,o,!0,t),(e=l.call(this,!u.call(this,!1,o),this._horiDiv,o,!1,t)||e)&&t){if(this._mouseleave=s.bind(this.parentElement),"touchstart"==t.type){if(1!=t.touches.length)return;clearTimeout(this._tchtime),document.addEventListener("touchcancel",this._mouseleave,!0)}else this.addEventListener("wheel",y,!0),this.addEventListener("keydown",r,!0),"scroll"==this._scrollData.showOn&&this.addEventListener("mousemove",v,!0);this._allowTouch=!0,document.addEventListener("touchend",this._mouseleave,!0),this.classList.add("eventBinded"),this._tabindex=this.tabIndex,-1==this.tabIndex&&(this.tabIndex=0)}}}function r(t){if(t.target==this){var o=t.keyCode,i={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};if(-1!=[37,38,39,40].indexOf(o)){var l,a,n=this._scrollData.keyStep,r=t.metaKey||t.ctrlKey,s=this._direction;if(38==o)l=r?-i.scrollTop:-n,a=!0;else if(40==o)l=r?i.scrollHeight-i.scrollTop:n,a=!0;else if(39==o){var d;if("rtl"==s)d=e.isIE11Lyte||e.isEdgeLyte?i.scrollWidth-i.scrollLeft:e.firefox||e.safari?-i.scrollLeft:i.scrollWidth-i.bcr.width,l=r?d:n;else l=r?i.scrollWidth-i.bcr.width:n}else l="rtl"==s&&(e.firefox||e.safari)?r?i.bcr.width-i.scrollWidth:-n:r?-i.scrollLeft:-n;0!=l&&m.call(this,i,a,l)&&(this[a?"scrollTop":"scrollLeft"]+=l,f.call(this,t),t.preventDefault())}}}function s(t){if(!((t=t||{}).relatedTarget&&this.contains(t.relatedTarget)||document._scrollmouseup)){var e=this.querySelectorAll(".lyteScrollContainer"),o=this._scrolldiv;if(e.length){for(var i=0;i<e.length;i++)e[i].classList.remove("visible"),e[i].style.visibility="hidden";"mouseleave"==t.type?(o.removeEventListener("wheel",y,!0),o.removeEventListener("keydown",r,!0),o.removeEventListener("mousemove",v,!0),o.addEventListener("wheel",a,!0)):"touchend"!=t.type&&"touchcancel"!=t.type||(o._prtmseenr=!0,o._tchtime=setTimeout(function(){delete o._prtmseenr},500),document.removeEventListener("touchcancel",o._mouseleave,!0)),t.type&&(document.removeEventListener("touchend",o._mouseleave,!0),delete o._allowTouch,o.classList.remove("eventBinded"),o.tabIndex=this._scrolldiv._tabindex,delete o._tabindex,delete o._wheelObj,delete o._prevPosY,delete o._mouseleave,delete o._prevPosX,delete o._wheelEvt),delete this._scrolldiv._enableScroll}}}function d(t){if(this.classList.contains("visible")){var e,o=this._scrolldiv,i=this.children[0],l=this.getBoundingClientRect(),a=i.getBoundingClientRect(),n={scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,scrollWidth:o.scrollWidth,scrollHeight:o.scrollHeight,bcr:o.getBoundingClientRect()},r="width",s="left",d="scrollLeft",p="scrollWidth",c="clientX";this.classList.contains("lyteTableScroll")&&!n.$nodeClient&&D.call(this,n),n.vertbcr=this._vertDiv?this._vertDiv.getBoundingClientRect():{},n.horbcr=this._vertDiv?this._horiDiv.getBoundingClientRect():{},i._direction||(!0,r="height",s="top",d="scrollTop",p="scrollHeight","bottom",c="clientY"),e=(t[c]-(a[s]+a[r]/2))/(n.bcr[r]+n.bcr[s]-l[s])*n[p],o[d]+=e,f.call(o,t)}}function p(t){document._scrollmousemove=d.bind(this.parentElement),document._scrollmouseup=c.bind(this.parentElement),document.addEventListener("mousemove",document._scrollmousemove,!0),document.addEventListener("mouseup",document._scrollmouseup,!0),t.preventDefault(),t.stopPropagation()}function c(t){document.removeEventListener("mousemove",document._scrollmousemove,!0),document.removeEventListener("mouseup",document._scrollmouseup,!0),delete document._scrollmousemove,delete document._scrollmouseup,this._scrolldiv.contains(t.target.correspondingElement||t.target)||"always"==this._scrolldiv._scrollData.showOn||s.call(this._scrolldiv.parentElement,{type:"mouseleave"})}function h(t){document._scrollmouseup||(document._scrollmouseup=c.bind(this.parentElement),document.addEventListener("mouseup",document._scrollmouseup,!0))}function u(t,e){var o="scrollTop",i="scrollHeight",a="height",n=t?this._vertDiv:this._horiDiv;if(t||(o="scrollLeft",i="scrollWidth",a="width"),e[o]+e.bcr[a]>=e[i]-5&&0==e[o])return n&&n.classList.contains("visible")&&l.call(this,!1,n),!0}function y(t){if(!function(t){for(var e,o=(t=t||{target:this}).target.correspondingElement||t.target;o&&o!=this;){if(o.classList.contains("preventWheel")){e=!0;break}o=o.parentElement}return e}.call(this,t))if("touchmove"==t.type){if(this._allowTouch&&1==t.touches.length){var e=t.touches[0];g.call(this,t,[(this._prevPosX||e.clientX)-e.clientX,(this._prevPosY||e.clientY)-e.clientY]),this._prevPosY=e.clientY,this._prevPosX=e.clientX}}else g.call(this,t)}function m(t,o,i){var l="scrollTop",a="scrollHeight",n="height";o?this._vertDiv:this._horiDiv;return o||(l="scrollLeft",a="scrollWidth",n="width"),!(i>0&&Math.round(t[l]+t.bcr[n])>=t[a]||i<0&&Math.round(-t[l]+t.bcr[n])>=t[a])&&(!!(!o&&e.firefox&&"rtl"==this._direction&&i<0&&0==t[l])||!(i<0&&0==t[l]&&!(i<0&&e.safari&&"rtl"==this._direction&&0==t[l])))}function g(t,o){if("scroll"==this._scrollData.showOn){if(!this._enableScroll)return n.call(this,!0),void t.preventDefault();clearTimeout(this._scrollplugin),this._scrollplugin=setTimeout(s.bind(this.parentElement,{}),this._scrollData.tOut)}var i,l,a=o||function(t){var o=this._scrollData.wheelSpeed,i=o,l=e.uA.toLowerCase(),a=this._infiniteScroll,n=e.isIE11Lyte;-1==l.indexOf("edge")&&-1==l.indexOf("trident")&&-1==l.indexOf("msie")||"rtl"!=this._direction||(o*=-1),t.shiftKey&&(o*=-1,i*=-1);var r,s,d=t.deltaMode&&1==t.deltaMode;return t.deltaX>0?r=Math.max(d?6*t.deltaX:t.deltaX,a?0:4):t.deltaX<0&&(r=Math.min(a?0:-4,d?6*t.deltaX:t.deltaX)),t.deltaY>0?s=Math.min(Math.max(d?6*t.deltaY:t.deltaY,a?0:4),n?20:1/0):t.deltaY<0&&(s=Math.max(Math.min(a?0:-4,d?6*t.deltaY:t.deltaY),n?-20:-1/0)),[r*o,s*i]}.call(this,t),r=a[0]||0,d=a[1]||0,p=!1,c=this._wheelObj||{},h=this.classList.contains("lyteTableScroll");if(this._scrollEnd&&(c={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()},this._wheelObj=c,this.classList.contains("lyteTableScroll")&&D.call(this,c)),Math.abs(o?r:t.deltaX||0)<Math.abs(o?d:t.deltaY||0)&&(p=!0),this._wheelObj){if((i=u.call(this,p,c))&&p&&(!this._vertDiv||this._vertDiv&&!this._vertDiv.classList.contains("visible"))||i&&!p&&(!this._horiDiv||this._horiDiv&&!this._horiDiv.classList.contains("visible")))return;if(l=m.call(this,c,p,p?d:r),!this._infiniteScroll&&!l)return void(this._scrollData.preventOnEnd&&t.preventDefault());t.preventDefault(),!l&&h&&p&&this.comp.scrollTable.call(this.comp,{yScroll:d},this._wheelObj)}p?e.isIE11Lyte?this._wheelObj&&(this._wheelObj.scrollTop=Math.max(Math.min(this._wheelObj.scrollTop+d,this._wheelObj.scrollHeight-this._wheelObj.bcr.height),0),h&&(t.yScroll=d,this.comp.scroll.call(this,t)),this.scrollTop+=d):e.isIE11Lyte||(this.scrollTop+=d):e.isIE11Lyte?this._wheelObj&&(this._wheelObj.scrollLeft=Math.max(Math.min(this._wheelObj.scrollLeft+r,this._wheelObj.scrollWidth-this._wheelObj.bcr.width),0),h&&(t.xScroll=r,this.comp.scroll.call(this,t)),this.scrollLeft+=r):this.scrollLeft+=r,(e.safari||e.isIE11Lyte||e.isIpad)&&(this._alive=!0,clearTimeout(this._alivetime),this._alivetime=setTimeout(function(){delete this._alive,delete this._alivetime}.bind(this),16),this._scrollFun.call(this,t))}function f(t){var o,i,l=e.isIE11Lyte||e.safari||e.isIpad,a=e.isIE11Lyte;if(l&&t&&"scroll"==t.type&&this._alive&&!t._byFunc)b.call(this,e.mode.a,e.mode.b,this._wheelObj||{bcr:{}},t);else{var n={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};this._wheelObj=n,this.classList.contains("lyteTableScroll")&&D.call(this,n),this.prevScrlLeft!=n.scrollLeft&&(o=n.scrollLeft-(this.prevScrlLeft||0),i=0,P.call(this,!1,o,t,n)),this.prevScrlTop!=n.scrollTop&&(i=n.scrollTop-(this.prevScrlTop||0),o=0,P.call(this,!0,i,t,n)),e.mode.b=i,e.mode.a=o,a&&(!l||this._alive&&!t._byFunc)||this.classList.contains("lyteTableScroll")&&this.comp.scroll.call(this,t)}}function v(t){clearTimeout(this._scrollplugin),this._scrollplugin=setTimeout(s.bind(this.parentElement),500)}function D(t){var e=this.comp.$node.querySelectorAll("lyte-th");this._infiniteScroll&&(t.$nodeClient=this.parentElement.getBoundingClientRect(),t.neglected=this.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll:not(.lyteHidden)"),t.compNeg=this.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll"),void 0!=this.comp._top&&(t.topElem=this.querySelectorAll("lyte-tbody lyte-tr:not(.dummy)")[this.comp._top+t.compNeg.length],t.topElemClient=t.topElem?this.comp.topElem(t.topElem):{},t.bottmElem=this.querySelector("lyte-tbody lyte-tr:nth-of-type("+(this.comp._bottom+1+t.compNeg.length)+")"),t.bottmElemClient=t.bottmElem?this.comp.topElem(t.bottmElem):{},t.tbody=this.querySelector("lyte-tbody"),t.tbodyClient=t.tbody?t.tbody.getBoundingClientRect():{})),t.scrollDivClient=t.bcr;for(var o=0;o<e.length;o++)e[o].property=e[o].getBoundingClientRect(),e[o].order=o;t.calculated=!0}function b(t,o,i,l){delete this._scrollEnd,(Math.ceil(i.scrollLeft+i.bcr.width+this._scrollData.offset.x)>=i.scrollWidth&&("rtl"!=this._direction||!e.chrome)||(e.firefox||e.safari)&&"rtl"==this._direction&&Math.ceil(-i.scrollLeft+i.bcr.width+this._scrollData.offset.x)>=i.scrollWidth||"rtl"==this._direction&&e.chrome&&i.scrollLeft==this._scrollData.offset.x)&&(l.horiScrollEnd=!0),Math.ceil(i.scrollTop+i.bcr.height+this._scrollData.offset.y)>=i.scrollHeight&&(this._scrollEnd=l.vertScrollEnd=!0),l.yScroll=o,l.xScroll=t,l._byPlugin=!0,this._wheelObj=i}function P(t,o,l,a){if(0!=parseInt(Math.abs(o))&&(!t||this._vertDiv)&&(t||this._horiDiv)){var n=this[t?"_vertDiv":"_horiDiv"],r=a[t?"vertbcr":"horbcr"]||n.getBoundingClientRect(),s=n.children[0],d="scrollTop",p="scrollHeight",c="height",h="top",u=this._direction;t||(d="scrollLeft",p="scrollWidth",c="width",h="left");var y=(a.bcr[c]-(r[h]-a.bcr[h]))/a[p],m=a[d]/a[p],g=this._scrollData.minLength,f=g?"auto"!=g?g:0:.1*a.bcr[c];i(s,c,Math.max(y*a.bcr[c],f)+"px"),"rtl"==u&&s._direction?e.safari&&!window.chrome||e.firefox?i(s,h,a[d]/a[p]*100+"%"):i(s,h,-(a[p]-a.bcr[c]-a[d])/a[p]*100+"%"):i(s,h,m*(a.bcr[c]-(r[h]-a.bcr[h])-Math.max(0,f-y*a.bcr[c]))+"px"),this.prevScrlLeft=a.scrollLeft,this.prevScrlTop=a.scrollTop,l.type&&b.call(this,t?0:o,t?o:0,a,l)}}function C(t){var e=t.target.correspondingElement||t.target;e!=document&&e!=document.body&&e._scrollFun&&e._scrollFun.call(e,t),t._byFunc&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}lyteDomObj.prototype.removeScroll=function(){for(var t=0;t<this.length;t++){var e=this[t],o=e.parentElement;e._scrollData&&delete e._scrollData;for(var i=o.querySelectorAll("div.lyteScrollContainer"),l=0;l<i.length;l++)i[l].parentElement==o&&o.removeChild(i[l]);e.classList.remove("lyteScrollBar","eventBinded"),e.removeEventListener("mouseenter",n,!0),e.removeEventListener("wheel",a,!0),e.removeEventListener("touchstart",n,!0),o.removeEventListener("mouseleave",s,!0),e.removeEventListener("mousedown",h),e.removeEventListener("touchmove",y,{passive:!1}),e.removeEventListener("scroll",f,!0),clearTimeout(e._tchtime),delete e._wheelObj,delete e._vertDiv,delete e._horiDiv,delete e._scrollFun,delete e._alivetime,delete e._alive,delete e._wheelObj,delete e.resetScrollbar,delete o._scrolldiv,delete e._tchtime}return this},lyteDomObj.prototype.scroll=function(t){(t=t||{}).showOn=t.showOn||"hover",t.keyStep=t.keyStep||30,t.wheelSpeed=t.wheelSpeed||1,t.preventOnEnd=void 0==t.preventOnEnd||t.preventOnEnd,t.offset=t.offset||{x:0,y:0},t.tOut=t.scrollTimeout||500;for(var l=0;l<this.length;l++){var r,d=this[l],p=d.parentElement;i(p,"position","relative"),d.resetScrollbar=n.bind(this[l]),d._scrollData&&$L(d).removeScroll(),p._scrolldiv=d,d._scrollData=t,t.preventVertical||(r=o.call(d,"lyteScrollContainer lyteScrollContainerY",t),"left"==t.verticalPosition&&r.classList.add("left")),t.preventHorizontal||(r=o.call(d,"lyteScrollContainer lyteScrollContainerX",t,!0),"top"==t.horizontalPosition&&r.classList.add("top")),e.firefox&&(d.scrollLeft=0,d.scrollTop=0),d.addEventListener("mouseenter",n,!0),d.addEventListener("touchstart",n,!0),d.addEventListener("touchmove",y,{passive:!1}),d.addEventListener("mousedown",h),d.addEventListener("wheel",a,!0),"always"!=t.showOn?p.addEventListener("mouseleave",s,!0):setTimeout(n.bind(this[l]),100,{}),d.classList.add("lyteScrollBar"),d._scrollFun=f}return this},lyteDomObj.prototype.destroyLyteScroll=function(){return $L(".lyteScrollBar").removeScroll(),window.removeEventListener("scroll",C,!0),this},window.addEventListener("scroll",C,!0)}}(window),lyteDomObj&&(lyteDomObj.prototype.search=function(t){if((t=t||{}).scope){"string"==typeof t.scope?document.body.querySelector(t.scope.trim()):t.scope;var e=this[0];e._searchPluginData=t,"accordion"==t.component?t.related="lyte-accordion-item":"tree"==t.component&&(t.related=".lyteTreeBodyDiv lyte-yield:not(.noChildClass) lyte-tree-icon"),e.setValue=function(t){t=void 0!=t?t:"","LYTE-INPUT"==this.tagName?this.ltProp({value:t}):this.value=t;var e=new Event("keyup");e.keyCode=8,this.dispatchEvent(e)};var o=function(t){t=t||{};var e=this._searchPluginData,o=l.call(this,t),i=o[0],s=o[1],d=o[2],p=o[3],c=e.minLength?e.minLength:0,h=e.method?e.method:"contains",u="LYTE-INPUT"==this.tagName?this.querySelector("input,textarea").value:this.value,y=[],m=e.component,g=[];if(u.length>=c||8==t.keyCode){if(u.length)for(var f=0;f<i.length;f++){var v=i[f].trim().toLowerCase();a(h,u=u.toLowerCase(),v)?y.push(d[f]):g.push(d[f])}else y=Array.apply(Array,d);if(e.onSearch&&0==e.onSearch(y,t,u))return;for(f=0;f<i.length;f++)v=i[f].trim().toLowerCase(),u=u.toLowerCase(),r.call(this,s[f],a(h,u,v),u);if(/tree|accordion/.test(m))"accordion"==m?$L.fastdom.measure(function(t,e,o){for(var i=$L(this._searchPluginData.scope)[0],l=0;l<t.length;l++){for(var a=$L(t[l]).closest("lyte-accordion-item",i),n=0;n<e.length;n++){var r=$L(e[n]).closest("lyte-accordion-item",i);a[0]!=r[0]||(Lyte.arrayUtils(e,"removeAt",n),n--)}if(t[l+1]){var r=$L(t[l+1]).closest("lyte-accordion-item",i);a[0]==r[0]&&(Lyte.arrayUtils(t,"removeAt",l+1),l--)}}$L.fastdom.mutate(function(){for(var i=0;i<t.length;i++){var l=!1,a=$L(t[i]).closest("lyte-accordion-item");l=!a.hasClass("lyteAccordionActive"),o||(l=!l),l&&a.click()}for(var n=0;n<e.length;n++){var a=$L(e[n]).closest("lyte-accordion-item");a.hasClass("lyteAccordionActive")&&a.click()}})}.bind(this,y,g,u)):"tree"==m&&$L.fastdom.measure(function(t,e,o,i){for(var l=$L(this._searchPluginData.scope)[0],a=0;a<t.length;a++){var r=$L(t[a]).closest(".lyteTreeBodyDiv");for(j=0;j<e.length;j++){var s=$L(e[j]).closest(".lyteTreeBodyDiv");r[0].contains(s[0])?(s.addClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j)):s[0].contains(r[0])&&(s.removeClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j))}}for(var a=0;a<t.length;a++)n(t[a],l),o.length&&l.ltProp("stateAttr",$L(t[a]).closest("lyte-tree-body").attr("data-value"));if(o.length)for(var a=0;a<e.length;a++)$L(e[a]).closest(".lyteTreeBodyDiv").addClass("lyteSearchHidden");else!function(t){for(var e=t.length-1;e>=0;e--){var o=t.eq(e);o.hasClass("lyteIconOpened")&&setTimeout(o.click.bind(o),20)}}($L("lyte-yield:not(.noChildClass) lyte-tree-icon",l))}.bind(this,y,g,u));else for(f=0;f<p.length;f++)p[f].querySelectorAll(e.target||e.search).length==p[f].querySelectorAll(".lyteSearchHidden").length?p[f].classList.add("lyteSearchHidden"):p[f].classList.remove("lyteSearchHidden")}},i=function(t){for(var e=[],o=[],l=0;l<t.childElementCount;l++){for(;t.children[l].childElementCount;){returnedVal=i(t.children[l]),e=e.concat(returnedVal[0]),o=o.concat(returnedVal[1]);break}t.children[l].childElementCount||(e.push(t.children[l].textContent),o.push(t.children[l]))}return[e,o]},l=function(){var t=this._searchPluginData,e="string"==typeof t.scope?document.querySelector(t.scope):t.scope,o=[],l=[],a=[],n=[];if(t.search){a=e.querySelectorAll(t.search.trim());for(var r=t.target?t.target:t.search,s=0;s<a.length;s++)o.push(a[s].textContent);l=e.querySelectorAll(r)}else{var d=i(e);o=d[0],a=(l=d[1]).slice()}return t.related&&(t.target||t.scope)&&(n=e.querySelectorAll(t.related)),[o,l,a,n]};e.addEventListener("keyup",function(t){[37,13,38,39,40,91,27,16,18].indexOf(t.keyCode)>-1||(this._searchPluginData,clearTimeout(this.timeout),clearTimeout(this._iptime),this.timeout=setTimeout(o.bind(this),100,t))}),e.addEventListener("input",function(t){clearTimeout(this._iptime),this._iptime=setTimeout(o.bind(this),30,t)}),e.reset=o.bind(e)}else console.error("scope is not given");function a(t,e,o){var i;switch(t){case"contains":i=o.indexOf(e.toLowerCase())>=0;break;case"startsWith":i=0==o.indexOf(e.toLowerCase());break;case"endsWith":var l=o.lastIndexOf(e.toLowerCase());-1!=l&&(i=l+e.length==o.length)}return i}function n(t,e){var o=$L(t).closest(".lyteSearchHidden",e);o.length&&(o.removeClass("lyteSearchHidden"),n(t,e))}function r(t,e,o){var i=this._searchPluginData,l=i.component;if(i.scope.constructor==String?document.querySelector(i.scope):i.scope,e){if("dropdown"==l){var a=$L(t).closest("lyte-drop-box")[0];a&&a.classList.contains("lyteDropdownHidden")&&a.origindd.toggle()}t.classList.remove("lyteSearchHidden")}else if("tree"!=l){if(t.classList.contains("lyteSearchHidden"))return;t.classList.add("lyteSearchHidden")}}}),function(t,e){var o,i,l,a={},n=[],r=[],s={},d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"meta",92:"meta",93:"meta",224:"meta"},p={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",187:"plus",188:"<",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c={_:"-",plus:"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/","~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0"};function h(t){for(var e=1;e<=12;e++)if(t.toLowerCase()==="f"+e)return!0;return!1}function u(t){for(var e,o,i,l=y(t),a=[],n=0;n<l.length;n++)"ctrl"===(o=(o=l[n]).toLowerCase())||"command"===o||"alt"===o||"shift"===o?(l[n]="command"===l[n]?"meta":l[n],-1!=t.indexOf("+")&&(a.push(l[n]),l.splice(n,1),n--)):h(l[n])?l[n]=l[n].toLowerCase():(e=l[n],c[e]&&-1!=t.indexOf("+")&&(a.push("shift"),l[n]=c[l[n]]));return-1!==t.indexOf("+")?(l=l.join("+"),i=!0):(l=l.join(" "),i=!1),{modifier:a,newKey:l,modifierFlag:i}}function y(t){return-1!==t.indexOf("+")?t.split("+"):t.split(" ")}function m(e,o,l,a){if(o)f(),i=setTimeout(function(){var o;(o=!1!==(o=e.call(t,l,a))||o)||l.preventDefault(),s={},n=[],r=[]},o);else{f();var d=e.call(t,l,a);(d=!1!==d||d)||l.preventDefault(),s={},n=[],r=[]}}function g(t,o){(function(t){var o=t;switch(t.tagName){case"BUTTON":case"LYTE-ACCORDION-ITEM":case"LYTE-NAV-ITEM":return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length);case"LYTE-MENU-ITEM":for(;"LYTE-MENU-BODY"!==o.tagName;)o=o.parentElement;for(var i=o.parent.ltProp("query"),l=e.querySelectorAll(i),a=0;a<l.length;a++)if(l[a].offsetWidth||l[a].offsetHeight||l[a].getClientRects().length)return!0;return!1}})(t="LYTE-BUTTON"===t.tagName?t.querySelector("button"):t)&&(o?(f(),l=setTimeout(function(){t.click(),s={},n=[],r=[]},o)):(f(),t.click(),s={},n=[],r=[]))}function f(){clearTimeout(i),clearTimeout(l)}function v(t){var i,l;if(!(i=e.activeElement,("INPUT"===(l=i.tagName)&&-1===["checkbox","radio","file","color","range"].indexOf(i.type)||"true"===i.getAttribute("contenteditable")||"SELECT"===l||"TEXTAREA"===l)&&!i.classList.contains("lyte-shortcut"))){var h=function(t){var e=t.which;return d[e]?d[e]:p[e]?t.shiftKey?p[e]:c[p[e]]:String.fromCharCode(e).toLowerCase()}(t);d[t.which]?r.push(d[t.which]):(n.push(h),r.push(h)),function(t){for(var e in a){if(-1!==e.indexOf("r:")){var o=e.substring(2).match(new RegExp("^/(.*?)/([gimy]*)$"));if(new RegExp(o[1],o[2]).test(n.join(""))){s[e]=1;continue}s[e]=0}var i,l=y(e);if(s[e]=i=s[e]?s[e]:0,!c[l[i]]||"shift"!==t){if(c[t]&&c[t]===l[i]){for(var r=a[e],d=!1,p=0;p<r.length;p++)if(r[p].modifierFlag&&-1!==r[p].modifier.indexOf("shift")){s[e]++,d=!0;break}if(d)continue}l[i]===t?s[e]++:s[e]=0}}}(h);var u=function(t){var e=[],o=function(t){var e=[];return t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.shiftKey&&e.push("shift"),t.metaKey&&e.push("meta"),e}(t);for(var i in s)if(-1!==i.indexOf("r:")&&s[i]>0)(n=a[i])._invokedKey=i,e.push(n);else for(var l=0;l<a[i].length;l++){var n;(n=a[i][l]).modifierFlag&&s[i]===y(i).length&&n.modifier.sort().join(" ")===o.sort().join(" ")?(n._invokedKey=0!==n.modifier.sort().length?n.modifier.sort().join("+")+"+"+i:i,e.push(n),s[i]=0):n.modifierFlag||s[i]!==y(i).length||r.length!==y(i).length||(n._invokedKey=i,e.push(n),s[i]=0)}return e}(t);clearTimeout(o),o=setTimeout(function(){s={},n=[],r=[]},1e3),u.length&&function(t,e){for(var o=0;o<t.length;o++){t[o].type;var i=t[o].value,l=t[o].wait,a=t[o]._invokedKey;"function"==typeof i?m(i,l,e,a):g(i,l)}}(u,t)}}function D(t,e,o){L.push({newKey:t,oldKey:void 0,value:e,options:o})}function b(t){return t=t.replace(/\s+/i," ")}function P(t,e,o){t="r:"+t;var i=o.wait?o.wait:0,l=typeof e;a[t]={type:l,value:e,wait:i}}function C(t){var e=u(b(t)),o=a[e.newKey];if(o)for(var i=0;i<o.length;i++){if(e.modifierFlag&&o[i].modifier.sort().join(" ")===e.modifier.sort().join(" ")){a[e.newKey].splice(i,1);break}if(!e.modifierFlag){a[e.newKey].splice(i,1);break}}}function L(t){!function(){for(var t=0;t<=9;t++)d[t+96]=t.toString();for(t=1;t<=12;t++)d[111+t]="f"+t;navigator.userAgent.match("Firefox")?(p[59]=":",p[173]="_"):(p[186]=":",p[189]="_")}(),t.addEventListener("keydown",v)}Object.defineProperty(L,"push",{writable:!1,value:function(t){var e=t.oldKey;if(e&&L.unregister(e),t.newKey){var o=b(t.newKey);if("regex"!==t.type){var i,l=t.value,n=u(o);i=t.options&&t.options.wait?t.options.wait:0;var r=typeof l;if(a[n.newKey]){for(var s=!0,d=0;d<a.length;d++)if(a[d].modifier.sort().join(" ")===n.modifier.sort().join(" ")){a[n.newKey][d]={type:r,value:l,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i},s=!1;break}s&&a[n.newKey].push({type:r,value:l,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i})}else a[n.newKey]=[{type:r,value:l,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i}]}else P(o,t.value,options)}}}),Object.defineProperty(L,"register",{writable:!1,value:function(t,e,o){o&&"regex"===o.type&&P(t,e,o);var i=typeof t;"string"===i||"object"===i?"object"===i?function(t,e,o){for(var i=0;i<t.length;i++)D(t[i],e,o)}(t,e,o):D(t,e,o):console.error("Invalid Type")}}),Object.defineProperty(L,"unregister",{writable:!1,value:function(t){if("object"==typeof t)for(var e=0;e<t.length;e++){C(t[e])}else C(t)}}),Object.defineProperty(L,"unregisterAll",{writable:!1,value:function(){for(var t in a)delete a[t]}}),L(e),t.shortcut=L}(window,document),function(t){lyteDomObj&&(manageSortable={keyPressed:!1,keyValue:0,countSortable:0,init:!1,prevSortable:!1,isEqual:function(t,e){if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(-1==e.indexOf(t[o]))return!1;return!0},convertToArrayOfItems:function(t){if("string"!=typeof t&&t.length>0)return t;var e=[];return t.split(",").forEach(function(t,o){var i=$L(t.trim());if(i.length)for(var l=0;l<i.length;l++)-1==e.indexOf(i[l])&&e.push(i[l]);else-1==e.indexOf(i)&&e.push(i)}),e},destroy:function(t){if(t.classList.contains("sortable-parent")){for(var e=Array.from(t.children).filter(function(t){return"TEMPLATE"!=t.tagName}),o=t.getSortableClass(),i=0;i<e.length;i++)e[i].classList.remove("sortable-element",o),e[i]._sortableData&&(e[i]._sortableData=null);t._mousedown&&(t.removeEventListener("mousedown",t.__mouseDownEvent),t.removeEventListener("touchstart",t.__mouseDownEvent,!0),t._mousedown=!1),t.classList.remove("sortable-parent"),t._sortableData=null}else console.info("ALERT! - U have already destroyed its sortable behaviour.")},cancel:function(t){if(t.classList.contains("sortable-parent")){for(var e=t.children,o=e.length-1;o>=0;o--)if(e[o]._pos!=o){for(var i,l=o;l>=0;l--)if(e[l]._pos==o){i=e[l];break}o==e.length-1?LyteComponent.appendChild(t,i):LyteComponent.insertBefore(e[o+1],i)}}else console.info("ALERT! - The element is not a sortable parent.")},alreadySortable:function(t){for(var e=0;e<t.length;e++)if($L(t[e]).hasClass("sortable-parent")&&t[e]._sortableData)return{found:!0,class:t[e]._sortableData.sortableElemClass};return{found:void 0}},isOver:function(t,e,o){var i,l;if(o){if((i=manageSortable.prevSortable?manageSortable.prevSortable.getBoundingClientRect():null)&&(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom))manageSortable.prevSortable&&manageSortable.prevSortable._sortableData&&manageSortable.prevSortable._sortableData.onLeave&&(manageSortable.prevSortable._sortableData.onLeave(t,{element:e._element,sortable:manageSortable.prevSortable,placeholder:e._placeholder}),manageSortable.prevSortable=!1);else if((l=document.querySelectorAll(e.connectToSortable)).length)for(var a=0;a<l.length;a++){var n=l[a].getBoundingClientRect();if(t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom){(!manageSortable.prevSortable||manageSortable.prevSortable&&!manageSortable.prevSortable.isEqualNode(l[a]))&&(manageSortable.prevSortable=l[a],manageSortable.prevSortable._sortableData&&manageSortable.prevSortable._sortableData.onEnter&&manageSortable.prevSortable._sortableData.onEnter(t,{element:e._element,sortable:manageSortable.prevSortable,placeholder:e._placeholder}));break}}}else if((i=manageSortable.prevSortable?manageSortable.prevSortable.getBoundingClientRect():null)&&(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom))manageSortable.prevSortable&&manageSortable.prevSortable._sortableData&&manageSortable.prevSortable._sortableData.onLeave&&(manageSortable.prevSortable._sortableData.onLeave(t,{element:e._div,sortable:manageSortable.prevSortable,placeholder:e._placeholder}),manageSortable.prevSortable=!1);else if((l=e.connectedWith.length?e.connectedWith:[e._parentElem]).length)for(a=0;a<l.length;a++){n=l[a].getBoundingClientRect();if(t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom){(!manageSortable.prevSortable||manageSortable.prevSortable&&!manageSortable.prevSortable.isEqualNode(l[a]))&&(manageSortable.prevSortable=l[a],manageSortable.prevSortable._sortableData&&manageSortable.prevSortable._sortableData.onEnter&&manageSortable.prevSortable._sortableData.onEnter(t,{element:e._div,sortable:manageSortable.prevSortable,placeholder:e._placeholder}));break}}}},lyteDomObj.prototype.sortable=function(e){var o,i,l,a;if(manageSortable.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),Array.from||(Array.from=(o=Object.prototype.toString,i=function(t){return"function"==typeof t||"[object Function]"===o.call(t)},l=Math.pow(2,53)-1,a=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),l)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,l=arguments.length>1?arguments[1]:void 0;if(void 0!==l){if(!i(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var n,r=a(e.length),s=i(this)?Object(new this(r)):new Array(r),d=0;d<r;)n=e[d],s[d]=l?void 0===o?l(n,d):l.call(o,n,d):n,d+=1;return s.length=r,s})),manageSortable.init=!0),"string"!=typeof e||"destroy"!==e)if("string"!=typeof e||"cancel"!==e){var n=e||{};if(!(this.length>1)){var r=void 0==this.length?this:this[0];if(r._sortableData){var s=r._sortableData;n._parentElem=void 0==n._parentElem?s._parentElem:n._parentElem,n.containment=n.containment?n.containment:s.containment,n.connected=n.connectedWith?manageSortable.isEqual(n.connectedWith,s.connectedWith):s.connected,n.connectedWith=n.connectedWith?n.connectedWith:s.connectedWith,n.orientation=n.orientation?n.orientation:s.orientation,n.droppable=void 0==n.droppable?s.droppable:n.droppable,n.draggable=void 0==n.draggable?s.draggable:n.draggable,n.sortableElemClass=s.sortableElemClass,n.placeholder=n.placeholder?n.placeholder:s.placeholder,n.disabled=n.disabled?n.disabled:s.disabled,n.onReady=n.onReady?n.onReady:s.onReady,n.onSelect=n.onSelect?n.onSelect:s.onSelect,n.onDragStart=n.onDragStart?n.onDragStart:s.onDragStart,n.onDrag=n.onDrag?n.onDrag:s.onDrag,n.onPlaceholder=n.onPlaceholder?n.onPlaceholder:s.onPlaceholder,n.onBeforeDrop=n.onBeforeDrop?n.onBeforeDrop:s.onBeforeDrop,n.onDrop=n.onDrop?n.onDrop:s.onDrop,n.cancel=void 0==n.cancel?s.cancel:n.cancel instanceof Array?n.cancel:n.cancel.split(","),n.tolerance=n.tolerance?n.tolerance:s.tolerance,n.items=void 0==n.items?s.items:n.items instanceof Array?n.items:n.items.split(","),n.cursorAt=void 0==n.cursorAt?s.cursorAt:n.cursorAt,n.restrict=void 0==n.restrict?s.restrict:n.restrict instanceof Array?n.restrict:n.restrict.split(","),n.scrollDivX=void 0==n.scrollDivX?s.scrollDivX:"string"==typeof n.scrollDivX?document.querySelector(n.scrollDivX):n.scrollDivX,n.multiSelect=void 0==n.multiSelect?s.multiSelect:!0===n.multiSelect,n.omitRestricted=void 0==n.omitRestricted?s.omitRestricted:n.omitRestricted,n.onEnter=n.onEnter?n.onEnter:s.onEnter,n.onLeave=n.onLeave?n.onLeave:s.onLeave,n.animateMove=n.animateMove?n.animateMove:s.animateMove,$L(r).hasClass("sortable-parent")||$L(r).addClass("sortable-parent"),n.executeOnReady&&(n._parentElem.executedOnReady=!1)}else n.connected||n.changed||(++manageSortable.countSortable,n.changed=!0),n._parentElem=r,$L(n._parentElem).addClass("sortable-parent"),n.containment=n.containment,n.connectedWith=n.connectedWith?n.connectedWith:[],n.orientation=n.orientation?n.orientation:"default",n.droppable=void 0==n.droppable||n.droppable,n.draggable=void 0==n.draggable||n.draggable,n.sortableElemClass=n.sortableElemClass?n.sortableElemClass:r.parentElement&&r.parentElement._sortableData?r.parentElement._sortableData.sortableElemClass:"horizontal"===n.orientation?"sortable-element-h"+manageSortable.countSortable:"vertical"===n.orientation?"sortable-element-v"+manageSortable.countSortable:"sortable-element-d"+manageSortable.countSortable,n.placeholder=n.placeholder?n.placeholder:"lyteSortablePlaceholder",n.disabled=n.disabled?n.disabled:"lyteSortableDisabledPlaceholder",n.cancel=void 0==n.cancel?[]:n.cancel instanceof Array?n.cancel:n.cancel.split(","),n.tolerance=n.tolerance?n.tolerance:"intersect",n.items=void 0==n.items?[]:n.items instanceof Array?n.items:n.items.split(","),n.cursorAt=n.cursorAt,n.restrict=void 0==n.restrict?[]:n.restrict instanceof Array?n.restrict:n.restrict.split(","),n.scrollDivX=n.scrollDivX?"string"==typeof n.scrollDivX?document.querySelector(n.scrollDivX):n.scrollDivX:void 0,n.multiSelect=!0===n.multiSelect,n.omitRestricted=void 0!=n.omitRestricted&&n.omitRestricted;var d,p,c,h,u,y=[0,0],m=0,g=0,f="",v="",D=0,b=0,P=null,C=null,L=!1,x=!1,S=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,w=t.cancelAnimationFrame||t.mozCancelAnimationFrame,_=0,M=0,E=[],T=null,R=null,k=null,A=null,N=null,B=null,I=function(e){"touchmove"==e.type&&e.preventDefault(),L&&P&&(w(P),L=!1,P=null),x&&C&&(w(C),x=!1,C=null);for(var o=e.target;o&&o!=document;){if($L(o).hasClass("sortable-element-selected")){h=o;break}o=o.parentElement}if(h){var i=h._sortableData;if(i&&i._isDown){e.preventDefault(),void 0!==document.body.style.MozUserSelect&&(document.body.style.MozUserSelect="none"),v=i._div,f=i._placeholder,y=i._offset,m=i._marginTop,g=i._marginLeft,c=i.sortableElemClass;var l,a=h.getBoundingClientRect();if(i.multiSelect&&(E=v.parentElement._multiSelectedItems),D=i.scrollDivX?i.scrollDivX.scrollLeft:0,!i._placedPlaceholder){i.onDragStart&&W(i),a=h.getBoundingClientRect(),i.containment?i.containmentDimensions=Q(i,h):i.containmentDimensions=null;var n=a.width,r=a.height,s=0,u=h.offsetParent;for(_=i.scrollDivX?i.scrollDivX.scrollWidth-i.scrollDivX.clientWidth:0,i._maxScrollWidth=_,"table"==u.tagName.toLowerCase()&&""==(s=u.cellSpacing)&&(s=2);("table"==u.tagName.toLowerCase()||"lyte-table-structure"==u.tagName.toLowerCase())&&""==u.style.position;)u=u.offsetParent;(V=nt(v))&&!u.isEqualNode(V)&&(u=V);var T=u.getBoundingClientRect();if(v.style.top=a.top-(T.top+parseInt(s)+parseInt(m))+"px",v.style.left=a.left+D-(T.left+parseInt(g))+"px",v.style.boxSizing="border-box",v.style.zIndex=3001,v.style.width=n+"px",v.style.height=r+"px","tr"!=h.tagName.toLowerCase()&&"lyte-tr"!=h.tagName.toLowerCase()||at(h),f.innerHTML="",$L(f).attr("id","dummy"),$L(f).removeClass("sortableElem"),f.style.width=a.width+"px",i.multiSelect){f.style.height=a.height*E.length+"px";for(var k=0;k<E.length;k++)E[k].classList.add("lyteSortableElem")}else f.style.height=a.height+"px",v.classList.add("lyteSortableElem");f.style.padding="0px",LyteComponent.insertBefore(v,f),v.style.position="absolute",i._placedPlaceholder=!0,i._div=v,i._placeholder=f,i._prevTop=e.clientY,i.animateMove&&(B={move:"up",div:v.nextElementSibling},vt(v),f.style.display="none",v.style.position="relative")}i.containment&&(i.containmentDimensions=Q(i,h)),(l=lt(f))&&(!N||N&&!N.isEqualNode(l))&&(M=l.scrollHeight-l.offsetHeight,N=l);var A=!1;if(l&&"relative"==t.getComputedStyle(l).position?(A=!0,b=l.scrollTop):b=0,"mousemove"==e.type?d={x:e.clientX,y:e.clientY}:"touchmove"==e.type&&(d={x:e.touches[0].clientX,y:e.touches[0].clientY}),i.multiSelect&E.length>1){n=a.width,r=a.height,u=v.offsetParent;(V=nt(v))&&!u.isEqualNode(V)&&(u=V);T=u.getBoundingClientRect(),f.getBoundingClientRect();var I=0;i._isRelative&&(I=D),v.style.left=d.x-y[0]-T.left-parseInt(g)+I+"px",v.style.top=d.y-y[1]-T.top-parseInt(m)+b+"px";var F=E.indexOf(v);for(k=F-1;k>=0;k--)E[k].style.left=v.offsetLeft+"px",E[k].style.top=E[k+1].offsetTop-a.height+"px",E[k].style.boxSizing="border-box",E[k].style.zIndex=3001,E[k].style.height=r+"px",E[k].style.width=n+"px",E[k].style.position="absolute";for(k=F+1;k<E.length;k++)E[k].style.left=v.offsetLeft+"px",E[k].style.top=E[k-1].offsetTop+a.height+"px",E[k].style.boxSizing="border-box",E[k].style.zIndex=3001,E[k].style.height=r+"px",E[k].style.width=n+"px",E[k].style.position="absolute";var O=it();a=v.getBoundingClientRect();var H=l?l.getBoundingClientRect():0;l&&a.left<=H.right&&a.right>=H.left&&(P=S($.bind(this,i,l,H,M,O,A,d,y,T)),L=!0);var Y=[];for(k=0;k<E.length;k++)Y.push(E[k].style.display?E[k].style.display:""),E[k].style.display="none";p=document.elementFromPoint(d.x,d.y);for(k=0;k<E.length;k++)E[k].style.display=Y[k];if(!p)return;if(droppablePlace=p.closest("."+c),droppablePlace&&rt(droppablePlace,h.parentElement,h,i.connectedWith,i.containmentDimensions,d))$L(p).hasClass("sortable-parent")&&st(p,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)&&pt(p,d)&&ct(p,d,h,A,l)?LyteComponent.appendChild(p,f):O.bottom-O.top>=droppablePlace.offsetHeight?LyteComponent.insertBefore(droppablePlace,f):("pointer"==i.tolerance&&(e.clientY<i._prevTop?LyteComponent.insertBefore(droppablePlace,f):LyteComponent.insertAfter(droppablePlace,f),i._prevTop=e.clientY),"intersect"==i.tolerance&&(H=droppablePlace.getBoundingClientRect(),O.top<H.top?LyteComponent.insertBefore(droppablePlace,f):O.bottom>H.bottom&&LyteComponent.insertAfter(droppablePlace,f)));else if(R&&R>O.top){if(!(p=document.elementFromPoint(d.x,O.top-1)))return;droppablePlace=p.closest("."+c),droppablePlace&&"dummy"!=droppablePlace.id&&O.top<droppablePlace.getBoundingClientRect().top+droppablePlace.getBoundingClientRect().height/2?LyteComponent.insertBefore(droppablePlace,f):p&&$L(p).hasClass("sortable-parent")&&st(p,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)&&pt(p,d)&&ct(p,d,h,A,l)&&LyteComponent.appendChild(p,f)}else{if(!(p=document.elementFromPoint(d.x,O.bottom+1)))return;droppablePlace=p.closest("."+c),droppablePlace&&"dummy"!=droppablePlace.id&&O.bottom>droppablePlace.getBoundingClientRect().bottom-droppablePlace.getBoundingClientRect().height/2?LyteComponent.insertAfter(droppablePlace,f):p&&$L(p).hasClass("sortable-parent")&&st(p,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)&&pt(p,d)&&ct(p,d,h,A,l)&&LyteComponent.appendChild(p,f)}!i.onPlaceholder||G(i,p)?($L(f).hasClass(i.disabled)&&$L(f).removeClass(i.disabled),$L(f).addClass(i.placeholder)):($L(f).hasClass(i.placeholder)&&$L(f).removeClass(i.placeholder),$L(f).addClass(i.disabled)),R=O.top}else{var V;u=v.offsetParent;(V=nt(v))&&!u.isEqualNode(V)&&(u=V);var U,j;T=u.getBoundingClientRect(),I=0;i._isRelative&&(I=D),_lyteUiUtils.getRTL()&&"chrome"==ft()&&i._isRelative&&(I=D-i._maxScrollWidth),i.cursorAt?(U=d.x-i.cursorAt.left-T.left-parseInt(g)+I,j=d.y-i.cursorAt.top-T.top-parseInt(m)+b,i.containment?"horizontal"==i.orientation?U+T.left>=i.containmentDimensions.left&&U+T.left<=i.containmentDimensions.left+(i.containmentDimensions.width-a.width)&&(v.style.left=U+"px"):"vertical"==i.orientation?j+T.top>=i.containmentDimensions.top&&j+T.top<=i.containmentDimensions.top+(i.containmentDimensions.height-a.height)+b&&(v.style.top=j+"px"):(U+T.left>=i.containmentDimensions.left&&U+T.left<=i.containmentDimensions.left+(i.containmentDimensions.width-a.width)&&(v.style.left=U+"px"),j+T.top>=i.containmentDimensions.top&&j+T.top<=i.containmentDimensions.top+(i.containmentDimensions.height-a.height)+b&&(v.style.top=j+"px")):"horizontal"==i.orientation?v.style.left=U+"px":"vertical"==i.orientation?v.style.top=j+"px":(v.style.left=U+"px",v.style.top=j+"px")):(U=d.x-y[0]-T.left-parseInt(g)+I,j=d.y-y[1]-T.top-parseInt(m)+b,i.containment?"horizontal"==i.orientation?U+T.left>=i.containmentDimensions.left&&U+T.left<=i.containmentDimensions.left+(i.containmentDimensions.width-a.width)&&(v.style.left=U+"px"):"vertical"==i.orientation?j+T.top>=i.containmentDimensions.top&&j+T.top<=i.containmentDimensions.top+(i.containmentDimensions.height-a.height)+b&&(v.style.top=j+"px"):(U+T.left>=i.containmentDimensions.left&&U+T.left<=i.containmentDimensions.left+(i.containmentDimensions.width-a.width)&&(v.style.left=U+"px"),j+T.top>=i.containmentDimensions.top&&j+T.top<=i.containmentDimensions.top+(i.containmentDimensions.height-a.height)+b&&(v.style.top=j+"px")):"horizontal"==i.orientation?v.style.left=U+"px":"vertical"==i.orientation?v.style.top=j+"px":(v.style.left=U+"px",v.style.top=j+"px")),a=v.getBoundingClientRect();H=l?l.getBoundingClientRect():0;l&&a.left<=H.right&&a.right>=H.left&&(P=S($.bind(this,i,l,H,M,null,A,d,y,T)),L=!0),i.scrollDivX&&(H=i.scrollDivX.getBoundingClientRect(),(a.left<=H.left||a.right>=H.right)&&(C=S(q.bind(this,i,H,d,y,T,i._isRelative)),x=!0));Y=v.style.display?v.style.display:"";if(v.style.display="none",p=document.elementFromPoint(d.x,d.y),v.style.display=Y,!p)return;droppablePlace=p.closest("."+c),droppablePlace&&rt(droppablePlace,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)?$L(p).hasClass("sortable-parent")&&st(p,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)&&pt(p,d)&&ct(p,d,h)?LyteComponent.appendChild(p,f):("pointer"==i.tolerance&&(e.clientY<i._prevTop?i.animateMove?bt("up",droppablePlace,f,a.height,v):LyteComponent.insertBefore(droppablePlace,f):i.animateMove?bt("down",droppablePlace,f,a.height,v):LyteComponent.insertAfter(droppablePlace,f),i._prevTop=e.clientY),"intersect"==i.tolerance&&(H=droppablePlace.getBoundingClientRect(),a.top<H.top?i.animateMove?bt("up",droppablePlace,f,a.height,v):LyteComponent.insertBefore(droppablePlace,f):a.bottom>H.bottom&&(i.animateMove?bt("down",droppablePlace,f,a.height,v):LyteComponent.insertAfter(droppablePlace,f)))):p&&$L(p).hasClass("sortable-parent")&&st(p,h.parentElement,h,i.connectedWith,i.containmentDimensions,d)&&pt(p,d)&&ct(p,d,h,A,l)&&LyteComponent.appendChild(p,f),!i.onPlaceholder||G(i,p)?($L(f).hasClass(i.disabled)&&$L(f).removeClass(i.disabled),$L(f).addClass(i.placeholder)):($L(f).hasClass(i.placeholder)&&$L(f).removeClass(i.placeholder),$L(f).addClass(i.disabled))}i.onDrag&&z(i,droppablePlace,p,e),manageSortable.isOver(e,i),i._isMoved=!0,droppablePlace=null,p=null}}},F=function(e){var o=e.target;for(L&&P&&(w(P),L=!1,P=null),x&&C&&(w(C),x=!1,C=null);o&&o!=document;){if($L(o).hasClass("sortable-element-selected")){h=o;break}o=o.parentElement}if("mouseup"==e.type&&(document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",F)),"touchend"==e.type&&(document.removeEventListener("touchmove",I,!0),document.removeEventListener("touchend",F,!0)),manageSortable.prevSortable&&(manageSortable.prevSortable=!1),h){var i=h._sortableData,l=h.parentElement;if(i.multiSelect&&(E=l._multiSelectedItems),i._isDown){if(i._isDown=!1,v=i._div,f=i._placeholder,i._isMoved){i._isMoved=!1;var a=!0;if(i.animateMove&&Dt(v),i.multiSelect){if(i.onBeforeDrop&&(a=j(i,e)),et(E),$L(f).hasClass(i.disabled))return void ht(i,"multiple");if(!a)return void ht(i,"multiple");var n=(b=yt(f)?yt(f):mt(f))&&b._sortableData?b._sortableData:f.parentElement._sortableData,r=yt(f);if(r){f.remove();for(var s=0;s<E.length;s++)ut(E[s]),LyteComponent.insertAfter(r,E[s]),E[s]._sortableData=n,r=mt(r)}else{var u=mt(f);if(u){f.remove();for(s=E.length-1;s>=0;s--)ut(E[s]),LyteComponent.insertBefore(u,E[s]),E[s]._sortableData=n,u=yt(u)}else{var D=f.parentElement;f.remove();for(s=0;s<E.length;s++)ut(E[s]),LyteComponent.appendChild(D,E[s]),E[s]._sortableData=n}}E=[],f=null,T=null,!1,l._multiSelectedItems=[],i.onDrop&&X(i,e)}else{if(i.onBeforeDrop&&(a=j(i,e)),$L(f).hasClass(i.disabled))return void ht(i);if(!a)return void ht(i);var b;n=(b=yt(f)?yt(f):mt(f))&&b._sortableData?b._sortableData:f.parentElement._sortableData;LyteComponent.replaceWith(f,v),ut(v),f=null,v._sortableData=n,i.onDrop&&X(i,e)}}else i._checkSelection?(e.metaKey||e.ctrlKey?(v.classList.remove("sortable-element-selected"),Z(v)):e.shiftKey?(et(E),E=[],v.parentElement._multiSelectedItems=[],J(v,"multiple",v.parentElement)):(et(E),E=[],v.parentElement._multiSelectedItems=[],J(v,"single",v.parentElement)),i._checkSelection=!1):i.multiSelect||(ut(v),"a"==h.tagName.toLowerCase()&&(t.location.href=h.href));i._div=null,i._placeholder=null,i._placedPlaceholder=!1}else E.length>0&&(et(E),E=[],l._multiSelectedItems=[]);i.multiSelect||$L(h).removeClass("sortable-element-selected"),k=null,A=null,y=null,null,null,d=null,p=null,null,m=null,g=null,c=null,h=null,f=null,v=null,N=null}for(var S=e.target.ownerDocument.querySelectorAll(".lyteSortablePlaceholder"),_=0;_<S.length;_++)if(S[_]._callee){var M=S[_]._callee;LyteComponent.replaceWith(S[_],M),$L(M).removeClass("sortable-element-selected"),ut(M)}else S[_].remove();var R=e.target.ownerDocument.querySelectorAll(".sortable-element-selected");for(_=0;_<R.length;_++)$L(R[_]).removeClass("sortable-element-selected"),ut(R[_])};r.addToSortable=function(t){t._sortableData=r._sortableData,$L(t).addClass("sortable-element "+r._sortableData.sortableElemClass)},r.getSortableClass=function(){return r._sortableData.sortableElemClass};var q=function(t,e,o,i,l,a){var n=t._div.getBoundingClientRect();if(D=t.scrollDivX.scrollLeft,_=t._maxScrollWidth,!_lyteUiUtils.getRTL()||_lyteUiUtils.getRTL()&&"chrome"==ft()&&!a)if(n.right>=e.right&&D<_)_-D>=5?(t.scrollDivX.scrollLeft+=5,a&&(t._div.style.left=o.x-i[0]-l.left+5+D+"px")):(t.scrollDivX.scrollLeft+=5-(_-D),a&&(t._div.style.left=o.x-i[0]-l.left+(5-(_-D))+D+"px"));else{if(!(n.left<=e.left&&D>0))return w(C),x=!1,void(C=null);a&&(t._div.style.left=o.x-i[0]-l.left-(_-D>5?5:5-(_-D))+D+"px"),t.scrollDivX.scrollLeft-=5}else if("chrome"==ft()&&a)if(n.right>=e.right&&D<_)_-D>=5?(t.scrollDivX.scrollLeft+=5,a&&(t._div.style.left=o.x-i[0]-l.left+5+(D-_)+"px")):(t.scrollDivX.scrollLeft+=5-(_-D),a&&(t._div.style.left=o.x-i[0]-l.left+(5-(_-D))+D+"px"));else{if(!(n.left<=e.left&&D>0))return w(C),x=!1,void(C=null);a&&(t._div.style.left=o.x-i[0]-l.left-(_-D+5)+"px"),t.scrollDivX.scrollLeft-=5}else if("firefox"==ft()||"safari"==ft())if(n.right>=e.right&&D<0)_+D>=5?(t.scrollDivX.scrollLeft+=5,a&&(t._div.style.left=o.x-i[0]-l.left+5+D+"px")):(t.scrollDivX.scrollLeft+=5-(_+D),a&&(t._div.style.left=o.x-i[0]-l.left+(5-(_+D))+D+"px"));else{if(!(n.left<=e.left&&D>-_))return w(C),x=!1,void(C=null);a&&(t._div.style.left=o.x-i[0]-l.left+(D-5)+"px"),t.scrollDivX.scrollLeft-=5}else if("ie"==ft()||"edge"==ft())if(n.right>=e.right&&D>0)t.scrollDivX.scrollLeft-=D>=5?5:D;else{if(!(n.left<=e.left&&D<_))return w(C),x=!1,void(C=null);a&&(t._div.style.left=o.x-i[0]-l.left-D-5+"px"),t.scrollDivX.scrollLeft+=5}C=S(q.bind(this,t,e,o,i,l,a))},$=function(t,e,o,i,l,a,n,r,s){var d=t._div.getBoundingClientRect(),p=t._placeholder.parentElement.offsetTop-e.offsetTop+5,c=e.scrollTop;if(t.multiSelect&&l){if(l.top-parseInt(t._marginTop)<=o.top+p&&c>0)e.scrollTop-=10;else{if(!(l.bottom>=o.bottom&&c<e.scrollHeight-o.height))return w(P),L=!1,void(P=null);e.scrollTop+=10}P=S($.bind(this,t,e,o,i,l,a,n,r,s))}else{if(d.top-parseInt(t._marginTop)<=o.top+p&&c>0)a&&(t._div.style.top=n.y-r[1]-s.top-(i-c>=10?10:i-c)+c+"px"),e.scrollTop-=10;else{if(!(d.bottom>=o.bottom-3&&c<i))return w(P),L=!1,void(P=null);i-c>10?(a&&(t._div.style.top=n.y-r[1]-s.top+10+c+"px"),e.scrollTop+=10):(a&&(t._div.style.top=n.y-r[1]-s.top+i-c+c+"px"),e.scrollTop+=i-c)}P=S($.bind(this,t,e,o,i,l,a,n,r,s))}},O=function(t,e){for(var o=0;o<t.restrict.length;o++)if(e.matches(t.restrict[o]))return!1;return!0},H=function(t,e){if(!t.draggable)return!1;for(var o=0;o<t.cancel.length;o++)for(var i=e;i.parentElement;){if(i.matches(t.cancel[o]))return!1;if($L(i).hasClass("sortable-element"))break;i=i.parentElement}return!0},Y=function(t,e,o){if(t.omitRestricted)for(var i=0;i<o.length;i++)O(t,o[i])||(o.splice(i,1),--i);for(var l=0;l<o.length;l++)if("TEMPLATE"!=o[l].tagName&&e.isEqualNode(o[l]))return l},V=function(t){if(A=t._parentElem,t.omitRestricted){for(var e=Array.from(t._parentElem.children).filter(function(t){return"TEMPLATE"!=t.tagName}),o=0;o<e.length;o++)O(t,e[o])||(e.splice(o,1),--o);k=e.indexOf(t._div)}else k=Array.from(t._parentElem.children).filter(function(t){return"TEMPLATE"!=t.tagName}).indexOf(t._div)},U=function(t,e){var o=t.onSelect(t._div,k,t._parentElem,e);return void 0==o||o},W=function(t){t.onDragStart(t._div,t._parentElem)},z=function(t,e,o,i){u=e||o,t.onDrag(t._div,u,i)},j=function(t,e){var o=t.onBeforeDrop(t._div,u,t._placeholder,k,Y(t,t._placeholder,Array.from(t._placeholder.parentElement.children).filter(function(t){return"TEMPLATE"!=t.tagName&&!$L(t).hasClass("sortable-element-selected")})),A,t._placeholder?t._placeholder.parentElement:null,e);return void 0==o||o},X=function(t,e){t.onDrop(t._div,t._div._sortableData._parentElem,u,k,Y(t,t._div,Array.from(t._div._sortableData._parentElem.children).filter(function(t){return"TEMPLATE"!=t.tagName})),A,e)},G=function(t,e){if(e.id&&"dummy"==e.id)e=e.parentElement;else for(;e&&!$L(e).hasClass("sortable-parent");)e=e.parentElement;var o=t.onPlaceholder(t._div,t._placeholder,t._parentElem,t._placeholder?t._placeholder.parentElement:null);return void 0==o||o},K=n._parentElem.children;n._parentElem.__mouseDownEvent=function(e){if(3!=e.which){for(var o=e.target;o;){if($L(o).hasClass("sortable-element")){h=o;break}o=o.parentElement}if(h&&H(h._sortableData||h.parentElement._sortableData,e.target)&&gt(h._sortableData||h.parentElement._sortableData,e.target)){e.preventDefault(),$L(h).hasClass(h.parentElement._sortableData.sortableElemClass)||$L(h).addClass(h.parentElement._sortableData.sortableElemClass);var i=h._sortableData||h.parentElement._sortableData;(f=h.cloneNode())._callee=h,f.classList.remove("sortable-element-selected"),i._div=v=h;var l=!0;if(V(i),i.multiSelect?(E=v.parentElement._multiSelectedItems?v.parentElement._multiSelectedItems:[]).length>0&&-1!=E.indexOf(v)?(i._checkSelection=!0,l=!0):(i.onSelect&&(l=U(i,e)),l&&(e.metaKey||e.ctrlKey?v.classList.contains("sortable-element-selected")?(v.classList.remove("sortable-element-selected"),Z(v)):J(v,"single",v.parentElement):e.shiftKey?(v.classList.contains("sortable-element-selected")&&v.classList.remove("sortable-element-selected"),J(v,"multiple",v.parentElement)):v.classList.contains("sortable-element-selected")?((T="multiple")?(et(E),E=[],v.parentElement._multiSelectedItems=[],J(v,"single",v.parentElement)):(v.classList.remove("sortable-element-selected"),Z(v)),T="single"):(et(E),E=[],v.parentElement._multiSelectedItems=[],J(v,"single",v.parentElement)))):(i.onSelect&&(l=U(i,e)),l&&$L(v).addClass("sortable-element-selected")),l){var a=t.getComputedStyle(h),n=v.getBoundingClientRect();i.scrollDivX&&"relative"==t.getComputedStyle(i.scrollDivX).position?i._isRelative=!0:i._isRelative=!1,a.marginTop&&(m=a.marginTop),a.marginLeft&&(g=a.marginLeft),"mousedown"==e.type?y=[e.clientX-n.left,e.clientY-n.top]:"touchstart"==e.type&&(y=[e.touches[0].clientX-n.left,e.touches[0].clientY-n.top],h.addEventListener("touchmove",i._parentElem.__mouseMoveEvent,!0),h.addEventListener("touchend",i._parentElem.__mouseUpEvent,!0)),!i.multiSelect||v.parentElement._multiSelectedItems&&0!=v.parentElement._multiSelectedItems.length||(v.parentElement._multiSelectedItems=[v]),i._isDown=!0,i._placeholder=f,i._offset=y,i._marginTop=m,i._marginLeft=g,i._event=e,i._placedPlaceholder=!1,h._sortableData||(h._sortableData=i),f=null,v=null,h=null}"mousedown"==e.type&&(t.navigator.platform.indexOf("Win")>-1&&null!==t.chrome&&void 0!==t.chrome&&"Google Inc."===t.navigator.vendor&&void 0===t.opr&&-1==t.navigator.userAgent.indexOf("Edge")?setTimeout(function(){document.addEventListener("mousemove",I),document.addEventListener("mouseup",F)},16):(document.addEventListener("mousemove",I),document.addEventListener("mouseup",F)))}else h=null}},n._parentElem.__mouseMoveEvent=I,n._parentElem.__mouseUpEvent=F,n._parentElem._sortableData=n;for(Lt=0;Lt<K.length;Lt++)K[Lt]._pos=Lt,"TEMPLATE"!=K[Lt].tagName&&O(n,K[Lt])&&(K[Lt]._sortableData=n,$L(K[Lt]).addClass("sortable-element "+n.sortableElemClass));n.draggable&&!n._parentElem._mousedown&&(n._parentElem.addEventListener("mousedown",n._parentElem.__mouseDownEvent),n._parentElem.addEventListener("touchstart",n._parentElem.__mouseDownEvent,!0),n._parentElem._mousedown=!0),!n.connected&&n.connectedWith.length>0&&(n.connectedWith=manageSortable.convertToArrayOfItems(n.connectedWith),n.connectedWith.forEach(function(t){var e=n.connectedWith.concat();index=e.indexOf(t),e.splice(index,1),e.push(t),$L(t).sortable({_parentElem:$L(t)[0],connectedWith:e,connected:!0,droppable:n.droppable,draggable:n.draggable,placeholder:n.placeholder,disabled:n.disabled,orientation:n.orientation,cancel:n.cancel,items:n.items,cursorAt:n.cursorAt,restrict:n.restrict,scrollDivX:n.scrollDivX,multiSelect:n.multiSelect,omitRestricted:n.omitRestricted,sortableElemClass:n.sortableElemClass,animateMove:n.animateMove})})),n.onReady&&!n._parentElem.executedOnReady&&(!function(t){t.onReady(t._parentElem)}(n),n._parentElem.executedOnReady=!0);var Q=function(t,e){if("parent"==t.containment)return{left:(o=e.parentElement.getBoundingClientRect()).left,right:o.right,top:o.top,bottom:o.bottom,height:o.height,width:o.width,offsetLeft:e.parentElement.offsetLeft,offsetTop:e.parentElement.offsetTop};var o,i=void 0==$L(t.containment).length?null:$L(t.containment)[0];return{left:(o=i.getBoundingClientRect()).left,right:o.right,top:o.top,bottom:o.bottom,height:o.height,width:o.width,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop}},Z=function(t){var e=t.parentElement._multiSelectedItems;if(e.length>0){var o=e.indexOf(t);e.splice(o,1)}t.parentElement._multiSelectedItems=e},J=function(t,e,o){var i=o._multiSelectedItems?o._multiSelectedItems:[];if("single"===e){if(i.length>0)(l=i[i.length-1]).parentElement!=o?(et(i),i=[],l.parentElement._multiSelectedItems=i,J(t,e,o)):(t.classList.add("sortable-element-selected"),ot(t));else i.push(t),t.classList.add("sortable-element-selected");T=e}if("multiple"==e){var l;if("multiple"==T||null==T)if(i.length>0)if((l=i[i.length-1]).parentElement!=o)et(i),i=[],l.parentElement._multiSelectedItems=i,T="multiple",J(t,e,o);else{var a=(s=Array.from(o.children).filter(function(t){return"TEMPLATE"!=t.tagName})).indexOf(l),n=s.indexOf(t);if((n=s.indexOf(t))>a)for(var r=a+1;r<=n;r++)i.push(s[r]),s[r].classList.add("sortable-element-selected");else{et(i),i=[];for(r=n;r<=a;r++)i.push(s[r]),s[r].classList.add("sortable-element-selected")}}else for(n=(s=Array.from(o.children).filter(function(t){return"TEMPLATE"!=t.tagName})).indexOf(t),r=0;r<=n;r++)i.push(s[r]),s[r].classList.add("sortable-element-selected");if("single"==T)if(i.length>0&&i[i.length-1].parentElement==o){l=i[i.length-1];var s;a=(s=Array.from(o.children).filter(function(t){return"TEMPLATE"!=t.tagName})).indexOf(l);if((n=s.indexOf(t))>a)for(r=a+1;r<=n;r++)i.push(s[r]),s[r].classList.add("sortable-element-selected");else{et(i),i=[];for(r=n;r<=a;r++)i.push(s[r]),s[r].classList.add("sortable-element-selected")}}else et(i),i=[],l&&(l.parentElement._multiSelectedItems=i),T="multiple",J(t,e,o);T=e}tt(i),o._multiSelectedItems=i},tt=function(t){var e=Array.from(document.querySelectorAll(".sortable-element-selected"));if(e.length!=t.length)for(var o=0;o<e.length;o++)-1==t.indexOf(e[o])&&(e[o].classList.remove("sortable-element-selected"),e[o].parentElement._multiSelectedItems=[])},et=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove("sortable-element-selected")},ot=function(t){for(var e=0,o=0;o<E.length&&!(E[o].offsetTop>t.offsetTop);o++)++e;E.splice(e,0,t)},it=function(t){return{top:E[0].getBoundingClientRect().top,bottom:E[E.length-1].getBoundingClientRect().bottom}},lt=function(e){for(var o=e.parentElement;e.parentElement;)if(e=e.parentElement,o.scrollHeight>e.clientHeight&&("hidden"!=t.getComputedStyle(e).overflow&&"visible"!=t.getComputedStyle(e).overflow||e.matches(".lyteScrollBar")))return e;return null},at=function(t){for(var e=t.children,o=0;o<e.length;o++)"td"!=e[o].tagName.toLowerCase()&&"lyte-td"!=e[o].tagName.toLowerCase()||(e[o].style.width?e[o].style.width=e[o].style.width:$L(e[o]).width($L(e[o]).width()))},nt=function(t){for(;t.parentElement;){if(t=t.parentElement,"relative"==getComputedStyle(t).position)return t}return null},rt=function(t,e,o,i,l,a){if("dummy"!=t.id){o.parentElement.id,t.parentElement.id;if(l&&(a.x<l.left||a.x>l.right||a.y<l.top||a.y>l.bottom))return!1;if(o.parentElement.isEqualNode(t.parentElement)||t.parentElement.isEqualNode(o._sortableData._parentElem))return!0;if(-1!=i.indexOf(t.parentElement)&&t._sortableData.droppable)return!0}return!1},st=function(t,e,o,i,l,a){o.parentElement.id;return(!l||!(a.x<l.left||a.x>l.right||a.y<l.top||a.y>l.bottom))&&(!(!o.parentElement.isEqualNode(t)&&!t.isEqualNode(e))||!(-1==i.indexOf(t)||!dt(t)))},dt=function(t){for(var e,o=t.children,i=0;i<o.length;i++)if(o[i]!=t.querySelector("#dummy")&&"TEMPLATE"!=o[i].tagName&&$L(o[i]).hasClass("sortable-element")){e=o[i];break}return e&&e._sortableData?e._sortableData.droppable:t._sortableData.droppable},pt=function(e,o){var i=t.getComputedStyle(e),l=e.getBoundingClientRect();return o.x>l.left+parseFloat(i.paddingLeft||0)&&o.x<l.right-parseFloat(i.paddingRight||0)&&o.y>l.top+parseFloat(i.paddingTop||0)&&o.y<l.bottom-parseFloat(i.paddingBottom||0)},ct=function(t,e,o,i,l){for(var a=t.children,n=0,r=[],s=0;s<a.length;s++)"TEMPLATE"!=a[s].tagName&&"dummy"!=a[s].id&&O(t._sortableData,a[s])?r.push(a[s]):n++;return n==a.length||(!!(1==r.length&&r[r.length-1].isEqualNode(o)||r.length>1&&r[r.length-1].isEqualNode(o)&&o.getBoundingClientRect().top>r[r.length-2].getBoundingClientRect().bottom+(i?l.scrollTop:0))||o.getBoundingClientRect().top>r[r.length-1].getBoundingClientRect().bottom+(i?l.scrollTop:0))},ht=function(t){$L(t._div).removeClass("sortable-element-selected"),ut(t._div),t._placeholder.remove()},ut=function(t){t.style.position="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.zIndex="",t.style.boxSizing="",$L(t).removeClass("lyteSortableElem")},yt=function(t){for(;t.previousElementSibling;)if("TEMPLATE"!=(t=t.previousElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},mt=function(t){for(;t.nextElementSibling;)if("TEMPLATE"!=(t=t.nextElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},gt=function(t,e){if(!(t.items.length>0))return!0;for(var o=0;o<t.items.length;o++)for(var i=document.querySelectorAll(t.items[o]),l=0;l<i.length;l++)if(i[l].isEqualNode(e))return!0;return!1},ft=function(){return navigator.userAgent.search("rv:11")>=0?"ie":navigator.userAgent.search("Edge")>=0?"edge":navigator.userAgent.search("Chrome")>=0?"chrome":navigator.userAgent.search("Firefox")>=0?"firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?"safari":void 0},vt=function(t,e){for(var o=t.parentElement.children,i=0;i<o.length;i++)"TEMPLATE"!=o[i].tagName&&!o[i].isEqualNode(t)&&"dummy"!=o[i].id&&O(t.parentElement._sortableData,o[i])&&("null"===e&&o[i].classList.add("nullifyTransition"),o[i].style.transform="translateY(0)",o[i]._transform=0,"null"===e&&o[i].classList.remove("nullifyTransition"))},Dt=function(t){for(var e=t.parentElement.children,o=0;o<e.length;o++)"TEMPLATE"!=e[o].tagName&&!e[o].isEqualNode(t)&&"dummy"!=e[o].id&&O(t.parentElement._sortableData,e[o])&&(e[o].style.transform="")},bt=function(t,e,o,i,l){if(B.move!=t||!B.div.isEqualNode(e)){B={move:t,div:e};var a=Array.from(o.parentElement.children).filter(function(t){return"TEMPLATE"!=t.tagName&&!t.classList.contains("sortable-element-selected")}),n=a.indexOf(o),r=a.indexOf(e);if("up"==t){for(var s=n-1;s>=r;s--)console.log("height",i),a[s]._transform+=i,Math.abs(a[s]._transform),console.log("children[i]._transform=====up",a[s]._transform),a[s].style.transform="translateY("+a[s]._transform+"px)";setTimeout(function(){LyteComponent.insertBefore(e,f)},300)}if("down"==t){for(s=n+1;s<=r;s++)console.log("height",i),a[s]._transform-=i,Math.abs(a[s]._transform),console.log("children[i]._transform=====down",a[s]._transform),a[s].style.transform="translateY("+a[s]._transform+"px)";setTimeout(function(){LyteComponent.insertAfter(e,f)},300)}}};return this}Ct=this;n.changed||(++manageSortable.countSortable,n.changed=!0);var Pt=manageSortable.alreadySortable(this);Pt.found&&(n.sortableElemClass=Pt.class);for(Lt=0;Lt<Ct.length;Lt++)$L(Ct[Lt]).sortable(Object.assign({},n))}else if(this.length>1)for(var Ct=this,Lt=0;Lt<Ct.length;Lt++)manageSortable.cancel(Ct[Lt]);else manageSortable.cancel(this[0]);else if(this.length>1)for(var Ct=this,Lt=0;Lt<Ct.length;Lt++)manageSortable.destroy(Ct[Lt]);else manageSortable.destroy(this[0])})}(window),function(t){if(lyteDomObj){var e=function(){var e=new Map,o=new Map,i=0,l={fnId:0};return t.addEventListener("message",function(t){var e=t.data.fnId;e&&o[e]()}),function(t){e[t]||(i++,e[t]=i,o[i]=t),l.fnId=e[t],postMessage(l,"*")}}();mIManager={KEY:{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},inputBuffer:[],currentDataQuery:null,textarea:null,escapeMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bindResize:!1,id:null,bindScroll:!1,bindClick:!1,htmlEncode:function(t){var e="(?:"+Object.keys(mIManager.escapeMap).join("|")+")",o=RegExp(e),i=RegExp(e,"g");return t=null==t?"":""+t,o.test(t)?t.replace(i,function(t){return mIManager.escapeMap[t]}):t},mentionsSyntax:function(t){return"["+t.value+":"+t.id+"]"},createElement:function(t,e,o){var i=document.createElement(t);return e&&(i.id=e),o&&$L(i).addClass(o),i},setCaratPosition:function(t,e){if(t.createTextRange){var o=t.createTextRange();o.move("character",e),o.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()},init:function(e){var o=mIManager.createElement("div",null,"lyteMIWrapper");LyteComponent.insertBefore(e,o),LyteComponent.appendChild(o,e);var i=mIManager.createElement("div",null,"lyteMIDropdown");LyteComponent.insertAfter(e,i),mIManager.copyTextarea(e);var l=t.getComputedStyle(e),a=mIManager.createElement("div",null,"lyteMentions");a.style.fontFamily=l.fontFamily,a.style.fontSize=l.fontSize,a.style.fontWeight=l.fontWeight;var n=mIManager.createElement("div",null,"lyteMentionsInnerDiv");return LyteComponent.appendChild(a,n),LyteComponent.insertBefore(e,a),i},rtrim:function(t){return t.replace(/\s+$/,"")},ltrim:function(t){return t.replace(/^\s+/,"")},highlightContent:function(t,e){return e||e.length?t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):t},copyTextarea:function(t){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor","box-sizing","-moz-box-sizing","-webkit-box-sizing"];if("textarea"!==t.type)return!1;var o=$L(t),i=$L(mIManager.createElement("div")).css({position:"absolute",visibility:"hidden",display:"none","word-wrap":"break-word"}),l=parseInt(o.css("line-height"),10)||parseInt(o.css("font-size"),"10"),a=parseInt(o.css("height"),10)||3*l,n=parseInt(o.css("max-height"),10)||Number.MAX_VALUE;function r(){var t=Math.floor(parseInt(o.outerWidth(),10));o[0]._mIData&&o[0]._mIData._overlayDiv&&$L(o[0].previousElementSibling).css("fontSize",o.css("fontSize")),i.outerWidth()!==t&&(i.css({width:t+"px",fontSize:o.css("fontSize")}),"true"===i[0].getAttribute("setHeight")?i[0].setAttribute("setHeight","false"):d(!0))}function s(t,e){var i=Math.floor(parseInt(t,10));o.height()!==i&&(o.css({height:i+"px",overflow:e}),r())}var d=function(t){i[0].style.display="block";var e=o[0].value.replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),r=i[0].innerHTML.replace(/<br>/gi,"<br />");if(t||e+"&nbsp;"!==r){if(i[0].innerHTML=e+"&nbsp;",Math.abs(i.outerHeight()+l-o.outerHeight())>=3){i[0].setAttribute("setHeight","true");var d=i.outerHeight();d>=n?s(n,"auto"):s(d<=a?a:d,"hidden")}i[0].style.display=""}};n<0&&(n=Number.MAX_VALUE),LyteComponent.insertAfter(o[0],i[0]);for(var p=e.length;p--;)"width"===e[p].toString()&&"0px"===o.css(e[p].toString())?r():i.css(e[p].toString(),o.css(e[p].toString()));d(!0),o[0]._closureEvnt=d,o[0].addEventListener("input",o[0]._closureEvnt),o[0].addEventListener("change",o[0]._closureEvnt)},callAtTheEndOfResize:function(t){clearTimeout(mIManager.id),mIManager.id=setTimeout(function(){var t=document.querySelectorAll('textarea[data-lyte-mentions="true"]');if(t.length>0)for(var e=0;e<t.length;e++){var o,i=$L(t[e]),l=$L(t[e].nextElementSibling),a=Math.floor(parseInt(i.outerWidth(),10));if(i[0]._mIData&&i[0]._mIData._overlayDiv&&$L(i[0].previousElementSibling).css("fontSize",i.css("fontSize")),l.outerWidth()!==a)if(l.css({width:a+"px",fontSize:i.css("fontSize")}),"true"===l[0].getAttribute("setHeight"))l[0].setAttribute("setHeight","false");else"function"==typeof Event?o=new Event("change"):(o=document.createEvent("Event")).initEvent("change",!0,!0),i[0].dispatchEvent(o)}},200)}},lyteDomObj.prototype.mentionsInput=function(o){mIManager.bindResize||(Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],l=0;l<o;){var a=e[l];if(t.call(i,a,l,e))return l;l++}return-1},configurable:!0,writable:!0}),t.addEventListener("resize",mIManager.callAtTheEndOfResize),mIManager.bindResize=!0);var i,l,a=[],n=[],r="",s=function(){mIManager.inputBuffer=[]},d=function(t,e){return t.indexOf(e)+e.length},p=function(){var t=l.value,e=(l._mIData.searchBy,0),o="";l._mIData.lyteMICollection.forEach(function(i){var a=l._mIData.triggerChar+mIManager.mentionsSyntax({id:i.id,value:i[l._mIData.searchBy]});o=t.substring(0,e),t=o+t.substring(e).replace(i[l._mIData.searchBy],a),e=d(t,a)});var i=mIManager.htmlEncode(t);l._mIData.lyteMICollection.forEach(function(t){var e=l._mIData.triggerChar+mIManager.mentionsSyntax({id:t.id,value:t[l._mIData.searchBy]}),o="<strong class='lyteMentionsStrongDiv'><span>"+t[l._mIData.searchBy]+"</span></strong>";i=i.replace(e,o)}),i=(i=i.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),l._mIData.syntaxMessage=t,l._mIData._overlayDiv.innerHTML=i},c=function(){var t=l._mIData.syntaxMessage,e=l._mIData.searchBy;n=l._mIData.lyteMICollection;for(var o=[],i=[],a=0;a<n.length;a++)n[a][e]&&-1!=t.indexOf(n[a][e]+":"+n[a].id)?o.push(n[a]):i.push(n[a]);l._mIData.lyteMICollection=o,i.length&&function(t,e){t.onRemove&&t.onRemove(e)}(l._mIData,i)},h=function(t){l._addedMentions=!0;var e=l.value,o=t[l._mIData.searchBy],i=l.selectionEnd-mIManager.currentDataQuery.length-1,a=l.selectionEnd;if(e.substring(i,a)!==l._mIData.triggerChar+mIManager.currentDataQuery){var n=new RegExp("\\"+l._mIData.triggerChar+mIManager.currentDataQuery,"gi");n.exec(e),i=n.lastIndex-r.length-1,a=n.lastIndex}var c,h=e.substr(0,i),y=e.substr(a,e.length),m=(h+o).length+1,g=h+o+y+" ";t.position={start:i,end:i+o.length},function(t,e){for(var o=0,i=0,a=l._mIData.searchBy,n=l._mIData.lyteMICollection,r=0;r<n.length&&-1!=e.substring(o).indexOf(n[r][a]);r++)o=d(e,n[r][a]),++i;l._mIData.lyteMICollection.splice(i,0,t)}(t,h),s(),mIManager.currentDataQuery="",u(),l.value=g,p(),"function"==typeof Event?c=new Event("change"):(c=document.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(c),l.focus(),setTimeout(function(){mIManager.setCaratPosition(l,m)},100),l._mIData.onAdd&&function(t,e){t.onAdd(e)}(l._mIData,t)},u=function(t){var e=l||t;a=[],i||(i=e._mIData.lyteMIList),e._mIData.onHide&&e._mIData.onHide(i,e),e._mIData.dropbody&&(i.innerHTML=""),i.classList.remove("lyteMIDisplayBlock","lyteMIAddOverflow","lyteMIListAppended","lyteMIDropdown__Down","lyteMIDropdown__Up"),i.style=""},y=function(t){var e=mIManager.createElement("li");e._mentionsData=t;var o=mIManager.highlightContent(t[l._mIData.searchBy],mIManager.currentDataQuery);return e.innerHTML=o,e},m=function(t){var e=$L(this);i||(i=this.closest(".lyteMIDropdown")),l=i._textarea,h(e[0]._mentionsData),t.stopPropagation()},g=function(t){t&&($L(l._mIData.listItemTag,i).length&&$L(l._mIData.listItemTag,i).removeClass(l._mIData.activeItem),$L(t).addClass(l._mIData.activeItem),(a=[]).push(t))},f=function(e,o){var i=e._textarea,l=i.getBoundingClientRect(),a=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,t.innerHeight||0);t.pageXOffset||document.documentElement.scrollLeft;n+=t.pageYOffset||document.documentElement.scrollTop;var r=function(e){var o=document.createElement("div"),i=getComputedStyle(e),l=e.value,a={};for(var n in i)/[\d -]+/g.test(n)||"function"==typeof i[n]||("lineHeight"==n&&(a[n]=i[n]),"letterSpacing"==n&&(a[n]=i[n]),"height"==n&&(a[n]="auto"),"width"==n&&(a[n]=i[n]),"fontSize"==n&&(a[n]=i[n]),"paddingLeft"==n&&(a[n]=i[n]),"paddingRight"==n&&(a[n]=i[n]),"paddingTop"==n&&(a[n]=i[n]),"paddingBottom"==n&&(a[n]=i[n]),"marginLeft"==n&&(a[n]=i[n]),"marginRight"==n&&(a[n]=i[n]),"marginTop"==n&&(a[n]=i[n]),"marginBottom"==n&&(a[n]=i[n]),"borderLeft"==n&&(a[n]=i[n]),"borderRight"==n&&(a[n]=i[n]),"borderTop"==n&&(a[n]=i[n]),"borderBottom"==n&&(a[n]=i[n]),"boxSizing"==n&&(a[n]=i[n]),"whiteSpace"==n&&(a[n]=i[n]),"fontWeight"==n&&(a[n]=i[n]),"fontFamily"==n&&(a[n]=i[n]),"testAlign"==n&&(a[n]=i[n]),"display"==n&&(a[n]=i[n]),"direction"==n&&(a[n]=i[n]),"wordBreak"==n&&(a[n]=i[n]),"wordWrap"==n&&(a[n]=i[n]),"wordSpacing"==n&&(a[n]=i[n]),"position"==n&&(a[n]="relative"));for(var n in a)o.style[n]=i[n];var r=e.selectionStart-(mIManager.currentDataQuery.length+1),s=l.substr(0,r);o.textContent=s;var d=document.createElement("span");d.textContent=l.substr(r,mIManager.currentDataQuery.length+1)||".",o.appendChild(d),document.body.appendChild(o);var p=e.getBoundingClientRect(),c=d.getBoundingClientRect(),h=t.pageXOffset||document.documentElement.scrollLeft,u=t.pageYOffset||document.documentElement.scrollTop,y={x:p.left+h+d.offsetLeft,y:p.top+u+d.offsetTop,height:c.height,width:c.width};return o.remove(),y}(i);if(a.height<n-(r.y+r.height+5)?(e.style.top=r.y+r.height+5+"px",$L(e).removeClass("lyteMIDropdown__Up"),$L(e).addClass("lyteMIDropdown__Down")):a.height<r.y?(e.style.top=r.y-a.height+"px",$L(e).removeClass("lyteMIDropdown__Down"),$L(e).addClass("lyteMIDropdown__Up")):(e.style.top=r.y+r.height+5+"px",$L(e).height(n-(r.y+r.height+5)-5),$L(e).addClass("lyteMIAddOverflow","lyteMIDropdown__Down")),r.x+a.width<l.right)e.style.left=r.x+"px";else{var s=r.x+r.width-a.width;s<0&&(r.x+r.width<=l.left+l.width/2?(e.style.maxWidth=l.right-r.x+"px",s=r.x):(e.style.maxWidth=a.width+s-10+"px",s=10)),e.style.left=s+"px"}o||($L(e).addClass("lyteMIListAppended"),i._mIData.onBeforeShow&&i._mIData.onBeforeShow(e,i))},v=function(t){if("none"===getComputedStyle(t).maxWidth){var e=getComputedStyle(t._textarea);t.style.maxWidth=parseFloat(e.width)-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight))+"px"}},D=function(t){if(t.length){for(var e=mIManager.createElement("ul"),o=0;o<t.length;o++){var a=y(t[o]);if(a.addEventListener("click",m,!0),l._mIData.avatars&&t[o].avatar){var n=new Image;n.src=t[o].avatar,a.prepend(n)}e.append(a),a=null}i.append(e),i._appended||(LyteComponent.appendChild(document.body,i),i._appended=!0),g(e.children[0]),$L(i).addClass("lyteMIHide"),$L(i).addClass("lyteMIDisplayBlock"),v(i),f(i),$L(i).removeClass("lyteMIHide")}},b=function(){var t=mIManager.currentDataQuery;if(t&&t.length&&t.length>=l._mIData.minChars){var e=l._mIData.onDataRequest(t);e&&(e.then?Promise.resolve(e).then(function(e){if(!1===E.dropbody){i._appended||(LyteComponent.appendChild(document.body,i),i._appended=!0);var o=E.displayMentions(e,t,i);(void 0===o||o)&&(g(i.querySelector(E.listItemTag)),$L(i).addClass("lyteMIHide"),$L(i).addClass("lyteMIDisplayBlock"),v(i),f(i),$L(i).removeClass("lyteMIHide"))}else D(e)},function(t){console.error(t)}):function(t){var e=l._mIData.mode,o=l._mIData.searchBy,i=mIManager.currentDataQuery,a=[];if(t.length){for(var n=0;n<t.length;n++)switch(e){case"contains":t[n][o].trim().toLowerCase().indexOf(i.toLowerCase())>=0&&a.push(t[n]);break;case"startsWith":t[n][o].trim().toLowerCase().startsWith(i.toLowerCase())&&a.push(t[n]);break;case"endsWith":t[n][o].trim().toLowerCase().endsWith(i.toLowerCase())&&a.push(t[n])}D(function(t,e){for(var o=0;o<e.length;o++)for(var i=0;i<t.length;i++)e[o].id==t[i].id&&t.splice(i,1);return t}(a,l._mIData.lyteMICollection))}}(e))}},P=function(t,e){var o=null,i=t.tagName;if("next"==e)for(;t.nextElementSibling;){if(t.nextElementSibling.tagName===i){o=t.nextElementSibling;break}t=t.nextElementSibling}if("prev"==e)for(;t.previousElementSibling;){if(t.previousElementSibling.tagName===i){o=t.previousElementSibling;break}t=t.previousElementSibling}return o},C=function(t,e){for(var o,i=(t.match(new RegExp(e,"g"))||[]).length;i>0&&t;){if(0==(o=t.lastIndexOf(e)))return o;if(o>0&&(" "==t.charAt(o-1)||"\n"==t.charAt(o-1)))return o;i=((t=t.substring(0,o)).match(new RegExp(e,"g"))||[]).length}return-1};if("string"==typeof o){if("setMessage"===o){if(!(l=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!l.getAttribute("data-lyte-mentions"))return console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null;if("object"!=typeof arguments[1])return l?(console.error("Inappropriate arguments passed. Please pass an object containing a message and a collection to be set."),null):(console.error("Element doesnt exist.Please check."),null);var L=arguments[1].message,x=L,S=[];(arguments[1].collection?arguments[1].collection:l._mIData.onDataRequest()).forEach(function(t){var e={id:t.id,value:t[l._mIData.searchBy]},o=l._mIData.triggerChar+mIManager.mentionsSyntax(e);if(-1!=L.indexOf(o)){S.push(t);var i="<strong class='lyteMentionsStrongDiv'><span>"+e.value+"</span></strong>";L=L.replace(o,e.value),x=x.replace(o,i)}}),x=(x=x.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),l.value=L,l._mIData.syntaxMessage=arguments[1].message+" ",l._mIData._overlayDiv.innerHTML=x,l._mIData.lyteMICollection=S,"function"==typeof Event?_=new Event("change"):(_=document.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(_),l.focus()}if("getMessage"===o)return(l=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)&&l.getAttribute("data-lyte-mentions")?l._mIData.syntaxMessage:l?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);if("getCollection"===o)return(l=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)&&l.getAttribute("data-lyte-mentions")?l._mIData.lyteMICollection:l?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);if("destroy"===o){if(!(l=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!l.getAttribute("data-lyte-mentions"))return l?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);l.removeAttribute("data-lyte-mentions");var w=l.parentElement;LyteComponent.insertBefore(w,l),l._mIData.lyteMIList.remove(),l._mIData=null,w.remove(),l.removeEventListener("keydown",l._lyteMenIpKeydownEvent),l.removeEventListener("keypress",l._lyteMenIpKeypressEvent),l.removeEventListener("input",l._lyteMenIpInputEvent),l.removeEventListener("paste",l._lyteMenIpPasteEvent),l.removeEventListener("input",l._closureEvnt),l.removeEventListener("change",l._closureEvnt),delete l._lyteMenIpKeydownEvent,delete l._lyteMenIpKeypressEvent,delete l._lyteMenIpInputEvent,delete l._lyteMenIpClickEvent,delete l._lyteMenIpBlurEvent,delete l._closureEvnt,mIManager.bindResize&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("resize",mIManager.callAtTheEndOfResize),mIManager.bindResize=!1),mIManager.bindClick&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("click",mIManager.onClick),mIManager.bindClick=!1),mIManager.bindScroll&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("scroll",mIManager.onScroll),mIManager.bindScroll=!1)}if("reset"===o){if(!(l=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!l.getAttribute("data-lyte-mentions"))return l?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);var _;l.value="",p(),c(),"function"==typeof Event?_=new Event("change"):(_=document.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(_)}return!0}var M,E=o||{};if(this.length>1)for(var T=0;T<this.length;T++)if("LYTE-INPUT"==this[T].tagName&&"textarea"==this[T].ltProp("type")){var R=this[T].querySelector("textarea"),k=Object.assign({},E);k.isLyteInput=!0,$L(R).mentionsInput(Object.assign({},k))}else $L(this[T]).mentionsInput(Object.assign({},E));else{"LYTE-INPUT"==this[0].tagName&&"textarea"==this[0].ltProp("type")?(M=this[0].querySelector("textarea"),E.isLyteInput=!0):M=this[0],M.setAttribute("data-lyte-mentions",!0),E.mode=E.mode?E.mode:"contains",E.activeItem=E.activeItem?E.activeItem:"lyteMIActive",E.triggerChar=E.triggerChar?E.triggerChar:"@",E.minChars=void 0==E.minChars?1:parseInt(E.minChars),E.avatars=void 0==E.avatars||E.avatars,E.searchBy=E.searchBy?E.searchBy:"name",E.lyteMICollection=[],E.dropbody=void 0==E.dropbody||E.dropbody,E.listItemTag=void 0==E.listItemTag?"li":E.listItemTag;E.lyteMIList=mIManager.init(M),E.lyteMIList._textarea=M,E._overlayDiv=M.previousElementSibling.children[0],E.isLyteInput||$L(M.previousElementSibling).addClass("lyteMentionsNormalTextarea"),M._mIData=E,M._lyteMenIpKeydownEvent=function(t){l=this;var o=mIManager.KEY;if(t.keyCode!==o.LEFT&&t.keyCode!==o.RIGHT&&t.keyCode!==o.HOME&&t.keyCode!==o.END){if(t.keyCode===o.BACKSPACE||(t.metaKey||t.ctrlKey)&&88==t.keyCode){var n=l.selectionStart-l.selectionEnd;Math.abs(n)>mIManager.inputBuffer.length?mIManager.inputBuffer=[]:mIManager.inputBuffer=mIManager.inputBuffer.slice(0,(0==n?-1:n)+mIManager.inputBuffer.length)}else if((t.metaKey||t.ctrlKey)&&90==t.keyCode&&s(),i||(i=l._mIData.lyteMIList),"block"==$L(i).css("display"))switch(t.keyCode){case o.UP:case o.DOWN:var r,d=null;t.keyCode===o.DOWN?a&&a.length?(d=P(a[0],"next"),r="down"):(d=i.querySelector(l._mIData.listItemTag),r="up"):(d=P(a[0],"prev"),r="up"),d&&(g(d),function(t,e,o){var i=e.offsetTop,l=t.scrollTop,a=t.getBoundingClientRect().height,n=e.getBoundingClientRect().height;"down"===o&&l+a<i+n?t.scrollTop=t.scrollTop+i+n-(a+l):"up"===o&&i<l&&(t.scrollTop=i)}(i,d,r)),t.preventDefault(),t.stopPropagation();break;case o.RETURN:case o.TAB:a&&a.length&&(a[0].dispatchEvent(new Event("click")),t.preventDefault(),t.stopPropagation())}}else e(s)},M._lyteMenIpKeypressEvent=function(t){l=this;var e=mIManager.KEY;if(!(t.keyCode===e.LEFT&&"%"!==t.key||t.keyCode===e.RIGHT||t.keyCode===e.HOME&&"$"!==t.key||t.keyCode===e.END&&"#"!==t.key||t.keyCode===e.UP&&"&"!==t.key||t.keyCode===e.DOWN&&"("!==t.key||t.keyCode===e.BACKSPACE||t.keyCode===e.TAB||t.keyCode===e.RETURN||t.keyCode===e.ESC||"Shift"===t.key||"Control"==t.key||"Alt"==t.key||"Meta"==t.key)){var o=l.value||"",i=t.key;l.selectionStart<l.selectionEnd&&i&&(o=o.substring(0,l.selectionStart)+i,mIManager.inputBuffer=[]),o=function(t){var e=l._mIData.lyteMICollection;if(e.length>0)for(var o=e.length-1;o>=0;o--)if(e[o].position.end<=t.length)return t.substring(e[o].position.end);return t}(o.substring(0,l.selectionStart));var a=C(o,l._mIData.triggerChar);if(a>-1){var n=o.substring(a)+i;mIManager.inputBuffer=n.split("")}}},M._lyteMenIpInputEvent=function(t){i=(l=this)._mIData.lyteMIList,p(),l._mIData.dropbody&&c(),u();var e=C(mIManager.inputBuffer.join(""),l._mIData.triggerChar);e>-1&&(r=mIManager.inputBuffer.slice(e+1).join(""),mIManager.currentDataQuery=mIManager.ltrim(r),b())},M._lyteMenIpClickEvent=function(t){s()},M._lyteMenIpBlurEvent=function(t){u(t.target)},M._lyteMenIpPasteEvent=function(e){if((l=this).selectionStart==l.selectionEnd)var o=l.value+(e.clipboardData||t.clipboardData).getData("text");else{o=l.value.substring(0,l.selectionStart)+(e.clipboardData||t.clipboardData).getData("text");var i=l.value.substring(l.selectionEnd);if(i.length>0){var a=i.indexOf(" ");o+=i.substring(0,a>-1?a:i.length)}}mIManager.inputBuffer=o.split("")},M.addEventListener("keydown",M._lyteMenIpKeydownEvent),M.addEventListener("keypress",M._lyteMenIpKeypressEvent),M.addEventListener("input",M._lyteMenIpInputEvent),M.addEventListener("paste",M._lyteMenIpPasteEvent),E.lyteMIList.addEventListener("mouseover",function(t){l=t.currentTarget._textarea;var e=t.target.closest(l._mIData.listItemTag);g(e)}),mIManager.bindScroll||(mIManager.onScroll=function(t){var e=document.querySelectorAll(".lyteMIListAppended");if(e.length>0)for(var o=0;o<e.length;o++)f(e[o],!0)},document.body.addEventListener("scroll",mIManager.onScroll,!0),mIManager.bindScroll=!0),mIManager.bindClick||(mIManager.onClick=function(t){for(var e=t.target;e&&("TEXTAREA"!==e.tagName||"true"!==e.getAttribute("data-lyte-mentions"))&&"HTML"!=e.tagName;)e=e.parentElement;if(e&&"TEXTAREA"===e.tagName){e._lyteMenIpClickEvent(t);for(var o=document.querySelectorAll(".lyteMIDropdown.lyteMIDisplayBlock"),i=0;i<o.length;i++)e._mIData.lyteMIList.isEqualNode(o[i])||u(o[i]._textarea);e._addedMentions=!1}else if(e&&"HTML"===e.tagName)for(o=document.querySelectorAll(".lyteMIDropdown.lyteMIDisplayBlock"),i=0;i<o.length;i++)u(o[i]._textarea)},document.body.addEventListener("click",mIManager.onClick,!0))}}}}(window),function(t){var e,o;function i(t){t.lyteAnimateId||o.add(t);var i=t.nodeName,l=e.get(t,"displayValue");if(l)return l;var a=t.ownerDocument,n=a.body.appendChild(a.createElement(i));return l=a.defaultView.getComputedStyle(n).display,a.body.removeChild(n),"none"===l&&(l="block"),e.set(t,"displayValue",l),l}function l(t,e){for(var o={},i=["left","right","top","bottom"],l=0;l<i.length;l++)o["margin-"+i[l]]=o["padding-"+i[l]]=t;return e&&(o.width=o.height=o.opacity=t),o}function a(t,l){for(var a=[],n=0;n<t.length;n++){var r=t[n];o.add(r);var s=r.style.display;l?("none"==s&&(a[n]=e.get(r,"display"),a[n]||(a[n]="")),""==s&&"none"==$L(r).css("display")&&(a[n]=i(r))):"none"!=s&&(a[n]="none",e.set(r,"display",s))}for(var d=0;d<t.length;d++)$L(t[d]).css("display",a[d]);return t}function n(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function r(){this.data={}}function s(t){t.target==this&&e.get(this,"endCallback").call(this,t)}function d(){}function p(t,e,o,i){var l=t[e].toString();if(/^(\()/g.exec(l))return l;var a=/cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|auto|vmin|vmax|%+$/gi,n=l.match(a),r=l.match(/^\+=|\-=|\*=|\/=/g);if("none"==i[o]||/matrix/gi.test(i[o]))n="";else if(null==n){var s=i[o].match(a);n=null==s?"":"auto"==s[0]?"px":s[0]}else n=n[0],l=l.slice(0,l.indexOf(n));if(r){var d=parseInt(i[o]),p=l.split("=");switch(d=NaN==d?0:d,p[0]){case"/":l=d/parseFloat(p[1]);break;case"-":l=d-parseFloat(p[1]);break;case"*":l=d*parseFloat(p[1]);break;default:l=d+parseFloat(p[1])}}return l+n}function c(){this.style.removeProperty("transition")}function h(){if((e.get(this,"animeProp","animate")||[]).length){c.call(this);var t=function(){if(document.body.contains(this)){for(var t=o.data[this.lyteAnimateId][0].options,e=["timingFunction","duration","delay"],i="",l=Object.keys(o.data[this.lyteAnimateId][0].value||{}),a=0;a<e.length;a++)if(e[a]in t){var r="";"delay"!=e[a]&&"duration"!=e[a]||/[ms|s]+/gi.test(t[e[a]])||(r="ms"),i+="transition-"+n(e[a])+":"+t[e[a]]+r+";"}if(l.length){i+="transition-property : ";for(var s=0;s<l.length;s++)i+=s>0?","+n(l[s]):n(l[s])}return i+";"}}.call(this);e.set(this,"endCallback",function(t){"timeout"!=t.type&&t.stopPropagation();var i=e.get(this,"animeProp","animate"),l=o.data[this.lyteAnimateId][0].options.complete,n=e.get(this,"propertyCount");if("timeout"==t.type&&(n=i.length-1),e.set(this,"propertyCount",++n),i.length==n){clearTimeout(this._anitime),delete this._anitime,c.call(this);var r=e.get(this,"animeProp","mode"),s=e.get(this,"animeProp","original");if(r?"hide"==r?setTimeout(function(){(function(){return a([this])}).call(this),$L.each(s,function(t,e){$L(this).css(t,e)}.bind(this)),o.dequeue(this)}.bind(this),20):($L.each(s,function(t,e){$L(this).css(t,e)}.bind(this)),o.dequeue(this)):o.dequeue(this),l){var d=e.get(this,"animeProp");t.transitionProperty=i,t.startTime=d.startTime,t.from=d.from,t.to=d.to,l.call(this,t)}setTimeout(function(){this.style.overflow=this._orioverflow,delete this._orioverflow}.bind(this),20)}}),this._orioverflow=this.style.overflow,this.style.overflow="hidden",e.set(this,"propertyCount",0),setTimeout(function(){var i=$L(this).attr("style");$L(this).attr("style",(i?i+";":"")+t),setTimeout(function(){var t=o.data[this.lyteAnimateId][0];if(t){var i=t.options,l=Date.now();e.set(this,"animeProp","startTime",l);var a=e.get(this,"animeProp");i.start&&i.start.call(this,{options:i,from:a.from,to:a.to,value:o.data[this.lyteAnimateId][0].value,startTime:l,target:this,transitionProperty:Object.keys(a.to)});var n=this;$L.each(e.get(this,"animeProp","to"),function(t,e){$L(n).css(t,e)}),this._anitime=setTimeout(s.bind(this,{type:"timeout",target:this}),function(t){var e=0;if(/\d+/.test(t)){var o=t.match(/(\d+)(s|ms){0,}$/);e=parseFloat(o[1])*("s"==o[2]?1e3:1)}return e}(i.duration.toString())+10)}else c.call(this),this.removeEventListener("transitionend",s)}.bind(this),20)}.bind(this),20)}else o.dequeue(this)}function u(t,e,o){var i={};return o&&o.constructor==Function&&(i.complete=o),e&&(e.constructor==Function?i.complete=e:e.constructor==Object?Object.assign(i,e):e.constructor==String&&(i.timingFunction=e)),void 0!=t&&(t.constructor==Object?Object.assign(i,t):t.constructor==Number?i.duration=t:t.constructor==Function&&(i.complete=t)),void 0!=i.delay&&/[s]+/gi.test(i.delay)&&(options.delay=1e3*parseInt(options.delay)),"duration"in i||(i.duration=400),/[s]+/gi.test(i.duration)&&(options.duration=1e3*parseInt(options.duration)),i.timingFunction||(i.timingFunction="ease"),i}function y(t,e,o){$L(this).css(t,this.style[t].replace(/([0-9.-]+)/,function(t){return(parseFloat(t)-e)*o+e}))}function m(t,i){if(t){e.get(this,"propertyCount");e.set(this,"propertyCount",(e.get(this,"animeProp","animate")||[]).length-1),this.dispatchEvent(new Event("transitionend")),i&&o.dequeueAll(this)}else{var l=o.data[this.lyteAnimateId];if(!l)return;clearTimeout(this._anitime),delete this._anitime;for(var a=l[0].options,n=e.get(this,"animeProp"),r=Date.now(),s=n.from,d=(n.to,n.startTime),p=1-Math.max(0,d+a.duration-r)/a.duration,c=Object.keys(n.to||{}),h=0;h<c.length;h++){var u=s[c[h]];"none"!=u||/deg/gi.test(u)||(u=1),u=parseInt(u),u=isNaN(u)?0:u,y.call(this,c[h],u,p)}$L(this).css("transition",""),i?o.dequeueAll(this):o.dequeue(this)}}r.prototype={add:function(t){if("lyteAnimateId"in t)return t.lyteAnimateId;var e="lyteAnimate"+parseInt(Math.random()*Math.pow(10,6));return t.lyteAnimateId=e,this.data[e]=[],t[t.lyteAnimateId]={},e},queue:function(t,e,o){for(var i=0;i<t.length;i++){var l=t[i],a=l.lyteAnimateId;a||(a=this.add(l)),this.data[a].push({elem:l,options:e,value:o,properties:Object.keys(o)}),1==this.data[a].length&&(l.addEventListener("transitionend",s),this.next(l))}},dequeue:function(t){this.data[t.lyteAnimateId].splice(0,1),this.next(t)},dequeueAll:function(t){this.data[t.lyteAnimateId]=this.data[t.lyteAnimateId].splice(),this.next(t)},next:function(t){setTimeout(this.call.bind(this),13,t)},call:function(t){t.lyteAnimateId&&this.data[t.lyteAnimateId][0]?function(){var t=this.ownerDocument.defaultView;$L.fastdom.measure(function(){var i=t.getComputedStyle(this),l="none"==i.display;if(!l&&!this.offsetParent)return o.dequeue(this),void h.call(this);var a,n=o.data[this.lyteAnimateId][0],r=n.value,s=Object.keys(r),d=[],c={},u={},y=e.get(this,"animeProp","original");y||(y={},e.set(this,"animeProp","original",y)),$L.fastdom.mutate(function(){for(var o,i=!0,n=0;n<s.length;n++){var m=s[n].replace(/(-\w)/g,function(t){return t[1].toUpperCase()}),g=r[s[n]];a=null,/show|hide|toggle/.test(g)&&("hide"==g||!l&&"toggle"==g?a="hide":("show"==g||l&&"toggle"==g)&&(a="show"),"show"==a&&!l||"hide"==a&&l)||(i&&(l?this.style.display=this._lytedisplay||"":this._lytedisplay=this.style.display,o=t.getComputedStyle(this),this.getBoundingClientRect(),i=!1),-1==d.indexOf(m)&&d.push(m),l?("show"!=a?c[m]=o[m]:(y[m]=this.style[m],c[m]=0),u[m]=a?o[m]:p(r,s[n],m,o)):("hide"!=a?u[m]=p(r,s[n],m,o):(y[m]=this.style[m],u[m]=0),c[m]=o[m]),(parseFloat(u[m])==parseFloat(c[m])||/auto/.test(u[m])||/auto/.test(c[m]))&&(delete c[m],delete u[m],Lyte.arrayUtils(d,"removeAt",d.indexOf(m))))}e.set(this,"animeProp","from",c),e.set(this,"animeProp","to",u),e.set(this,"animeProp","mode",a),e.set(this,"animeProp","animate",d),$L.each(c,function(t,e){this.style[t]=e}.bind(this)),h.call(this)}.bind(this))}.bind(this))}.call(t):(this.data[t.lyteAnimateId]=[],t.removeEventListener("transitionend",s))}},d.prototype={set:function(){arguments.length<3||(3==arguments.length?(void 0==arguments[0][arguments[0].lyteAnimateId]&&(arguments[0][arguments[0].lyteAnimateId]={}),arguments[0][arguments[0].lyteAnimateId][arguments[1]]=arguments[2]):4==arguments.length&&(void 0==arguments[0][arguments[0].lyteAnimateId][arguments[1]]&&(arguments[0][arguments[0].lyteAnimateId][arguments[1]]={}),arguments[0][arguments[0].lyteAnimateId][arguments[1]][arguments[2]]=arguments[3]))},get:function(){if(!(arguments.length<1))return 1==arguments.length?arguments[0][arguments[0].lyteAnimateId]:2==arguments.length?arguments[0][arguments[0].lyteAnimateId][arguments[1]]:3==arguments.length&&arguments[0][arguments[0].lyteAnimateId][arguments[1]]?arguments[0][arguments[0].lyteAnimateId][arguments[1]][arguments[2]]:void 0}},e=new d,o=new r,lyteDomObj&&(lyteDomObj.prototype.animate=function(){if(arguments.length){var t=u(arguments[1],arguments[2],arguments[3]);o.queue(this,t,arguments[0])}return this},lyteDomObj.prototype.fadeTo=function(t,e,i,l){if(void 0!=e&&e.constructor==Number&&e<1){var a=e;e=t,t=a}t=t||0;var n=u(e,i,l);return o.queue(this,n,t.constructor==Object?t:{opacity:t}),this},$L.each({fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"},slideUp:{height:"hide"},slideDown:{height:"show"},slideToggle:{height:"toggle"}},function(t,e){lyteDomObj.prototype[t]=function(t,o,i){return this.animate(e,t,o,i)}}),lyteDomObj.prototype.stop=function(t,e){return $L.each(this,function(){m.call(this,void 0==e||e,t)})},lyteDomObj.prototype.finish=function(){return $L.each(this,function(){var t=o.data[this.lyteAnimateId];if(t.length){for(var e=1;e<t.length;e++)t[e].options.duration=1;m.call(this,!0,!1)}})},$L.each({show:l("show",!0),hide:l("hide",!0),toggle:l("toggle",!0)},function(t,e){lyteDomObj.prototype[t]=function(o,i,l){return o&&o.constructor!=Boolean?this.animate(e,o,i,l):$L.each(this,function(){(function t(e,o){if(function(t,e){return!("hide"==e&&t||"show"==e&&!t)}(e,o))return e.constructor==Boolean?a([this],e):$L.each(this,function(){t("none"!=$L(this).css("display"))})}).call(this,"none"==$L(this).css("display"),t)})}}))}(window),function(t){if(lyteDomObj){function e(t,e,o,i){return o*(1-Math.pow(2,-10*t/i))*1024/1023+e}function o(t){var e=Number(t);return"number"==typeof e&&!isNaN(e)}function i(){var t=(new Date).getTime();this._startTime||(this._startTime=t),this._timestamp=t;var e=t-this._startTime;if(this._remaining=this._duration-e,this._options.useEasing?this._countDown?this._frameVal=this._startVal-this._options.easingFn(e,0,this._startVal-this._endVal,this._duration):this._frameVal=this._options.easingFn(e,this._startVal,this._endVal-this._startVal,this._duration):this._countDown?this._frameVal=this._.startVal-(this._startVal-this._endVal)*(e/this._duration):this._frameVal=this._startVal+(this._endVal-this._startVal)*(e/this._duration),this._countDown?this._frameVal=this._frameVal<this._endVal?this._endVal:this._frameVal:this._frameVal=this._frameVal>this._endVal?this._endVal:this._frameVal,this._frameVal=Math.round(this._frameVal*this._dec)/this._dec,a.call(this,this._frameVal),!(e<this._duration))return this.onComplete&&this.onComplete(),!0;this._rAFId=requestAnimationFrame(i.bind(this))}function l(t,e,i,l){return!!this._initialized||!(!o(this._startVal)||!o(this._endVal))&&(this._decimals=Math.max(0,i||0),this._dec=Math.pow(10,this._decimals),this._duration=1e3*Number(l)||2e3,this._countDown=this._startVal>this._endVal,this._frameVal=this._startVal,this._initialized=!0,a.call(this,this._startVal),!0)}function a(t){var e=function(t){var e,o,i,l,a,n,r=t<0;if(t=Math.abs(t).toFixed(this._decimals),o=(e=(t+="").split("."))[0],i=e.length>1?this._options.decimal+e[1]:"",this._options.useGrouping){for(l="",a=0,n=o.length;a<n;++a)0!==a&&a%3==0&&(l=this._options.separator+l),l=o[n-a-1]+l;o=l}return(r?"-":"")+this._options.prefix+o+i+this._options.suffix}.call(this,t);"INPUT"===this.tagName?this.value=e:"text"===this.tagName||"tspan"===this.tagName?this.textContent=e:this.innerHTML=e}lyteDomObj.prototype.counter=function(t){var i=this[0];if(i._rAFId&&cancelAnimationFrame(i._rAFId),i._options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:e,prefix:"",suffix:""},i._initialized=!1,t.options&&"object"==typeof t.options)for(var a in i._options)t.options.hasOwnProperty(a)&&null!==t.options[a]&&(i._options[a]=t.options[a]);if(""===i._options.separator?i._options.useGrouping=!1:i._options.separator=""+i._options.separator,null==t.endValue)throw new TypeError('"endValue" is null or not defined');if(!o(Number(t.startValue)))throw new TypeError('"startValue" is not a number');if(!o(Number(t.endValue)))throw new TypeError('"endValue" is not a number');return i._startValue=t.startValue?Number(t.startValue):0,i._endValue=Number(t.endValue),i._startVal=i._startValue,i._endVal=i._endValue,delete i._startTime,delete i._paused,t.onComplete&&(i.onComplete=t.onComplete),l.call(i,t.startValue,t.endValue,t.decimals?t.decimals:0,t.duration?t.duration:void 0),this},lyteDomObj.prototype.start=function(t){this[0]._rAFId=requestAnimationFrame(i.bind(this[0]))},lyteDomObj.prototype.update=function(t){this[0]._initialized&&o(t)&&t!==this[0]._frameVal&&(cancelAnimationFrame(this[0]._rAFId),this[0]._paused=!1,delete this[0]._startTime,this[0]._startVal=this[0]._frameVal,this[0]._endVal=t,this[0]._endValue=this[0]._endVal,this[0]._countDown=this[0]._startVal>this[0]._endVal,this[0]._rAFId=requestAnimationFrame(i.bind(this[0])))},lyteDomObj.prototype.pauseResume=function(){this[0]._initialized&&(this[0]._paused?(this[0]._paused=!1,delete this[0]._startTime,this[0]._remaining&&(this[0]._duration=this[0]._remaining),this[0]._frameVal&&(this[0]._startVal=this[0]._frameVal),requestAnimationFrame(i.bind(this[0]))):(this[0]._paused=!0,cancelAnimationFrame(this[0]._rAFId)))},lyteDomObj.prototype.reset=function(t){this[0]._paused=!1,delete this[0]._startTime,this[0]._initialized=!1,this[0]._startVal=this[0]._startValue,l.call(this[0],arguments[0],arguments[1],arguments[2]?arguments[2]:0,arguments[3]?arguments[3]:void 0)&&(cancelAnimationFrame(this[0]._rAFId),a.call(this[0],this[0]._startVal))}}}(window),function(){if(window.lyteDomObj){var t={},e=document.createElement("span");function o(t){var e=t.target;e._sticky&&a.call(e)}function i(e){for(var o=this.parentElement.querySelectorAll(".lyteSticky "+e.query),i=0;i<o.length;i++){var l=o[i].style,a=o[i].parentElement.style;o[i]._sticky={val:l[e.position],position:l.position,parPos:a.position},0!=t.sticky?(l.position=t.sticky?"sticky":t.webkitsticky?"-webkit-sticky":"",l[e.position]=e.offset+"px"):(l.position="relative",a.position="relative")}}function l(t){for(var e=this.parentElement.querySelectorAll(".lyteSticky "+t.query),o=0;o<e.length;o++){var i=e[o]._sticky,l=e[o].style,a=e[o].parentElement.style;l.position=i.position,a.position=i.parPos,l[t.position]=i.val,delete e[o]._sticky}}function a(){if(this.offsetParent){var t=this._sticky,e=[],o=this.parentElement.querySelectorAll(".lyteSticky "+t.query),i=this==document.body?window.pageYOffset:this.scrollTop,l=this==document.body?window.pageXOffset:this.scrollLeft,a=t.position,n=-1!=["bottom","top"].indexOf(a),r=this.getBoundingClientRect(),s=n?"height":"width",d=t.offset;if(!n&&t._prevx!=l||n&&t._prevy!=i){for(var p=0;p<o.length;p++)e[p]={},e[p].node=o[p],o[p].parent=o[p].parentElement,e[p].curBcr=o[p].getBoundingClientRect(),e[p].parBcr=o[p].parentElement.getBoundingClientRect();for(p=0;p<o.length;p++){var c=e[p],h=c.parBcr,u=(c.curBcr,c.node.style),y=1,m=0,g=!1;if(-1!=["bottom","right"].indexOf(a)&&(y*=-1),y>0){if(parseInt(h[a])<=parseInt(r[a])&&parseInt(h[a]+h[s])>=parseInt(r[a]+d))m=r[a]-h[a]+d,g=!0}else if(parseInt(h[a])>=parseInt(r[a])&&parseInt(h[a]-h[s])<parseInt(r[a]-d))m=h[a]-r[a]+d,g=!0;g&&(u[a]=m+"px")}}t._prevx=l,t._prevY=i}}e.style.position="sticky","sticky"==e.style.position?t.sticky=!0:(e.style.position="-webkit-sticky","-webkit-sticky"==e.style.position?t.webkitsticky=!0:t.sticky=!1),e=void 0,lyteDomObj.prototype.destroySticky=function(){return $L(".lyteSticky").removeSticky(),window.removeEventListener("scroll",o,!0),this},lyteDomObj.prototype.removeSticky=function(){for(var t=0;t<this.length;t++){var e=this[t]._sticky;e&&(clearTimeout(e._stickytime),clearTimeout(e._init),clearTimeout(e._genscroll),l.call(this[t],e),this[t].classList.remove("lyteSticky"),delete this[t]._sticky)}return this},lyteDomObj.prototype.sticky=function(e){(e=e||{}).position=function(t){if(_lyteUiUtils.getRTL()){if("left"==t)return"right";if("right"==t)return"left"}return t}(e.position)||"top",e.offset=e.offset||0,e.query=e.query||"*>*:first-child:not(template)";for(var o=0;o<this.length;o++)this[o]._sticky&&$L(this[o]).removeSticky(),this[o].classList.add("lyteSticky"),this[o]._sticky=JSON.parse(JSON.stringify(e)),this[o]._sticky._stickytime=setTimeout(i.bind(this[o]),20,this[o]._sticky),0==t.sticky&&(this[o]._sticky._init=setTimeout(a.bind(this[o]),40));return this},0==t.sticky&&window.addEventListener("scroll",o,!0)}}(window),function(){if(lyteDomObj){function t(t,e,o){var i=t.getBoundingClientRect();return Math.round(Math.max(0,-this.getBoundingClientRect().top+e+i.top+(o?i.height:0)))}function e(e){var o,i=this._wheelObj,l=this.offsetHeight,a=this._scrollspy.obj,n=i?i.scrollTop:this==document.body?window.pageYOffset:this.scrollTop,r=this.parentElement.querySelector(".lyteScrollSpy "+a.query+".lyteSpyActive:not(template)"),s=a.onChange;if(e.length)if("all"==a.position)(function(e,o,i,l){for(var a,n=[],r=[],s=[],d=0;d<e.length;d++){s.push({topp:t.call(this,e[d],i),hgt:e[d].offsetHeight});var p=$L(e[d]).hasClass("lyteSpyActive");s[d].topp<=i+o&&s[d].topp>i||s[d].topp+s[d].hgt>=i&&s[d].topp+s[d].hgt<=i+o||s[d].topp<=i&&s[d].topp+s[d].hgt>=i+o?(p||($L(e[d]).addClass("lyteSpyActive"),a=!0),n.push(e[d])):p&&($L(e[d]).removeClass("lyteSpyActive"),r.push(e[d]),a=!0)}a&&l&&l.constructor==Function&&l(n,r,this)}).call(this,e,l,n,s);else{if("bottom"==a.position){for(var d=e.length-1;d>=0;d--)if(e[d].off=t.call(this,e[d],n,!0),n+l-this._scrollspy.obj.offset>e[d].off){if(o&&e[d].off<o.off)continue;o=e[d]}}else for(d=0;d<e.length;d++)if(e[d].off=t.call(this,e[d],n)+e[d].offsetHeight,n+this._scrollspy.obj.offset<e[d].off){if(o&&e[d].off>o.off)continue;o=e[d]}r!=o&&(r&&r.classList.remove("lyteSpyActive"),o.classList.add("lyteSpyActive"),s&&s.constructor==Function&&s(o,r,r?function(t,e,o){for(var i=[],l=0;l<o.length;l++)o[l]!=t&&o[l]!=e&&(o[l].off>t.off&&o[l].off<e.off||o[l].off<t.off&&o[l].off>e.off)&&i.push(o[l]);return i}.call(this,r,o,e):[],this))}}function o(){e.call(this,function(t){var e=".lyteScrollSpy "+this._scrollspy.obj.query+":not(template)",o=this._scrollspy.obj.ignore;o.constructor==String&&(o=o.split(","));for(var i=0;i<o.length;i++)e+=":not("+o[i].trim()+")";return this.parentElement.querySelectorAll(e)}.call(this,this.children));delete this._scrollspy.obj._spytime}function i(t){var e=t.target;e._scrollspy&&(e._scrollFun?(clearTimeout(e._scrollspy.obj._spytime),e._scrollspy.obj._spytime=setTimeout(o.bind(e),0)):o.call(e))}lyteDomObj.prototype.removeScrollspy=function(){for(var t=0;t<this.length;t++)this[t].classList.remove("lyteScrollSpy"),clearTimeout(this[t]._scrollspy.obj._spytime),delete this[t]._scrollspy},lyteDomObj.prototype.scrollspy=function(t){(t=t||{}).activeClass=t.activeClass||"lyteSpyActive",t.offset=t.offset||0,t.ignore=t.ignore||[],t.position=t.position||"top",t.query=t.query||">*";for(var e=0;e<this.length;e++)this[e].classList.add("lyteScrollSpy"),this[e]._scrollspy={obj:t},setTimeout(i,20,{target:this[e]});return this},window.addEventListener("scroll",i,!0)}}(window),function(t){if(lyteDomObj){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Su","Mo","Tu","We","Th","Fr","Sa"],n=[31,28,31,30,31,30,31,31,30,31,30,31],r="W",s=1,d={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},p=[{val:"YYYY",type:"year",regex:/\d{4}/,len:4},{val:"GGGG",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"gggg",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"YY",type:"year",regex:/\d{2}/,len:2},{val:"GG",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"gg",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"MMMM",type:"month",regex:/[A-z]{3,}/,long:!0,str:!0,array:o},{val:"MMM",str:!0,type:"month",regex:/[A-z]{3,}/,array:e},{val:"Mo",suff:!0,type:"month",regex:/\d{1,2}(?=st|nd|rd|th)/,max:12},{val:"MM",type:"month",regex:/\d{2}/,len:2,max:12},{val:"M",type:"month",regex:/\d{1,2}/,max:12},{val:"DDDD",type:"date",regex:/\d{3}/,len:3,year:!0},{val:"DDDo",type:"date",suff:!0,regex:/\d{1,3}(?=st|nd|rd|th)/,len:3,year:!0,ignore:/\d{3}(?=st|nd|rd|th)/},{val:"DDD",type:"date",regex:/\d{1,3}/,year:!0,ignore:/\d{3}/},{val:"Do",type:"date",suff:!0,regex:/\d{1,2}(?=st|nd|rd|th)/},{val:"DD",type:"date",regex:/\d{2}/,len:2},{val:"D",type:"date",regex:/\d{1,2}/},{val:"["+r+"]Wo",type:"week",suff:!0,regex:new RegExp("["+r+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+r+"]wo",type:"week",suff:!0,regex:new RegExp("["+r+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+r+"]WW",type:"week",regex:new RegExp(r+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+r+"]ww",type:"week",regex:new RegExp(r+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+r+"]W",type:"week",regex:new RegExp(r+"(\\d{1,2})"),isWEG:!0,match:1},{val:"["+r+"]w",type:"week",regex:new RegExp(r+"(\\d{1,2})"),isWEG:!0,match:1},{val:"E",type:"day",regex:/\d{1}/,isWEG:!0},{val:"e",type:"day",regex:/\d{1}/,isWEG:!0,local:!0},{val:"A",type:"meridian",regex:/AM|PM/,str:!0,time:!0},{val:"a",type:"meridian",regex:/am|am/,str:!0,time:!0,lower:!0},{val:"ZZ",type:"timezone",regex:/(\+|\-)(\d{2})(\d{2})$/,time:!0,len:2},{val:"Z",type:"timezone",regex:/(\+|\-)(\d{2}):(\d{2})$/,time:!0,len:2},{val:"HH",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:23},{val:"H",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:23},{val:"hh",type:"hour",regex:/\d{2}/,time:!0,len:2,max:12},{val:"h",type:"hour",regex:/\d{1,2}/,time:!0,max:12},{val:"kk",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:24,deduct:-1},{val:"k",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:24,deduct:-1},{val:"mm",type:"minute",regex:/\d{2}/,time:!0,len:2,max:59},{val:"m",type:"minute",regex:/\d{1,2}/,time:!0,max:59},{val:"ss",type:"second",regex:/\d{2}/,time:!0,len:2,max:59},{val:"s",type:"second",regex:/\d{1,2}/,time:!0,max:59},{val:"S",type:"millisecond",regex:/[0-9]{1,}/,time:!0,valForm:/[S]+/},{val:"zz",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"z",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"X",type:"timestamp",regex:/\d{10}/,time:!0},{val:"x",type:"timestamp",regex:/\d{13,}/,time:!0,milli:!0},{val:"dddd",type:"longdate",regex:/[A-z]{3,}/,long:!0,str:!0,array:i},{val:"ddd",type:"longdate",regex:/[A-z]{3}/,str:!0,array:l},{val:"dd",type:"longdate",regex:/[A-z]{2}/,str:!0,array:a},{val:"do",type:"longdate",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"d",type:"longdate",regex:/\d{1}/},{val:"Qo",type:"quarter",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"Q",type:"quarter",regex:/\d{1}/}];function c(t,e){t&&(this._arg=t),this._format=e,function(t){if(!t)return!0;var e=t.constructor;if(e==Array&&!e.length)return!0;if(e==Object&&!Object.keys(t).length)return!0;return!1}(t)&&(t=new Date),this._isValid=w.call(this,t,e)}function h(t){return void 0!=t}function u(t,e,o){for(var i=0,l=0;l<t;l++)i+=n[l],e&&1==l&&(i+=1);return i+(o||0)}function y(t){return 2==(t+="").length&&(t=parseInt(t)>=70?"19"+t:"20"+t),(t=parseInt(t))%4==0&&t%100!=0||t%400==0}function m(t){var e=t.match(/{{/),o=t.match(/}}/);return e&&o?m(t=t.replace(t.slice(e.index,o.index+2),function(t){for(var e="",o=0;o<t.length-4;o++)e+="*";return e})):t}function g(t){for(var e=p.slice(),o=[],i=0;i<e.length;i++){var l=e[i];if(!t.length)break;t.indexOf(l.val)>-1&&(o.push({format:l,index:t.indexOf(l.val)}),t=t.replace(l.val,Math.pow(10,l.val.length-1)),i--)}return o.sort(function(t,e){return t.index-e.index})}function f(t,e,o,i){return t=t.replace(e,i||""),o&&(t=t.replace(/st|nd|rd|th/,"")),t}function v(t,e){var o,i;for(i=0;i<t.length;i++)if(new RegExp(t[i]).test(e)){o=t[i];break}return{mon:o,index:i}}function D(t,i,l,a){var n;if(l){var r=v(a?o:e,t);n=r.mon,t=r.index}else(t=parseInt(t)-1)>11&&(t="Invalid");return{val:t,mon:n}}function b(t){var e,o=parseInt(t[2]);return minute=parseInt(t[3]),e=60*o+minute,"+"==t[1]?-1*e:e}function P(t,e){if(t=parseInt(t),ini=0,ind=0,inc=n[0],t>365+(e?1:0))return{};for(;ini+inc<t;)ini+=inc,ind++,inc=n[ind],e&&1==ind&&(inc+=1);return{day:t-ini,mon:ind}}function C(t){var e,o=y(t.getFullYear()),i=t.getMonth(),l=t.getDate(),a=-s,n=new Date(t.getFullYear(),0).getDay();return a+=u(i,o),0==i&&n>4&&l<3+s&&(a=a+365+((o=y(t.getFullYear()-1))?1:0),n=new Date(t.getFullYear()-1,0).getDay(),e=!0),{week:Math.ceil((a+n+l)/7),day:(a+n+l)%7||7,repYear:e}}function L(t,e){for(var o,i,l={},a=new Date((new Date).getFullYear(),0),p=g(m(e)),c=t,u=e=e.replace(/{{|}}/g,""),C=0;C<p.length;C++){var L,x=p[C].format;switch(x.type){case"date":case"year":case"week":case"day":x.regex.test(t)?(L=parseInt(t.match(x.regex)[x.match||0]),l[x.type]=L,t=f(t,x.regex,x.suff),c=f(c,x.regex,x.suff,x.val),"week"==x.type&&(t=f(t,r)),"day"==x.type&&x.local&&l.day++,x.year&&(l.date=P(l.date).day)):l.year&&l.week?(l[x.type]=s,e=e.replace(x.val,""),u=u.replace(x.val,"")):l[x.type]="Invalid";break;case"month":x.regex.test(t)?(L=D(t.match(x.regex)[0],x.suff,x.str,x.long),l.month=L.val,t=f(t,L.mon||x.regex,x.suff),c=f(c,L.mon||x.regex,x.suff,x.val)):l.month="Invalid";break;case"quarter":x.regex.test(t)&&(L=t.match(x.regex)[0],l.quarter=L,t=f(t,L,x.suff),c=f(c,L,x.suff,x.val));break;case"longdate":x.regex.test(t)&&(L=x.str?v(x.array,t.match(x.regex)[0]):parseInt(t.match(x.regex)[0]),l.longdate=h(L.index)?L.index:L,t=f(t,L.mon||L,x.suff),c=f(c,L.mon||L,x.suff,x.val));break;case"hour":case"minute":case"second":case"meridian":x.regex.test(t)&&(x.str?L=t.match(x.regex)[0]:(L=parseInt(t.match(x.regex)[0]),x.railway&&(l.railway=!0)),x.deduct&&L--,l[x.type]=L,x.max&&L>x.max&&(l[x.type]="Invalid"),t=f(t,x.regex),c=f(c,x.regex,x.suff,x.val));break;case"millisecond":x.regex.test(t)&&(L=t.match(x.regex)[0],l.millisecond=parseFloat(L),t=f(t,L).replace(/[S]+/,""),c=f(c,x.regex,x.suff,x.val),u=u.replace(/[S]+/,"S"));break;case"timestamp":x.regex.test(t)&&(L=parseInt(t.match(x.regex)[0]),l.timestamp=L*(x.milli?1:1e3),t=f(t,L),c=f(c,L,x.suff,x.val));break;case"timezone":x.regex.test(t)&&(x.str?(L=t.match(x.regex)[0],L=d[L]):L=b(t.match(x.regex)),this._utcOffset=L,l.timezone=L-a.getTimezoneOffset(),t=f(t,x.regex),c=f(c,x.regex,x.suff,x.val))}e=e.replace(x.valForm||x.val,"")}if(h(l.day)||h(l.week)){var S=l.date;h(l.year)||(l.year=a.getFullYear()),h(l.day)||(l.day=s),function(t){if(void 0!=t.day||t.week){var e=new Date(t.year,0,1);if(!w.call(this,e))return{};var o=e.getDay(),i=y(t.year||e.getFullYear()),l=s+t.week==1?t.day-o+s:2==t.week?7+s-o+t.day:7+s-o+t.day+7*(t.week-2);if(l>365+(i?1:0)&&new Date(t.year+1,0,1).getDay()>4&&(t.year+=1,l-=365+(i?1:0)),l>365+(i?1:0)||0==t.day||t.day>7)return void(t.month=t.year=t.date="Invalid");var a=P(l,i);t.month=a.mon,t.date=a.day}if(t.year){var n=parseInt(t.year);n<100&&(t.year=n>=70?1900+n:2e3+n)}t.month<0&&(t.month="Invalid"),t.date<1&&(t.date="Invalid")}.call(this,l),h(S)&&(l.date>S&&l.month++,l.date=S)}if(h(l.longdate)&&l.day&&l.day!=l.longdate?a.setFullYear("Invalid"):h(l.year)&&a.setFullYear(l.year),h(l.month)&&a.setMonth(l.month),h(l.date)&&a.setDate(l.date<=n[a.getMonth()]+(y(a.getFullYear())?1:0)?l.date:"Invalid"),h(l.hour)){var _=l.meridian;a.setHours(l.railway?(o=l.hour,(i=_?"PM"==_:l.hour>11)&&o<12?o+=12:12!=o||i||(o=0),o):"PM"==_?l.hour<12?l.hour+12:l.hour:l.hour%12)}return h(l.minute)&&a.setMinutes(l.minute),h(l.second)&&a.setSeconds(l.second+.001*(l.millisecond||0)),h(l.timestamp)&&(a=new Date(l.timestamp)),h(l.timezone)&&a.setMinutes(a.getMinutes()+l.timezone),!!(this._isCorrectFormat=t.length==e.length&&u==c&&w.call(this,a))||(this._format?void 0:w.call(this,new Date(this._arg)))}function x(t,e,o,i){var l="";if(i&&t++,o&&(l=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(t)),e){t=t.toString();for(var a=1;a<e;a++)t.length<=a&&(t="0"+t)}return t+l}function S(){var t;return this._UTC&&(t=new Date(this._dateObj.getTime())).setMinutes(t.getMinutes()+t.getTimezoneOffset()),t||this._dateObj}function w(t,e){var o=t.constructor;if(o==Date)return this._dateObj=t,this._isMoment=!0,"Invalid Date"!=t.toString();if(o==String){if(e){var i=L.call(this,t,e);return i&&this._isCorrectFormat&&(this._format=e),i}if(this.constructFormat)return w.call(this,t,this.constructFormat.call(this,t));console.warn("Its not supported in lyte-moment-basic.js. Add lyte-moment-additional.js for format construction")}else{if(o==Array)return w.call(this,new Date(Date.parse(Date.apply(Date,o))).getTime());if(o==Number)return t*=/^\d{10}$/.test(t)?1e3:1,w.call(this,new Date(t));if(t._isMoment)return w.call(this,t._dateObj)}}c.prototype={_UTC:!1,isDef:h,find:v,isLeap:y,dayArr:n,getDObj:S,getWeekReverse:C,weekShort:a,weekMid:l,weekLong:i,longMon:o,shortMon:e,week:r,formats:p,replace:f,inbuiltFormats:{},validate:function(){return!!this._isValid},toDate:function(){return this._dateObj},isSame:function(t){return!(!t||!t._isMoment)&&this._dateObj==t._dateObj},format:function(t){if(this._isValid)return t=this.inbuiltFormats[t]||t||"YYYY-MM-DDTHH:mm:ssZ",function(t){var e=S.call(this),o=g(m(t)),i={},l={date:e.getDate(),month:e.getMonth(),year:e.getFullYear(),day:e.getDay()};t=function(t,e){for(var o=0,i=0;i<e.length;i++)t=t.slice(0,e[i].index+o)+e[i].format.val+"lyteMoment"+t.slice(e[i].index+o+e[i].format.val.length),o+=10;return t}(t.replace(/{{|}}/g,""),o);for(var a=0;a<o.length;a++){var n=o[a].format;switch(n.type){case"date":t=t.replace(n.val+"lyteMoment",x(n.year?u(l.month,y(l.year),l.date):l.date,n.len,n.suff));break;case"month":t=n.str?t.replace(n.val+"lyteMoment",n.array[l.month]):t.replace(n.val+"lyteMoment",x(l.month+1,n.len,n.suff));break;case"year":t=t.replace(n.val+"lyteMoment",2==n.len?l.year%100:l.year),i.year=i.year||[],i.year.push(n);break;case"day":case"week":i.flag=!0,i[n.type]=i[n.type]||[],i[n.type].push(n);break;case"quarter":t=t.replace(n.val+"lyteMoment",x(Math.ceil((l.month+1)/3),null,n.suff));break;case"longdate":t=n.str?t.replace(n.val+"lyteMoment",n.array[l.day]):t.replace(n.val+"lyteMoment",x(l.day,null,n.suff));break;case"hour":var s=e.getHours();t=t.replace(n.val+"lyteMoment",x(n.railway?s:s>12?s%12:s||12,n.len,null,n.deduct));break;case"minute":t=t.replace(n.val+"lyteMoment",x(e.getMinutes(),n.len));break;case"second":t=t.replace(n.val+"lyteMoment",x(e.getSeconds(),n.len));break;case"millisecond":t=t.replace(n.val+"lyteMoment",e.getMilliseconds()/Math.pow(10,3)).replace(/\\S+/,"");break;case"timezone":var d="";if(!n.str){var p=e.getTimezoneOffset(),c=(s=this._UTC?"00":x(Math.abs(parseInt(p/60)),2),this._UTC?"00":x(Math.abs(p%60),2)),h=p<0?"+":"-";d="ZZ"==n.val?h+s+c:h+s+":"+c}t=t.replace(n.val+"lyteMoment",d);break;case"timestamp":d="","X"==n.val?d+=parseInt(e.getTime()/1e3):d+=e.getTime(),t=t.replace(n.val+"lyteMoment",d);break;case"meridian":var f=e.getHours()>11?"PM":"AM";n.lower&&(f=f.toLowerCase()),t=t.replace(n.val+"lyteMoment",f)}}if(i.flag){var v=C(e);if(i.week)for(var D=0;D<i.week.length;D++)t=t.replace(i.week[D].val+"lyteMoment",r+x(v.week,i.week[D].len,i.week[D].suff));if(i.day)for(D=0;D<i.day.length;D++)t=t.replace(i.day[D].val+"lyteMoment",v.day-(i.day[D].local?1:0));if(v.repYear&&i.year)for(D=0;D<i.year.length;D++)t=t.replace(2==i.year[D].len?l.year%100:l.year,(2==i.year[D].len?l.year%100:l.year)-1)}return t.replace(/{{|}}/g,"")}.call(this,t)},utc:function(t){return this._UTC=!0,this},local:function(t){return this._UTC=!1,this},utcOffset:function(t){if(this._isValid)return this._UTC?0:this._dateObj.getTimezoneOffset()}},$L.moment=function(t,e){return new c(t,e)},$L.moment.lyteMoment=c}}(window),function(t){if($L.moment){var e=$L.moment.lyteMoment.prototype,o=[{val:"YYYY-MM-DD",regex:/^(\d{4}-\d{2}-\d{2})/},{val:"GGGG-["+e.week+"]WW-E",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2}-\\d)")},{val:"GGGG-["+e.week+"]WW",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2})")},{val:"YYYY-DDD",regex:/^(\d{4}-\d{3})/},{val:"YYYY-MM",regex:/^(\d{4}-\d{2})/},{val:"YYYYMMDD",regex:/^(\d{8})/},{val:"GGGG["+e.week+"]WWE",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2}\\d)")},{val:"GGGG["+e.week+"]WW",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2})")},{val:"YYYYDDD",regex:/^(\d{4}\d{3})/}],i=[{val:"HH:mm:ss.SSSS",regex:/^\d{2}:\d{2}:\d{2}\.[0-9]{1,}$/},{val:"HH:mm:ss,SSSS",regex:/^\d{2}:\d{2}:\d{2},[0-9]{1,}$/},{val:"HH:mm:ss",regex:/^\d{2}:\d{2}:\d{2}$/},{val:"HH:mm",regex:/^\d{2}:\d{2}$/},{val:"HHmmss.SSSS",regex:/^\d{6}\.[0-9]{1,}$/},{val:"HHmmss,SSSS",regex:/^\d{6},[0-9]{1,}$/},{val:"HHmmss",regex:/^\d{6}$/},{val:"HHmm",regex:/^\d{4}$/},{val:"HH",regex:/^\d{2}$/}];function l(t,e){for(var o=this.formats.slice(),i={},l=t,a=new RegExp(this.week+"|G|E","i").test(t),n=0;n<o.length;n++){var r=o[n];if(e==r.time&&(r.regex.test(l)&&a==!!r.isWEG&&!this.isDef(i[r.type]))){if(r.ignore&&!r.ignore.test(l)){var s=this.dayArr[i.month]||30;if(parseInt(l.match(r.regex)[0])<s)continue}if(r.str){(d=this.find(r.array,l.replace(/(Y|G)+/,"")).mon)&&(t=this.replace(t,d,!1,r.val),i[r.type]=r.array?this.find(r.array,d).index:d)}else{var d=l.match(r.regex)[0];t=this.replace(t,r.regex,r.suff,r.val),i[r.type]=parseInt(d),"week"==r.type&&(t=replace(t,new RegExp(this.week+"(?=\\["+this.week+")")))}l=l.replace(d,"")}}return t}function a(t,e){for(var o=0;o<t.length;o++)if(t[o].regex.test(e))return t[o]}e.additional=!0,$L.extend(e,{inbuiltFormats:{localDatetime:"YYYY-MM-DDTHH:mm",localSecondDatetime:"YYYY-MM-DDTHH:mm:ss",localMillisecondDatetime:"YYYY-MM-DDTHH:mm:ss.SSS",defaultDate:"YYYY-MM-DD",defaultTime:"HH:mm",defaultTimeSecond:"HH:mm:ss",defaultTimeMillisecond:"HH:mm:ss.SSS",defaultWeek:"GGGG-[W]WW",defaultMonth:"YYYY-MM"},get:function(t){if(t)return this[t]()},set:function(t,e){if(t){if(e.constructor==Object){for(var o in e)this[o](e[o]);return this}return this[t](e)}},constructFormat:function(t){var e,n=a.call(this,o,t);return n?t=(e=a.call(this,i,t.replace(n.regex,"")))?n.val+e.val:l.call(this,t.replace(n.regex,n.val),!0):(t=l.call(this,t),t=l.call(this,t,!0)),t}}),new Array({prop:"date",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"day",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"month",array:[e.shortMon,e.longMon]},{prop:"year"},{prop:"fullYear"},{prop:"hours"},{prop:"minutes"},{prop:"seconds"},{prop:"milliseconds"},{prop:"UTCMilliseconds"},{prop:"time"}).forEach(function(t){e[t.prop]=function(e){if(this._isValid){var o=this.getDObj(),i=t.prop[0].toUpperCase()+t.prop.slice(1);if(this.isDef(e)){if(e.constructor==String)for(var l=0;l<t.array.length;l++){var a=this.find(t.array[l],e);if(a.mon){e=a.index;break}}else e.constructor==Number&&Math.floor(e)!=e&&("year"==t.prop?(t.prop="month",e=Math.round(12*e)):e=Math.round(e));return"day"==t.prop?o.setDate(o.getDate()+(e-o.getDay())):o["set"+i](e),this}return o["get"+i]()}}}),$L.extend(e,{week:function(t){if(this._isValid){var e=this.getDObj();return this.isDef(t)?(e.setDate(e.getDate()+7*(t-this.week())),this):this.getWeekReverse.call(this,e).week}},quarter:function(t){if(this._isValid){var e=this.getDObj();if(this.isDef(t)){e.getMonth();return e.setMonth(e.getMonth()+3*(t-this.quarter())),this}return Math.ceil(e.getMonth()/3)}},add:function(t,e){if(this._isValid){this.getDObj();if(this.isDef(e))return this.set(e,this.get(e)+t)}},subtract:function(t,e){if(this._isValid){this.getDObj();if(this.isDef(e))return this.set(e,this.get(e)-t)}},startOf:function(t){if(this._isValid){var e,o=this.getDObj();switch(t){case"year":e=o.setFullYear(o.getFullYear());case"month":e=o.setMonth(e?0:o.getMonth());case"date":case"day":e=o.setDate(e?1:o.getDate());case"week":if(!e){var i=this.getWeekReverse(o);e=o.setDate(o.getDate()-(i.day-1))}case"hour":e=o.setHours(e?0:o.getHours());case"minute":e=o.setMinutes(e?0:o.getMinutes());case"second":e=o.setSeconds(e?0:o.getSeconds());default:o.setMilliseconds(e?0:o.getMilliseconds())}return this}},endOf:function(t){if(this._isValid){var e,o=this.getDObj();switch(t){case"year":e=o.setFullYear(o.getFullYear());case"month":e=o.setMonth(e?11:o.getMonth());case"date":case"day":var i=o.getMonth();e=o.setDate(e?this.dayArr[i]+(1==i&&isLeap(o.getFullYear()?1:0)):o.getDate());case"week":if(!e){var l=this.getWeekReverse(o);e=o.setDate(o.getDate()+(7-l.day))}case"hour":e=o.setHours(e?23:o.getHours());case"minute":e=o.setMinutes(e?59:o.getMinutes());case"second":e=o.setSeconds(e?59:o.getSeconds());default:o.setMilliseconds(e?999:o.getMilliseconds())}return this}},fromNow:function(t){if(this._isValid){var e=this.get("time"),o=$L.moment(t).get("time");if(this.isDef(o)){var i,l,a=parseInt((o-e)/1e3),n=a<0,r={years:{val:27648e3,conv:31536e3},months:{val:2246400,conv:2592e3},days:{val:79200,conv:86400},hours:{val:2700,conv:3600},minutes:{val:44,conv:60},seconds:{val:0,conv:1}};for(i in a=Math.abs(a),r)if(a>=r[i].val){l=Math.round(a/r[i].conv);break}if(this.isDef(l))return{property:i,value:l,past:n,timestamp:o-e}}}}})}}(window);