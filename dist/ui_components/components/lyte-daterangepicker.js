Lyte.Component.register("lyte-daterangepicker",{_template:'<template tag-name="lyte-daterangepicker">\n    <template is="switch" value="{{ltPropSelectionType}}"><template case="continuous">  \n        <div class="lyteDateRangePickerRow" onmousedown="{{action(\'mouseDown\',event)}}" onmouseover="{{action(\'mouseOver\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'previous\',\'M\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'next\',\'M\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'next\',\'Y\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n        </template><template case="separate">\n        <div class="lyteDateRangePickerRow lyteSeperateDRP" onmousedown="{{action(\'separateMouseDown\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal1\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal1\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal2\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal2\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n    </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{continuous:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[3,1]},{type:"attr",position:[3,3]}]},{type:"componentDynamic",position:[1,3,1]}]},separate:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,3,1]}]}},default:{}}],_observedAttributes:["monthHeader1","monthHeader2","ltPropCurrentDate","ltPropFormat","ltPropMonthHeaderFormat","shortMonthNames","longMonthNames","ltPropStartYear","ltPropEndYear","ltPropStartDate","ltPropEndDate","ltPropDisabledDates","ltPropMinDate","ltPropMaxDate","ltPropSelectionType","years","dateSelected","selectedDate1","selectedDate2","calViewDate1","calViewDate2","tempDate","monthNames","dateNode1","dateNode2","clickCount","convertedDates","convert","internallyChanged","monthNames1","monthNames2","years1","years2","triggerInit","triggerDidconnect"],data:function(){return{monthHeader1:Lyte.attr("string",{default:"Initializing.."}),monthHeader2:Lyte.attr("string",{default:"Initializing.."}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMM YYYY"}),shortMonthNames:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),longMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),ltPropStartYear:Lyte.attr("number",{default:1900}),ltPropEndYear:Lyte.attr("number",{default:2100}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropDisabledDates:Lyte.attr("array",{default:[]}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropSelectionType:Lyte.attr("string",{default:"continuous"}),years:Lyte.attr("array",{default:[]}),dateSelected:Lyte.attr("boolean",{default:!1}),selectedDate1:Lyte.attr("string"),selectedDate2:Lyte.attr("string"),calViewDate1:Lyte.attr("object"),calViewDate2:Lyte.attr("object"),tempDate:Lyte.attr("string"),monthNames:Lyte.attr("array"),dateNode1:Lyte.attr("object"),dateNode2:Lyte.attr("object"),clickCount:Lyte.attr("number",{default:0}),convertedDates:Lyte.attr("array",{default:[]}),convert:Lyte.attr("number",{default:0}),internallyChanged:Lyte.attr("boolean",{default:!1}),monthNames1:Lyte.attr("array"),monthNames2:Lyte.attr("array"),years1:Lyte.attr("array",{default:[]}),years2:Lyte.attr("array",{default:[]}),triggerInit:Lyte.attr("number",{default:0}),triggerDidconnect:Lyte.attr("number",{default:0})}},initFunc:function(){for(var t=[],e=this.getData("ltPropStartYear");e<=this.getData("ltPropEndYear");e++)t.push(e);"continuous"==this.getData("ltPropSelectionType")&&this.setData("years",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("years1",t),this.setData("years2",t));var a=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(e=0;e<12;e++)a.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)a.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));this.setData("monthNames",a),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",a),this.setData("monthNames2",a))}.observes("ltPropStartYear","ltPropEndYear","triggerInit").on("init"),toggleSelectionType:function(){this.setData("triggerInit",this.getData("triggerInit")+1),this.setData("triggerDidconnect",this.getData("triggerDidconnect")+1)}.observes("ltPropSelectionType"),convertDisabledDates:function(){this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates()}.observes("ltPropDisabledDates.[]","convert"),setMonths:function(){var t=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(var e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));"continuous"==this.getData("ltPropSelectionType")&&this.setData("monthNames",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",t),this.setData("monthNames2",t))}.observes("ltPropMonthHeaderFormat"),didConnectFunc:function(){var t=this.$node.querySelector(".dRPCalendar1"),e=this.$node.querySelector(".dRPCalendar2"),a=new Date,s=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):a;"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(s=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))),"separate"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&(s=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"));var o=s.getDate(),i=s.getMonth(),l=s.getFullYear();if(this.setMonthAndYear(t,{dd:o,mm:i,yy:l},"cal1"),"continuous"==this.getData("ltPropSelectionType"))i<11?i+=1:(i=0,l+=1),this.setMonthAndYear(e,{dd:1,mm:i,yy:l}),(r=this.$node.querySelector(".lyteCalSel"))&&(n=new Date(r.dataset.date)).getMonth()===a.getMonth()&&n.getDate()===a.getDate()&&n.getFullYear()===a.getFullYear()&&(r.classList.remove("lyteCalSel"),r.classList.add("lyteCalToday"));else if("separate"==this.getData("ltPropSelectionType")){if(this.getData("ltPropEndDate")){s=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max");o=s.getDate(),i=s.getMonth(),l=s.getFullYear()}var r;if(this.setMonthAndYear(e,{dd:o,mm:i,yy:l}),(r=this.$node.querySelectorAll(".lyteCalSel")).length>0)for(var n=new Date(r[0].dataset.date),d=0;d<r.length;d++)n.getMonth()===a.getMonth()&&n.getDate()===a.getDate()&&n.getFullYear()===a.getFullYear()&&(r[0].classList.remove("lyteCalSel"),r[0].classList.add("lyteCalToday"));this.validateNavigationAndDropdown()}this.getData("ltPropDisabledDates").length>0&&this.setData("convert",this.getData("convert")+1),"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate")))}.observes("ltPropCurrentDate","ltPropMinDate","ltPropMaxDate","triggerDidconnect").on("didConnect"),restrictCalendarDates:function(t,e,a){var s;if("cal1"==t?s=this.$node.querySelector(".dRPCalendar1"):"cal2"==t&&(s=this.$node.querySelector(".dRPCalendar2")),"min"===a){s.ltProp("minDate",e);var o=this.stringToDate(e,this.getData("ltPropFormat"));this.calculateYears(t,o.getFullYear(),this.getData("ltPropEndYear"))}else"max"==a&&(s.ltProp("maxDate",e),maxDate=this.stringToDate(e,this.getData("ltPropFormat")),this.calculateYears(t,this.getData("ltPropStartYear"),maxDate.getFullYear()))},calculateYears:function(t,e,a){for(var s=[],o=e;o<=a;o++)s.push(o);"cal1"==t&&this.setData("years1",s),"cal2"==t&&this.setData("years2",s)},changeStartAndEndDate:function(){"separate"==this.getData("ltPropSelectionType")&&(this.getData("ltPropStartDate")&&this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"),this.getData("ltPropEndDate")&&this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max"),this.getData("ltPropStartDate")&&(this.checkAndRemoveSelectedDateClass("start"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar1"),this.getData("ltPropStartDate"),"start")),this.getData("ltPropEndDate")&&(this.checkAndRemoveSelectedDateClass("end"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar2"),this.getData("ltPropEndDate"),"end"))),"continuous"==this.getData("ltPropSelectionType")&&(this.getData("internallyChanged")?this.setData("internallyChanged",!1):""===this.getData("ltPropStartDate")||""===this.getData("ltPropEndDate")?(this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart()):this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate"))))}.observes("ltPropStartDate","ltPropEndDate"),checkforStartDateAndEndDate:function(t,e,a){for(var s=t.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),o=0;o<s.length;o++)if(s[o].dataset.date==e)return"start"==a&&(s[o].classList.add("lyteDateRPFirstDateSelected"),this.setData("dateNode1",s[o])),void("end"==a&&(s[o].classList.add("lyteDateRPLastDateSelected"),this.setData("dateNode2",s[o])))},checkAndRemoveSelectedDateClass:function(t){if("start"==t){var e=this.$node.querySelector(".dRPCalendar1"),a=Array.from(e.querySelectorAll(".lyteDateRPFirstDateSelected"));if(Lyte.arrayUtils(a,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(a,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),a.length>0)for(var s=0;s<a.length;s++)a[s].classList.remove("lyteDateRPFirstDateSelected","lyteCalToday","lyteCalSel")}if("end"==t){e=this.$node.querySelector(".dRPCalendar2"),a=Array.from(e.querySelectorAll(".lyteDateRPLastDateSelected"));if(Lyte.arrayUtils(a,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(a,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),a.length>0)for(s=0;s<a.length;s++)a[s].classList.remove("lyteDateRPLastDateSelected","lyteCalToday","lyteCalSel")}},validateNavigationAndDropdown:function(){if(this.getData("ltPropStartDate")){var t=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate2"),a=this.$node.querySelector(".lyteDateRangePickerCol2 .lyteDateRPLeftNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?a.classList.add("lyteDateRPNavDisabled"):a.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(o=(s=this.getData("monthNames2")).indexOf(this.getData("monthNames")[t.getMonth()]))&&0==o||this.calculateMonths("cal2",t.getMonth());else this.getData("monthNames2").length<12&&this.setData("monthNames2",this.getData("monthNames"))}if(this.getData("ltPropEndDate")){var s,o;t=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate1"),a=this.$node.querySelector(".lyteDateRangePickerCol1 .lyteDateRPRightNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?a.classList.add("lyteDateRPNavDisabled"):a.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(o=(s=this.getData("monthNames1")).indexOf(this.getData("monthNames")[t.getMonth()]))&&o==s.length-1||this.calculateMonths("cal1",t.getMonth());else this.getData("monthNames1").length<12&&this.setData("monthNames1",this.getData("monthNames"))}},calculateMonths:function(t,e){if("cal1"==t){var a=this.getData("monthNames");this.setData("monthNames1",a.slice(0,e+1))}if("cal2"==t){a=this.getData("monthNames");this.setData("monthNames2",a.slice(e))}},setMonthAndYear:function(t,e,a){t.ltProp("currentDate",this.constructDateString(e.mm+1,e.dd,e.yy)),t.setData("currentDatechanged",t.getData("currentDatechanged")+1),"separate"==this.getData("ltPropSelectionType")&&("cal1"==a&&-1==this.getData("monthNames1").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames1",this.getData("monthNames")),"cal2"==a&&-1==this.getData("monthNames2").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames2",this.getData("monthNames"))),t.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[e.mm]),t.querySelector(".yearDD").ltProp("selected",""+e.yy),"cal1"==a?this.setData("calViewDate1",t.getData("viewDate")):this.setData("calViewDate2",t.getData("viewDate"))},selectDates:function(t){var e=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),a=this.getData("dateNode1"),s=this.getData("dateNode2"),o=Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat"))),i=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),l=this.$node.querySelector(".lyteDateRPTempFirstDateSelected"),r=this.$node.querySelector(".lyteDateRPTempLastDateSelected");if(l&&l.classList.remove("lyteDateRPTempFirstDateSelected"),r&&r.classList.remove("lyteDateRPTempLastDateSelected"),this.removeMonthEndAndStart(),o<i)for(var n=0;n<e.length;n++){(d=Date.parse(this.stringToDate(e[n].dataset.date,this.getData("ltPropFormat"))))>=o&&d<=i?e[n].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,n,o,i):(d==o?a.classList.add("lyteDateRPTempFirstDateSelected"):d==i?s.classList.add("lyteDateRPTempLastDateSelected"):e[n].classList.contains("lyteDateRPTempSelected")||e[n].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,n,this.getData("selectedDate1"),t)):(e[n].classList.contains("lyteDateRPTempSelected")||e[n].classList.contains("lyteCalSel"))&&e[n].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else if(o>i)for(n=0;n<e.length;n++){var d;(d=Date.parse(this.stringToDate(e[n].dataset.date,this.getData("ltPropFormat"))))>=i&&d<=o?e[n].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,n,i,o):(d==i?s.classList.add("lyteDateRPTempFirstDateSelected"):d==o?a.classList.add("lyteDateRPTempLastDateSelected"):e[n].classList.contains("lyteDateRPTempSelected")||e[n].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,n,t,this.getData("selectedDate1"))):(e[n].classList.contains("lyteDateRPTempSelected")||e[n].classList.contains("lyteCalSel"))&&e[n].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else this.checkAndRemoveAllSelectedClasses(),this.setData("selectedDate1",t),s.classList.add("lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected"),this.checkForMonthEndAndStart(e,Array.from(e).indexOf(s),t,this.getData("selectedDate1"));this.setData("tempDate",t)},checkAndMarkDisabledDates:function(){var t=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(0!=t.length)for(var e,a=0;a<t.length;a++)e=t[a].dataset.date,this.checkForDisabledDates(e)&&t[a].classList.add("lyteCalDisabled")},checkForDisabledDates:function(t){for(var e=this.getData("ltPropDisabledDates"),a=0;a<e.length;a++)if(new RegExp(e[a]).test(t))return!0;return!1},checkForBeforeAndAfter:function(t,e,a,s){if(e>0&&e<t.length-1){var o=Date.parse(this.stringToDate(t[e-1].dataset.date,this.getData("ltPropFormat"))),i=Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")));o>=a&&o<=s&&t[e-1].classList.add("lyteDateRPInterimEndDate"),i>=a&&i<=s&&t[e+1].classList.add("lyteDateRPInterimStartDate")}},checkAndRemoveAllSelectedClasses:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPFirstDateSelected"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempFirstDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPFirstDateSelected","lyteDateRPTempSelected","lyteDateRPLastDateSelected","lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected","lyteCalSel","lyteCalToday");this.setData("selectedDate1",""),this.setData("selectedDate2","")},checkForMonthEndAndStart:function(t,e,a,s){var o=this.$node.querySelectorAll(".lyteCalCdate"),i=o[o.length-1];"1"===t[e].innerText&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(a,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(s,this.getData("ltPropFormat")))?(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthStartDate")):(e+1<t.length&&"1"===t[e+1].innerText&&Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(a,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(s,this.getData("ltPropFormat")))||e==t.length-1&&t[e].isEqualNode(i)&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(a,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(s,this.getData("ltPropFormat"))))&&(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthEndDate"))},removeMonthEndAndStart:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPMonthStartDate"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPMonthEndDate")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPMonthStartDate","lyteDateRPMonthEndDate")},executeSelected:function(t){this.getMethods("onDateSelected")&&(Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(this.getData("selectedDate2"),this.getData("ltPropFormat")))?("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate1")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate2"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate1"),this.getData("selectedDate2"),this)):("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate2")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate1"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate2"),this.getData("selectedDate1"),this)))},checkForSelectedDates:function(t,e){var a=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(t&&e)for(var s=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),o=Date.parse(this.stringToDate(e,this.getData("ltPropFormat"))),i=0;i<a.length;i++){(r=Date.parse(this.stringToDate(a[i].dataset.date,this.getData("ltPropFormat"))))>=s&&r<=o&&(a[i].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(a,i,s,o):(r==s&&a[i].classList.add("lyteDateRPFirstDateSelected"),r==o&&a[i].classList.add("lyteDateRPLastDateSelected"),r!==s&&r!==o&&a[i].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(a,i,t,e)))}else{this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates();s=this.getData("selectedDate1"),o=this.getData("selectedDate2");var l=this.getData("tempDate");if(s&&o)if((s=Date.parse(this.stringToDate(s,this.getData("ltPropFormat"))))<(o=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))))for(i=0;i<a.length;i++){(r=Date.parse(this.stringToDate(a[i].dataset.date,this.getData("ltPropFormat"))))>=s&&r<=o&&(a[i].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(a,i,s,o):(r==s&&a[i].classList.add("lyteDateRPFirstDateSelected"),r==o&&a[i].classList.add("lyteDateRPLastDateSelected"),r!==s&&r!==o&&a[i].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(a,i,this.getData("selectedDate1"),this.getData("selectedDate2"))))}else for(i=0;i<a.length;i++){(r=Date.parse(this.stringToDate(a[i].dataset.date,this.getData("ltPropFormat"))))>=o&&r<=s&&(a[i].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(a,i,o,s):(r==o&&a[i].classList.add("lyteDateRPFirstDateSelected"),r==s&&a[i].classList.add("lyteDateRPLastDateSelected"),r!==s&&r!==o&&a[i].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(a,i,this.getData("selectedDate2"),this.getData("selectedDate1"))))}else if(s&&l)if((s=Date.parse(this.stringToDate(s,this.getData("ltPropFormat"))))<(l=Date.parse(this.stringToDate(l,this.getData("ltPropFormat")))))for(i=0;i<a.length;i++){var r=Date.parse(this.stringToDate(a[i].dataset.date,this.getData("ltPropFormat")));a[i].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(a,i,s,l):s<=l&&r==s?a[i].classList.add("lyteDateRPTempFirstDateSelected"):r==l?a[i].classList.add("lyteDateRPTempLastDateSelected"):r>s&&r<l&&a[i].classList.add("lyteDateRPTempSelected")}else for(i=0;i<a.length;i++){r=Date.parse(this.stringToDate(a[i].dataset.date,this.getData("ltPropFormat")));a[i].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(a,i,l,s):l<=s&&r==s?a[i].classList.add("lyteDateRPTempFirstDateSelected"):r==s?a[i].classList.add("lyteDateRPTempLastDateSelected"):r>=o&&r<s&&a[i].classList.add("lyteDateRPTempSelected")}}},callOnNavigate:function(t,e,a,s,o){this.getMethods("onNavigation")&&this.executeMethod("onNavigation",t,e,a,this,o)},getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},stringToDate:function(t,e){try{var a=t.match(/([\da-z]+)/gi),s=(e=e.toUpperCase()).match(/([a-z]+)/gi),o=new Date,i=0,l=["Y","M","D"];if(o.setDate(1),3!==a.length)return"Invalid Date";for(;i<s.length;){var r=this.getOrderIndex(s,l[i]);if(0==i?o.setFullYear(a[r]):1==i?o.setMonth(this.getProperMonth(a[r])):2==i&&o.setDate(a[r]),"Invalid Date"===o.toString())return o.toString();i++}return o}catch(t){return"Invalid Date"}},getOrderIndex:function(t,e){for(var a=0;a<t.length;a++)if(t[a].charAt(0)===e)return a;return-1},constructDateString:function(t,e,a){var s,o,i=this.getData("ltPropFormat"),l="";if(-1!=i.indexOf("/")&&(s=i.split("/"),o="/"),3!=s.length)return"Invalid Format";for(var r=0;r<3;r++)"M"===s[r].toUpperCase().charAt(0)?(l+=t,2!=r&&(l+=o)):"D"===s[r].toUpperCase().charAt(0)?(l+=e,2!=r&&(l+=o)):"Y"===s[r].toUpperCase().charAt(0)&&(l+=a,2!=r&&(l+=o));return l},actions:{previous:function(t,e){var a=this.$node.querySelector(".dRPCalendar1"),s={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};a.setData("selectDate",!1);var o,i;if(o="M"==t?a.getData("viewDate").getMonth()-1:a.getData("viewDate").getMonth(),i="Y"==t?a.getData("viewDate").getFullYear()-1:a.getData("viewDate").getFullYear(),-1==o&&(o=11,i-=1),!(i<this.getData("ltPropStartYear"))){this.setMonthAndYear(a,{dd:1,mm:o,yy:i},"cal1"),o<11?o+=1:(o=0,i+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:1,mm:o,yy:i}),this.checkForSelectedDates();var l={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,s,l,this)}},next:function(t,e){var a=this.$node.querySelector(".dRPCalendar2");a.setData("selectDate",!1);var s,o,i={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};if(s="M"==t?a.getData("viewDate").getMonth()+1:a.getData("viewDate").getMonth(),o="Y"==t?a.getData("viewDate").getFullYear()+1:a.getData("viewDate").getFullYear(),12==s&&(s=0,o+=1),!(o>this.getData("ltPropEndYear"))){this.setMonthAndYear(a,{dd:1,mm:s,yy:o}),s>0?s-=1:(s=11,o-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:1,mm:s,yy:o},"cal1"),this.checkForSelectedDates();var l={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,i,l,this)}},mouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName){var a=this.getData("clickCount");a++,this.setData("clickCount",a);var s=this;if(1===a)singleClickTimer=setTimeout(function(){a=0,s.setData("clickCount",a)},400);else if(2===a){if(clearTimeout(singleClickTimer),a=0,this.setData("clickCount",a),e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),this.setData("dateNode2",e),e.classList.add("lyteDateRPFirstDateSelected","lyteDateRPLastDateSelected");var o=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(o,Array.from(o).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("selectedDate2",e.dataset.date),this.setData("dateSelected",!1),this.executeSelected(t)}return}if(e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray"))if(this.getData("dateSelected")){e.classList.contains("lyteDateRPTempSelected")&&e.classList.remove("lyteDateRPTempSelected"),Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(e.dataset.date,this.getData("ltPropFormat")))?(this.getData("dateNode1").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPFirstDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPLastDateSelected")):(this.getData("dateNode1").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPLastDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPFirstDateSelected")),this.setData("selectedDate2",e.dataset.date),this.setData("tempDate",""),this.setData("dateSelected",!1),this.executeSelected(t)}else{this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),e.classList.add("lyteDateRPTempFirstDateSelected"),e.classList.add("lyteDateRPTempLastDateSelected");o=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(o,Array.from(o).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("dateSelected",!0)}}},mouseOver:function(t){if(this.getData("dateSelected")){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"===e.tagName)return;e.classList.contains("lyteCalCdate")&&(e.classList.contains("lyteCalGray")||(this.setData("dateNode2",e),this.selectDates(e.dataset.date)))}},separateMouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName&&e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){var a=e.closest("lyte-calendar");if(a.classList.contains("dRPCalendar1")){this.setData("selectedDate1",e.dataset.date),this.setData("ltPropStartDate",e.dataset.date);var s=this.getData("calViewDate1"),o=this.getData("calViewDate2");if(s.getMonth()>o.getMonth()&&s.getFullYear()==o.getFullYear()||s.getFullYear()>o.getFullYear()){var i=this.$node.querySelector(".dRPCalendar2"),l=this.getData("calViewDate1").getMonth(),r=this.getData("calViewDate1").getFullYear();this.setMonthAndYear(i,{dd:1,mm:l,yy:r},"cal2"),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropEndDate"),"end")}}else if(a.classList.contains("dRPCalendar2")){this.setData("selectedDate2",e.dataset.date),this.setData("ltPropEndDate",e.dataset.date);s=this.getData("calViewDate1");if((o=this.getData("calViewDate2")).getMonth()<s.getMonth()&&o.getFullYear()==s.getFullYear()||o.getFullYear()<s.getFullYear()){var n=this.$node.querySelector(".dRPCalendar1");l=this.getData("calViewDate2").getMonth(),r=this.getData("calViewDate2").getFullYear();this.setMonthAndYear(n,{dd:1,mm:l,yy:r},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(n,this.getData("ltPropStartDate"),"start")}}this.validateNavigationAndDropdown(),this.getData("dateNode1")&&this.getData("dateNode2")&&this.executeSelected(t)}},separatePrevious:function(t,e,a){var s,o,i;if("cal1"==e?(s=this.$node.querySelector(".dRPCalendar1"),o=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(s=this.$node.querySelector(".dRPCalendar2"),o=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),s){s.setData("selectDate",!1);var l,r;if(l="M"==t?s.getData("viewDate").getMonth()-1:s.getData("viewDate").getMonth(),r="Y"==t?s.getData("viewDate").getFullYear()-1:s.getData("viewDate").getFullYear(),-1==l&&(l=11,r-=1),r<this.getData("ltPropStartYear"))return;this.setMonthAndYear(s,{dd:1,mm:l,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropStartDate"),"start"),i=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropEndDate"),"end"),i=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(a,o,i,this,"cal1"==e?"from Calendar":"to Calendar")}},separateNext:function(t,e,a){var s,o,i;if("cal1"==e?(s=this.$node.querySelector(".dRPCalendar1"),o=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(s=this.$node.querySelector(".dRPCalendar2"),o=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),s){s.setData("selectDate",!1);var l,r;if(l="M"==t?s.getData("viewDate").getMonth()+1:s.getData("viewDate").getMonth(),r="Y"==t?s.getData("viewDate").getFullYear()+1:s.getData("viewDate").getFullYear(),12==l&&(l=0,r+=1),r>this.getData("ltPropEndYear"))return;this.setMonthAndYear(s,{dd:1,mm:l,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropStartDate"),"start"),i=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropEndDate"),"end"),i=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(a,o,i,this,"cal1"==e?"from Calendar":"to Calendar")}}},methods:{addDropdownClass:function(t,e){e.childComp.classList.add("lyteCalendarDropdown")},editArrowPosition:function(t,e){var a=e.childComp.querySelector(".lyteArrow");_lyteUiUtils.getRTL()?(a.style.right="20%",a.style.left="auto"):(a.style.left="20%",a.style.right="auto")},optionSelected:function(t,e,a,s,o){if("separate"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);var i=1;if(n="M"==e?this.getData("monthNames").indexOf(s):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(s):r.getData("viewDate").getFullYear(),this.getData("ltPropEndDate"))if(n>(l=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat"))).getMonth()&&d>=l.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:i,mm:n,yy:d},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropStartDate"),"start")}else if("cal2"==t){(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var l;i=1;if(n="M"==e?this.getData("monthNames").indexOf(s):r.getData("viewDate").getMonth(),d="Y"==e?s:r.getData("viewDate").getFullYear(),this.getData("ltPropStartDate"))if(n<(l=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))).getMonth()&&d<=l.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:i,mm:n,yy:d}),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropEndDate"),"end")}this.validateNavigationAndDropdown()}if("continuous"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);i=1;if(n="M"==e?this.getData("monthNames").indexOf(s):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(s):r.getData("viewDate").getFullYear(),n>10&&d==this.getData("ltPropEndYear"))return void(s==_lyteUiUtils.i18n("Dec")||s==_lyteUiUtils.i18n("December")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:i,mm:n,yy:d},"cal1"),n<11?n+=1:(n=0,d+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:i,mm:n,yy:d})}else if("cal2"==t){var r;(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var n,d;i=1;if(n="M"==e?this.getData("monthNames").indexOf(s):r.getData("viewDate").getMonth(),d="Y"==e?s:r.getData("viewDate").getFullYear(),n<1&&d==this.getData("ltPropStartYear"))return void(s==_lyteUiUtils.i18n("Jan")||s==_lyteUiUtils.i18n("January")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:i,mm:n,yy:d}),n>0?n-=1:(n=11,d-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:i,mm:n,yy:d},"cal1")}this.checkForSelectedDates()}},viewDateChange:function(t,e,a){if("cal1"==t){var s=a.getMonth(),o=a.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[s]),e.$node.querySelector(".yearDD").ltProp("selected",""+o)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames1")[s]),e.$node.querySelector(".yearDD").ltProp("selected",""+o))}else if("cal2"==t){s=a.getMonth(),o=a.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[s]),e.$node.querySelector(".yearDD").ltProp("selected",""+o)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames2")[s]),e.$node.querySelector(".yearDD").ltProp("selected",""+o))}}}});