function addEvent(e){var t,l,a,i,o=0;document.addEventListener("mouseup",function(e){for(var t,l=e.target;l.parentElement;)if("lyte-dragdrop"==(l=l.parentElement).tagName.toLowerCase()){t=l.component;break}if(t&&t.getData("isDown"))if(t.setData("isDown",!1),t.getData("isMoved")){if(t.setData("isMoved",!1),t.onBeforeDropFunction(e)){if(t.getData("ltPropMultiselect")&&t.getData("multiSelectedItems").length>1){for(var a=(m=t.getData("placeholder")).getBoundingClientRect(),i=t.getData("multiSelectedItems"),r=0;r<i.length;r++)i[r].style.visibility="hidden";for(document.elementFromPoint(a.left,a.top-4),r=0;r<i.length;r++)i[r].style.visibility="visible";var s="sortableSec"==i[0].parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",n="sortableSec"==m.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",d=[];for(r=0;r<i.length;r++)d.push(t.getElement(i[r]));for(var c=0;c<d.length;c++)Lyte.arrayUtils(t.getData(s),"removeAt",t.getElementPosition(t.getData(s),d[c]),1);for(var p=m.previousElementSibling;p&&"TEMPLATE"==p.tagName;)p=p.previousElementSibling;if(p)Lyte.arrayUtils(t.getData(n),"insertAt",t.getElementPosition(t.getData(n),t.getElement(p))+1,d);else{for(var g=m.nextElementSibling;g&&"TEMPLATE"==g.tagName;)g=g.nextElementSibling;g?Lyte.arrayUtils(t.getData(n),"insertAt",t.getElementPosition(t.getData(n),t.getElement(g)),d):Lyte.arrayUtils(t.getData(n),"push",d)}m.parentElement.removeChild(m),t.setData("multiSelectedItems",[]),t.setData("prevMode",""),t.setData("keyPressed",!1),t.setData("keyValue",""),t.setData("placeholder",""),t.generateArray(),o=0}else{var m,h=t.getData("div"),u=t.getElement(h),y=(p=(m=t.getData("placeholder")).previousElementSibling,"sortableSec"==h.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist");for(n="sortableSec"==m.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist";p&&"TEMPLATE"==p.tagName;)p=p.previousElementSibling;if(p)Lyte.arrayUtils(t.getData(y),"removeAt",t.getElementPosition(t.getData(y),u),1),Lyte.arrayUtils(t.getData(n),"insertAt",t.getElementPosition(t.getData(n),t.getElement(p))+1,u);else{for(g=m.nextElementSibling;g&&("TEMPLATE"==g.tagName||g.isEqualNode(h));)g=g.nextElementSibling;g?(Lyte.arrayUtils(t.getData(y),"removeAt",t.getElementPosition(t.getData(y),u),1),Lyte.arrayUtils(t.getData(n),"insertAt",t.getElementPosition(t.getData(n),t.getElement(g)),u)):(Lyte.arrayUtils(t.getData(y),"removeAt",t.getElementPosition(t.getData(y),u),1),Lyte.arrayUtils(t.getData(n),"push",u))}t.$node.querySelector("#sortableSec").contains(t.$node.querySelector("#dummy"))&&t.$node.querySelector("#sortableSec").removeChild(t.$node.querySelector("#dummy")),t.getData("ltPropDraggable")&&t.$node.querySelector("#dropSec").contains(t.$node.querySelector("#dummy"))&&t.$node.querySelector("#dropSec").removeChild(t.$node.querySelector("#dummy")),t.removeDropable(h),t.generateArray()}t.onDropFunction(e)}else{if(t.getData("ltPropMultiselect")&&t.getData("multiSelectedItems").length>1){for(i=t.getData("multiSelectedItems"),c=0;c<i.length;c++)t.removeStyle(i[c]),i[c].classList.remove("lyteDraggableElem");t.removeDropableMultiple(i),t.setData("multiSelectedItems",[]),t.setData("prevMode",""),t.setData("keyPressed",!1),t.setData("keyValue",""),t.setData("placeholder",""),o=0}else t.removeStyle(t.getData("div")),t.getData("div").classList.remove("lyteDraggableElem"),t.removeDropable(t.getData("div"));t.getData("placeholder").remove()}}else{h=t.getData("div");if(t.getData("placeholder").parentElement.replaceChild(h,t.getData("placeholder")),t.$node.querySelector("#sortableSec").contains(t.$node.querySelector("#dummy"))&&t.$node.querySelector("#sortableSec").removeChild(t.$node.querySelector("#dummy")),t.getData("ltPropDraggable")&&t.$node.querySelector("#dropSec").contains(t.$node.querySelector("#dummy"))&&t.$node.querySelector("#dropSec").removeChild(t.$node.querySelector("#dummy")),t.removeStyle(h),t.getData("checkSelection")){var f=t.getData("keyValue");91!=f&&93!=f&&224!=f||(h.classList.remove("lyteDraggableElem"),t.removeFromArray(h)),16==f&&(t.removeClass(),t.setData("multiSelectedItems",[]),t.addToArray(h,"multiple"),t.setData("prevMode","multiple")),0==f&&(t.removeClass(),t.setData("multiSelectedItems",[]),t.getData("multiSelectedItems").push(h),h.classList.add("lyteDraggableElem"),t.setData("prevMode","single")),t.setData("checkSelection",!1)}}else{var b=document.querySelectorAll(".lyteDraggableElem");if(b)for(c=0;c<b.length;c++)b[c].classList.remove("lyteDraggableElem")}},!1),document.addEventListener("mousemove",function(e){for(var r,s=e.target;s.parentElement;)if("lyte-dragdrop"==(s=s.parentElement).tagName.toLowerCase()){r=s.component;break}if(r&&r.getData("isDown")){r.setData("isMoved",!0);var n=r.getData("div"),d=n.offsetParent.getBoundingClientRect(),c=n.getBoundingClientRect(),p=c.width,g=c.height;if(t={x:e.clientX,y:e.clientY},n.style.left=t.x-r.getData("offset")[0]-d.left+"px",n.style.top=t.y-r.getData("offset")[1]-d.top+"px",r.getData("ltPropMultiselect")&&r.getData("multiSelectedItems").length>1){for(var m=r.getData("multiSelectedItems"),h=m.indexOf(n),u=h-1;u>=0;u--)m[u].style.left=n.offsetLeft+"px",m[u].style.top=m[u+1].offsetTop-g+"px",m[u].style.boxSizing="border-box",m[u].style.width=p+"px",m[u].style.height=g+"px",m[u].style.position="absolute",m[u].classList.add("lyteDraggableElem");for(u=h+1;u<m.length;u++)m[u].style.left=n.offsetLeft+"px",m[u].style.top=m[u-1].offsetTop+g+"px",m[u].style.boxSizing="border-box",m[u].style.width=p+"px",m[u].style.height=g+"px",m[u].style.position="absolute",m[u].classList.add("lyteDraggableElem");var y=r.getData("placeholder"),f=m.length*g;f>y.getBoundingClientRect().height&&(document.getElementById("sortableSec").contains(document.getElementById("dummy"))&&document.getElementById("sortableSec").removeChild(document.getElementById("dummy")),r.getData("ltPropDraggable")&&document.getElementById("dropSec").contains(document.getElementById("dummy"))&&document.getElementById("dropSec").removeChild(document.getElementById("dummy")),y.style.height=f+"px",y.classList.add("lyteDragDropDropable"),r.setData("placeholder",y),n.parentElement.insertBefore(r.getData("placeholder"),n));var b=r.getTopNBottom("top"),D=r.getTopNBottom("bottom"),v=(y.getBoundingClientRect(),y.parentElement.getBoundingClientRect());if(c=n.getBoundingClientRect(),b<v.top&&y.parentElement.scrollTop>0&&y.parentElement.scrollTop<=y.parentElement.scrollHeight-v.height&&(y.parentElement.scrollTop-=v.top-b),D>v.bottom&&y.parentElement.scrollTop<=y.parentElement.scrollHeight-v.height&&(y.parentElement.scrollTop+=D-v.bottom),r.makeDroppableMultiple(m),elementAtLeft=document.elementFromPoint(c.left-1,e.clientY),elementAtRight=document.elementFromPoint(c.right+1,e.clientY),dropablePlaceLeft=elementAtLeft.closest(".dropable"),dropablePlaceRight=elementAtRight.closest(".dropable"),!r.getData("left")&&dropablePlaceLeft&&c.left<dropablePlaceLeft.getBoundingClientRect().right-c.width/2)c.bottom>dropablePlaceLeft.getBoundingClientRect().bottom?dropablePlaceLeft.after(y):dropablePlaceLeft.parentElement.insertBefore(y,dropablePlaceLeft),r.setData("left",!0),r.setData("right",!1),i="left";else if(!r.getData("right")&&dropablePlaceRight&&c.right>dropablePlaceRight.getBoundingClientRect().left+c.width/2)c.bottom>dropablePlaceRight.getBoundingClientRect().bottom?dropablePlaceRight.after(y):dropablePlaceRight.parentElement.insertBefore(y,dropablePlaceRight),r.setData("right",!0),r.setData("left",!1),i="right";else if(elementAtLeft&&r.checkElement(elementAtLeft)&&r.checkPossiblePosition(elementAtLeft,"multiple")&&c.left<elementAtLeft.getBoundingClientRect().right-c.width/2)elementAtLeft.appendChild(y),r.setData("left",!1),r.setData("right",!1);else if(elementAtRight&&r.checkElement(elementAtRight)&&r.checkPossiblePosition(elementAtRight,"multiple")&&c.right>elementAtRight.getBoundingClientRect().left+c.width/2)elementAtRight.appendChild(y),r.setData("left",!1),r.setData("right",!1);else if(b<o){if(!(l="left"==i?document.elementFromPoint(c.left,b-1):"right"==i?document.elementFromPoint(c.right,b-1):document.elementFromPoint(e.clientX,b-1)))return;if((a=l.closest(".dropable"))&&(c.left>a.parentElement.getBoundingClientRect().right-c.width/2||c.right<a.parentElement.getBoundingClientRect().left+c.width/2))return;a&&a!=r.$node.querySelector("#dummy")&&b<a.getBoundingClientRect().bottom-16&&a.parentElement.insertBefore(y,a),"sortableSec"!==l.id&&"dropSec"!==l.id||!r.checkIfDroppable(l,"multiple")||l.appendChild(y)}else{if(!(l="left"==i?document.elementFromPoint(c.left,D+1):"right"==i?document.elementFromPoint(c.right,D+1):document.elementFromPoint(e.clientX,D+1)))return;if((a=l.closest(".dropable"))&&(c.left>a.parentElement.getBoundingClientRect().right-c.width/2||c.right<a.parentElement.getBoundingClientRect().left+c.width/2))return;a&&a!=r.$node.querySelector("#dummy")&&D>=a.getBoundingClientRect().top+16&&a.after(y),"sortableSec"!==l.id&&"dropSec"!==l.id||!r.checkIfDroppable(l,"multiple")||l.appendChild(y)}o=b}else{v=(y=r.getData("placeholder")).parentElement.getBoundingClientRect();if((c=n.getBoundingClientRect()).top<v.top&&y.parentElement.scrollTop>0&&y.parentElement.scrollTop<=y.parentElement.scrollHeight-v.height&&(y.parentElement.scrollTop-=v.top-c.top),c.bottom>v.bottom&&y.parentElement.scrollTop<=y.parentElement.scrollHeight-v.height&&(y.parentElement.scrollTop+=c.bottom-v.bottom),r.makeDroppable(n),elementAtLeft=document.elementFromPoint(c.left-1,e.clientY),elementAtRight=document.elementFromPoint(c.right+1,e.clientY),droppableLeft=elementAtLeft.closest(".dropable"),droppableRight=elementAtRight.closest(".dropable"),maxAllowableWidth=c.width/2,droppableLeft&&c.left<droppableLeft.getBoundingClientRect().right-maxAllowableWidth)c.bottom>droppableLeft.getBoundingClientRect().bottom?droppableLeft.after(y):droppableLeft.parentElement.insertBefore(y,droppableLeft);else if(droppableRight&&c.right>droppableRight.getBoundingClientRect().left+maxAllowableWidth)c.bottom>droppableRight.getBoundingClientRect().bottom?droppableRight.after(y):droppableRight.parentElement.insertBefore(y,droppableRight);else if(elementAtLeft&&r.checkElement(elementAtLeft)&&r.checkPossiblePosition(elementAtLeft,"single")&&c.left<elementAtLeft.getBoundingClientRect().right-maxAllowableWidth)elementAtLeft.appendChild(y);else if(elementAtRight&&r.checkElement(elementAtRight)&&r.checkPossiblePosition(elementAtRight,"single")&&c.right>elementAtRight.getBoundingClientRect().left+maxAllowableWidth)elementAtRight.appendChild(y);else{if(n.style.visibility="hidden",l=document.elementFromPoint(e.clientX,e.clientY),n.style.visibility="visible",!l)return;if((a=l.closest(".dropable"))&&(c.left>a.getBoundingClientRect().right-maxAllowableWidth||c.right<a.getBoundingClientRect().left+maxAllowableWidth))return;a&&a!=r.$node.querySelector("#dummy")&&(c.top<a.getBoundingClientRect().top&&a.parentElement.insertBefore(y,a),c.bottom>a.getBoundingClientRect().bottom&&a.after(y)),"sortableSec"!==l.id&&"dropSec"!==l.id||!r.checkIfDroppable(l,"single")||l.appendChild(y)}r.getData("placeholder").classList.add("lyteDragDropDropable")}r.onDragFunction(e)}},!1),document.addEventListener("keydown",function(e){for(var t=document.querySelectorAll("lyte-dragdrop"),l=0;l<t.length;l++){var a=t[l].component;a.setData("keyPressed",!0);var i=e.which;a.setData("keyValue",i)}},!1),document.addEventListener("keyup",function(e){for(var t=document.querySelectorAll("lyte-dragdrop"),l=0;l<t.length;l++){var a=t[l].component;a.setData("keyPressed",!1),a.setData("keyValue",0)}},!1)}Lyte.Component.register("lyte-dragdrop",{_template:'<template tag-name="lyte-dragdrop">\n\t<div class="lyteDragDropFields">\n\t\t<div class="lyteDragDropColumns">\n\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t<span class="lyteDragDropHeading">{{ltPropAvailableLabel}}</span>\t\n\t\t\t\t<div class="lyteDragDropAvailable">\n\t\t\t\t\t<span class="lyteSelectedNone" id="AvailableNone">{{ltPropAvailablelistEmptyMessage}}</span>\n\t\t\t\t\t<template is="if" value="{{ltPropEnableSearch}}">\n\t\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lytePosRel">\n\t\t\t\t\t\t<lyte-search style="display: block;" lt-prop-style="{{ltPropSearchStyle}}" lt-prop-query-selector="{{querySelector}}" lt-prop-appearance="box" lt-prop-error="{{ltPropErrorMessage}}" lt-prop-width="464px"></lyte-search>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n                    <template case="false">\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec" style="height: 336px;">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template is="if" value="{{ltPropDraggable}}">\n\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t\t\t<span class="lyteDragDropHeading">{{ltPropSelectedLabel}}</span>\t\n\t\t\t\t\t\t<div class="lyteDragDropSelected">\n\t\t\t\t\t\t\t<span class="lyteSelectedNone" id="SelectedNone">{{ltPropSelectedlistEmptyMessage}}</span>\n\t\t\t\t\t\t\t<ul class="lyteSelectedUL" id="dropSec">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropSelectedlist}}" item="item">\n\t\t                     \t<li data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n\t\t                     \t\t<span>{{item.name}}</span>\n\t\t                     \t\t<template is="if" value="{{ltPropEnableIcon}}">\n\t\t                     \t\t\t<template case="true"><span class="lyteDragDropRemove"></span></template>\n\t\t                     \t\t</template>\n\t\t                     \t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>',_dynamicNodes:[{type:"text",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3,1,0]},{type:"attr",position:[1,1,1,3,3]},{type:"if",position:[1,1,1,3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,1,0]},{type:"attr",position:[1,3,3,1]},{type:"for",position:[1,3,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}}],_observedAttributes:["ltPropAvailablelist","ltPropSelectedlist","ltPropMultiselect","ltPropEnableSearch","ltPropEnableIcon","ltPropDraggable","ltPropErrorMessage","ltPropAvailablelistEmptyMessage","ltPropSelectedlistEmptyMessage","ltPropSearchStyle","ltPropAvailableLabel","ltPropSelectedLabel","clickCount","component","placeholder","div","offset","isDown","isMoved","top","bottom","prevScrollTop","multiSelectedItems","keyPressed","keyValue","prevMode","checkSelection","querySelector","left","right","availableList","selectedList","checkOnDidconnect","draggedItems"],init:function(){this.getData("ltPropErrorMessage")||this.setData("ltPropErrorMessage",_lyteUiUtils.i18n("no.results.found")),this.setData("ltPropAvailableLabel",_lyteUiUtils.i18n("Available")),this.setData("ltPropSelectedLabel",_lyteUiUtils.i18n("Selected"))},didConnect:function(){for(var e=document.querySelectorAll("lyte-dragdrop"),t=0;t<e.length;t++)if(e[t]==this.$node){this.$node.querySelector("#sortableSec").classList.add("searchable"+t),this.setData("querySelector",{scope:".searchable"+t,target:".filterlabel",search:".item"});break}this.setData("checkOnDidconnect",!0)},data:function(){return{ltPropAvailablelist:Lyte.attr("array",{default:[]}),ltPropSelectedlist:Lyte.attr("array",{default:[]}),ltPropMultiselect:Lyte.attr("boolean",{default:!0}),ltPropEnableSearch:Lyte.attr("boolean",{default:!0}),ltPropEnableIcon:Lyte.attr("boolean",{default:!0}),ltPropDraggable:Lyte.attr("boolean",{default:!0}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropAvailablelistEmptyMessage:Lyte.attr("string",{default:"Empty List"}),ltPropSelectedlistEmptyMessage:Lyte.attr("string",{default:"Drop Here"}),ltPropSearchStyle:Lyte.attr("string",{default:""}),ltPropAvailableLabel:Lyte.attr("string"),ltPropSelectedLabel:Lyte.attr("string"),clickCount:Lyte.attr("number",{default:0}),component:Lyte.attr("object",{default:null}),placeholder:Lyte.attr("object",{default:null}),div:Lyte.attr("object",{default:null}),offset:Lyte.attr("array",{default:[0,0]}),isDown:Lyte.attr("boolean",{default:!1}),isMoved:Lyte.attr("boolean",{default:!1}),top:Lyte.attr("number",{default:0}),bottom:Lyte.attr("number",{default:0}),prevScrollTop:Lyte.attr("number",{default:0}),multiSelectedItems:Lyte.attr("array",{default:[]}),keyPressed:Lyte.attr("boolean",{default:!1}),keyValue:Lyte.attr("number",{default:0}),prevMode:Lyte.attr("string",{default:""}),checkSelection:Lyte.attr("boolean",{default:!1}),querySelector:Lyte.attr("object",{default:{scope:"#sortableSec",target:".filterlabel",search:".item"}}),left:Lyte.attr("boolean",{default:!1}),right:Lyte.attr("boolean",{default:!1}),availableList:Lyte.attr("array",{default:[]}),selectedList:Lyte.attr("array",{default:[]}),checkOnDidconnect:Lyte.attr("boolean",{default:!1}),draggedItems:Lyte.attr("array",{default:[]})}},makeDroppable:function(e){var t=this.$node.querySelectorAll("#sortableSec>li"),l=this.$node.querySelectorAll("#dropSec>li");if(t.length>0)for(var a=0;a<t.length;a++)t[a]!==e&&t[a].classList.add("dropable");if(l.length>0)for(a=0;a<l.length;a++)l[a]!==e&&l[a].classList.add("dropable")},showMsgForEmpty:function(){this.getData("ltPropAvailablelist").length>0&&(this.$node.querySelector("#AvailableNone").style.visibility="hidden"),0==this.getData("ltPropAvailablelist").length&&(this.$node.querySelector("#AvailableNone").style.visibility="visible"),this.getData("ltPropDraggable")&&(0==this.getData("ltPropSelectedlist").length&&(this.$node.querySelector("#SelectedNone").style.visibility="visible"),this.getData("ltPropSelectedlist").length>0&&(this.$node.querySelector("#SelectedNone").style.visibility="hidden"))}.observes("ltPropAvailablelist.[]","ltPropSelectedlist.[]","checkOnDidconnect"),removeDropable:function(e){var t=this.$node.querySelectorAll("#sortableSec>li"),l=this.$node.querySelectorAll("#dropSec>li");if(t.length>0)for(var a=0;a<t.length;a++)t[a]!==e&&t[a].classList.remove("dropable");if(l.length>0)for(a=0;a<l.length;a++)l[a]!==e&&l[a].classList.remove("dropable")},generateArray:function(){var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),t=Array.from(this.$node.querySelectorAll("#dropSec>li"));ltPropAvailablelist=[],ltPropSelectedlist=[];for(var l=1;l<=e.length;l++){(a=this.getElement(e[l-1]))&&(a.pos=l,ltPropAvailablelist.push(a))}for(l=1;l<=t.length;l++){var a;(a=this.getElement(t[l-1])).pos=l,ltPropSelectedlist.push(a)}this.setData("availableList",ltPropAvailablelist),this.setData("selectedList",ltPropSelectedlist)},removeClass:function(){for(var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),t=Array.from(this.$node.querySelectorAll("#dropSec>li")),l=0;l<e.length;l++)e[l].classList.contains("lyteDraggableElem")&&e[l].classList.remove("lyteDraggableElem");for(l=0;l<t.length;l++)t[l].classList.contains("lyteDraggableElem")&&t[l].classList.remove("lyteDraggableElem")},positionalPush:function(e,t){for(var l=this.getData("multiSelectedItems"),a=0,i=0;i<l.length&&!(l[i].offsetTop>e.offsetTop);i++)++a;l.splice(a,0,e),this.setData("multiSelectedItems",l)},addToArray:function(e,t){if("single"===t){var l=[];if((n=this.getData("multiSelectedItems")).length>0){var a=Array.from(this.$node.querySelectorAll("#sortableSec>li")),i=Array.from(this.$node.querySelectorAll("#dropSec>li")),o=n[n.length-1];if(-1==(d=a.indexOf(o)))d=i.indexOf(o),-1==(c=i.indexOf(e))?(this.setData("multiSelectedItems",l),this.removeClass(),this.addToArray(e,t)):(this.positionalPush(e),e.classList.contains("lyteDraggableElem")||e.classList.add("lyteDraggableElem"));else-1==(c=a.indexOf(e))?(this.setData("multiSelectedItems",l),this.removeClass(),this.addToArray(e,t)):(this.positionalPush(e),e.classList.contains("lyteDraggableElem")||e.classList.add("lyteDraggableElem"))}else this.getData("multiSelectedItems").push(e),e.classList.contains("lyteDraggableElem")||e.classList.add("lyteDraggableElem");this.setData("prevMode",t)}if("multiple"==t){if("multiple"==this.getData("prevMode")||""==this.getData("prevMode")){this.removeClass();var r=[];a=Array.from(this.$node.querySelectorAll("#sortableSec>li")),i=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==(c=a.indexOf(e))){c=i.indexOf(e);for(var s=0;s<=c;s++)r.push(i[s]),i[s].classList.add("lyteDraggableElem")}else for(s=0;s<=c;s++)r.push(a[s]),a[s].classList.add("lyteDraggableElem");this.setData("multiSelectedItems",r)}if("single"==this.getData("prevMode")){var n;a=Array.from(this.$node.querySelectorAll("#sortableSec>li")),i=Array.from(this.$node.querySelectorAll("#dropSec>li"));if((n=this.getData("multiSelectedItems")).length>0){var d,c;o=n[n.length-1];if(-1==(d=a.indexOf(o))){if(d=i.indexOf(o),-1==(c=i.indexOf(e)))this.setData("prevMode",t),this.removeClass(),this.addToArray(e,t);else if(-1!=d)if(d<=c)for(s=d;s<=c;s++)-1==n.indexOf(i[s])&&(i[s].classList.add("lyteDraggableElem"),this.positionalPush(i[s]));else for(s=c;s<=d;s++)-1==n.indexOf(i[s])&&(i[s].classList.add("lyteDraggableElem"),this.positionalPush(i[s]))}else if(-1===(c=a.indexOf(e)))this.setData("prevMode",t),this.removeClass(),this.addToArray(e,t);else if(-1!=d)if(d<=c)for(s=d;s<=c;s++)-1==n.indexOf(a[s])&&(a[s].classList.add("lyteDraggableElem"),this.positionalPush(a[s]));else for(s=c;s<=d;s++)-1==n.indexOf(a[s])&&(a[s].classList.add("lyteDraggableElem"),this.positionalPush(a[s]))}else this.setData("prevMode",t),this.removeClass(),this.addToArray(e,t)}this.setData("prevMode",t)}},removeFromArray:function(e){if(this.getData("multiSelectedItems").length>0){var t=this.getData("multiSelectedItems").indexOf(e);this.getData("multiSelectedItems").splice(t,1)}},getTopNBottom:function(e){return"top"===e?this.getData("multiSelectedItems")[0].getBoundingClientRect().top:"bottom"==e?this.getData("multiSelectedItems")[this.getData("multiSelectedItems").length-1].getBoundingClientRect().bottom:void 0},makeDroppableMultiple:function(e){var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),l=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==t.indexOf(e[0])){if(t.length>0)for(var a=0;a<t.length;a++)t[a].classList.add("dropable");if(l.length>0)for(a=0;a<l.length;a++){flag=!1;for(var i=0;i<e.length;i++)if(l[a]==e[i]){flag=!0;break}flag||l[a].classList.add("dropable")}}else{if(t.length>0)for(a=0;a<t.length;a++){flag=!1;for(i=0;i<e.length;i++)if(t[a]==e[i]){flag=!0;break}flag||t[a].classList.add("dropable")}if(l.length>0)for(a=0;a<l.length;a++)l[a].classList.add("dropable")}},removeDropableMultiple:function(e){var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),l=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==t.indexOf(e[0])){if(t.length>0)for(var a=0;a<t.length;a++)t[a].classList.remove("dropable");if(l.length>0)for(a=0;a<l.length;a++){flag=!1;for(var i=0;i<e.length;i++)if(l[a]==e[i]){flag=!0;break}flag||l[a].classList.remove("dropable")}}else{if(t.length>0)for(a=0;a<t.length;a++){flag=!1;for(i=0;i<e.length;i++)if(t[a]==e[i]){flag=!0;break}flag||t[a].classList.remove("dropable")}if(l.length>0)for(a=0;a<l.length;a++)l[a].classList.remove("dropable")}},checkElement:function(e){return e==this.$node.querySelector("#sortableSec")||e==this.$node.querySelector("#dropSec")},checkPossiblePosition:function(e,t){var l=Array.from(this.$node.querySelectorAll("#"+e.id+" > li"));if("single"==t){if(!(l.length>0))return!0;var a=l[l.length-1];if(this.getData("div").getBoundingClientRect().top>a.getBoundingClientRect().bottom)return!0}if("multiple"==t){if(!(l.length>0))return!0;a=l[l.length-1];if(this.getTopNBottom("top")>a.getBoundingClientRect().bottom)return!0}return!1},checkIfDroppable:function(e,t){if("multiple"===t){var l=this.getData("multiSelectedItems");if(l[0].parentElement.id===e.id&&"sortableSec"===e.id&&e.querySelectorAll("li").length===l.length&&l[0].getBoundingClientRect().left<e.getBoundingClientRect().left+l[0].getBoundingClientRect().width/2)return!0;if(l[0].parentElement.id===e.id&&"dropSec"===e.id&&e.querySelectorAll("li").length===l.length&&l[0].getBoundingClientRect().right>e.getBoundingClientRect().right-l[0].getBoundingClientRect().width/2)return!0}if("single"===t){var a=this.getData("div");if(a.parentElement.id===e.id&&"sortableSec"===e.id&&1===e.querySelectorAll("li").length&&a.getBoundingClientRect().left<e.getBoundingClientRect().left+a.getBoundingClientRect().width/2)return!0;if(a.parentElement.id===e.id&&"dropSec"===e.id&&1===e.querySelectorAll("li").length&&a.getBoundingClientRect().right>e.getBoundingClientRect().right-a.getBoundingClientRect().width/2)return!0}return!1},appendElement:function(e,t){var l,a=e.target;if("span"==t)a.classList.contains("lyteDragDropAdd")&&this.onClickFunction(e,this.getElement(a.parentElement),"availableList")&&(l=this.getElement(a.parentElement),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),l),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",l),l=null,this.generateArray(),this.onDropFunction(e)),a.classList.contains("lyteDragDropRemove")&&this.onClickFunction(e,this.getElement(a.parentElement),"selectedList")&&(l=this.getElement(a.parentElement),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),l),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",l),l=null,this.generateArray(),this.onDropFunction(e));else for(;a;){if(a.parentElement&&"sortableSec"==a.parentElement.id&&this.onClickFunction(e,this.getElement(a),"availableList")){l=this.getElement(a),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),l),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",l),l=null,this.generateArray(),this.onDropFunction(e);break}if(a.parentElement&&"dropSec"==a.parentElement.id&&this.onClickFunction(e,this.getElement(a),"selectedList")){l=this.getElement(a),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),l),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",l),l=null,this.generateArray(),this.onDropFunction(e);break}a=a.parentElement}},removeStyle:function(e){e.style.left="",e.style.top="",e.style.boxSizing="",e.style.width="",e.style.height="",e.style.position="",e.style.visibility=""},getElement:function(e){return e.dataset.propvalue?JSON.parse(e.dataset.propvalue):null},getElementPosition:function(e,t){for(var l=0;l<e.length;l++){var a=!0;for(var i in e[l])if(e[l][i]!=t[i]){a=!1;break}if(a)return l}return-1},hideOrShowMessageOnEmpty:function(e,t){"availableList"==e?this.getData("ltPropAvailablelist").length>0?this.$node.querySelector("#AvailableNone").style.visibility="hidden":(t&&(this.$node.querySelector("#AvailableNone").innerHTML=t),this.$node.querySelector("#AvailableNone").style.visibility="visible"):"selectedList"==e&&(this.getData("ltPropSelectedlist").length>0?this.$node.querySelector("#SelectedNone").style.visibility="hidden":(t&&(this.$node.querySelector("#SelectedNone").innerHTML=t),this.$node.querySelector("#SelectedNone").style.visibility="visible"))},selectFunction:function(e,t){var l,a="sortableSec"==t.parentElement.id?"availableList":"selectedList";return this.getMethods("onSelect")&&(l=this.executeMethod("onSelect",e,this.getElement(t),this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),a)),void 0==l||l},onDragFunction:function(e){var t;t=this.getData("ltPropMultiselect")?this.getData("multiSelectedItems"):this.getData("div"),this.getMethods("onDrag")&&this.executeMethod("onDrag",e,t)},onBeforeDropFunction:function(e){var t,l=[];if(this.getData("ltPropMultiselect"))for(var a=0;a<this.getData("multiSelectedItems").length;a++)l.push(this.getElement(this.getData("multiSelectedItems")[a]));else l.push(this.getElement(this.getData("div")));return this.setData("draggedItems",l),this.getMethods("onBeforeDrop")&&(t=this.executeMethod("onBeforeDrop",e,l,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"))),void 0==t||t},onDropFunction:function(e){this.getMethods("onDrop")&&this.executeMethod("onDrop",e,this.getData("draggedItems"),this.getData("availableList"),this.getData("selectedList"))},onClickFunction:function(e,t,l){var a,i=[];return i.push(t),this.setData("draggedItems",i),this.getMethods("onClick")&&(a=this.executeMethod("onClick",e,t,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),l)),void 0==a||a},actions:{mouseDown:function(e){if(3!=e.which&&(e.preventDefault(),3!=e.which)){var t=this.getData("clickCount");t++,this.setData("clickCount",t);var l,a=this;if(1===t)singleClickTimer=setTimeout(function(){t=0,a.setData("clickCount",t)},400);else if(2===t)return clearTimeout(singleClickTimer),t=0,this.setData("clickCount",t),void this.appendElement(e);var i=e.target;if(i.classList.contains("lyteDragDropAdd")?this.appendElement(e,"span"):i.classList.contains("lyteDragDropRemove")?this.appendElement(e,"span"):l="span"==i.tagName.toLowerCase()?e.target.parentElement:e.target,l&&this.selectFunction(e,l)){var o=l.getBoundingClientRect(),r=l.offsetParent.getBoundingClientRect(),s=l.clientHeight,n=l.clientWidth,d=this.getData("multiSelectedItems");if(this.getData("ltPropMultiselect")){if(d.length>0&&-1!=d.indexOf(l)){this.setData("offset",[e.clientX-o.left,e.clientY-o.top]),this.setData("div",l);var c=this.getData("div");s=l.clientHeight,n=l.clientWidth;c.style.left=o.left-r.left+"px",c.style.top=o.top-r.top+"px",c.style.boxSizing="border-box",c.style.width=n+"px",c.style.height=s+"px",c.style.position="absolute",c.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(g=this.getData("placeholder")).setAttribute("id","dummy"),g.style.width=n+"px",g.style.height=s+"px",g.style.boxSizing="border-box",c.parentNode.insertBefore(g,c),this.setData("checkSelection",!0)}else{var p=this.getData("keyValue");91==p||93==p||224==p?l.classList.contains("lyteDraggableElem")?(l.classList.remove("lyteDraggableElem"),this.removeFromArray(l)):(l.classList.add("lyteDraggableElem"),this.addToArray(l,"single")):16==p?l.classList.contains("lyteDraggableElem")?(l.classList.remove("lyteDraggableElem"),this.addToArray(l,"multiple")):(l.classList.add("lyteDraggableElem"),this.addToArray(l,"multiple")):0==p&&(l.classList.contains("lyteDraggableElem")?("multiple"==this.getData("prevMode")?(this.removeClass(),this.setData("multiSelectedItems",[]),l.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(l)):(l.classList.remove("lyteDraggableElem"),this.removeFromArray(l)),this.setData("prevMode","single")):(this.removeClass(),this.setData("multiSelectedItems",[]),l.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(l),this.setData("prevMode","single"))),this.setData("offset",[e.clientX-o.left,e.clientY-o.top]),this.setData("div",l);c=this.getData("div"),s=l.clientHeight,n=l.clientWidth;c.style.left=o.left-r.left+"px",c.style.top=o.top-r.top+"px",c.style.boxSizing="border-box",c.style.width=n+"px",c.style.height=s+"px",c.style.position="absolute",c.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(g=this.getData("placeholder")).setAttribute("id","dummy"),g.style.width=n+"px",g.style.height=s+"px",g.style.boxSizing="border-box",c.parentNode.insertBefore(g,c)}this.setData("isDown",!0)}else{this.removeClass(),l.classList.add("lyteDraggableElem"),this.setData("offset",[e.clientX-o.left,e.clientY-o.top]);this.setData("div",l);var g;c=this.getData("div");this.setData("isDown",!0),c.style.left=o.left-r.left+"px",c.style.top=o.top-r.top+"px",c.style.boxSizing="border-box",c.style.width=n+"px",c.style.height=s+"px",c.style.position="absolute",c.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(g=this.getData("placeholder")).setAttribute("id","dummy"),g.style.width=n+"px",g.style.height=s+"px",g.style.boxSizing="border-box",c.parentNode.insertBefore(g,c)}}}},mouseOver:function(e){var t;(t="span"==e.target.tagName.toLowerCase()?e.target.parentElement:e.target).classList.contains("lyteDraggableElem")?("sortableSec"==t.parentElement.id&&t.querySelector(".lyteDragDropAdd")&&(t.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==t.parentElement.id&&t.querySelector(".lyteDragDropRemove")&&(t.querySelector(".lyteDragDropRemove").style.visibility="hidden")):("sortableSec"==t.parentElement.id&&t.querySelector(".lyteDragDropAdd")&&(t.querySelector(".lyteDragDropAdd").style.visibility="visible"),"dropSec"==t.parentElement.id&&t.querySelector(".lyteDragDropRemove")&&(t.querySelector(".lyteDragDropRemove").style.visibility="visible"))},mouseOut:function(e){"span"==e.target.tagName.toLowerCase()?target=e.target.parentElement:target=e.target,"sortableSec"==target.parentElement.id&&target.querySelector(".lyteDragDropAdd")&&(target.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==target.parentElement.id&&target.querySelector(".lyteDragDropRemove")&&(target.querySelector(".lyteDragDropRemove").style.visibility="hidden")}}}),"complete"===document.readyState||"interactive"===document.readyState?addEvent():document.addEventListener("DOMContentLoaded",function(e){addEvent(e)});